!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter"]);d.controller("findPwCtrl",["$scope","$filter","$sce","$http","$window","LotteCommon","LotteUtil","commInitData",function(a,b,c,d,e,f,g,h){a.showWrap=!0,a.contVisible=!0,a.subTitle="비밀번호 찾기",a.actionBar=!0,a.screenID="FindPWD",a.hpno_1="",a.hpno_2="",a.hpno_3="",a.requestAgent=navigator.userAgent,a.schema=null!=h.query.schema?h.query.schema:"",$.ajax({type:"post",async:!1,url:f.simpleSignMemberIdFindUrl,success:function(b){a.hp_list=b},error:function(a){console.debug("핸드폰 국번 로딩 실패")}})}]),d.directive("lotteContainer",["LotteUtil","LotteCommon","$timeout",function(b,c,d){return{templateUrl:"/lotte/resources_dev/login/find_pw_container.html",replace:!0,link:function(e,f,g){e.fn_SendEmail=function(){if(b.notKorWordCheck($("#login_id"),$("#login_id").val())&&b.korWordCheck($("#mbr_name"),$("#mbr_name").val())&&b.numWordCheck($("#hpno_2"),$("#hpno_2").val())&&b.numWordCheck($("#hpno_3"),$("#hpno_3").val())){var a=$("select[name=hpno_1]").val(),d=$("input[name=hpno_2]").val()+$("input[name=hpno_3]").val(),f=$("#login_id").val(),g=$("#mbr_name").val(),h="";h+="&cell_sct_no="+a,h+="&cell_no="+a+d,h+="&re_send_sms_yn=",h+="&mksh_cert_sn="+f,h+="&cert_no="+g,h+="&certGubun=3",$.ajax({type:"post",async:!1,url:c.simpleSignMemberCertificationUrl+"?"+e.baseParam,data:h,success:function(a){a=a.result,"fail"!=a&&"chkEmail"!=a&&"chkCell"!=a?(e.mbr_no=a,$("#mbr_no").val(a),e.next()):"chkEmail"==a?alert("이메일 주소를 다시 입력해 주세요."):"chkCell"==a?alert("휴대폰 번호를 다시 입력해 주세요."):alert("입력한 정보로 가입된 회원을 찾을 수 없습니다. \n정보를 확인해 주세요.")},error:function(a){alert("에러 발생 :"+a)}})}},e.next=function(){var a=f.find("#findMemberForm");a.attr("action",c.simpleSignMemberPWFindAfter+"?"+e.baseParam),d(function(){a.submit()},1e3)},e.goFamilySite=function(d){if("N"==e.joinBtnViewYn){var f=/iphone|ipad/gi.test(navigator.appVersion);if("mem_reg"==d&&f)return void alert("죄송합니다. 일시적으로 닷컴/엘롯데 PC를 통해서만 회원가입이 가능합니다.")}var g="member.lpoint.com/door/user/mobile/",h=encodeURIComponent((""==e.schema?c.baseUrl:e.schema+c.baseUrl.replace("http",""))+"/"+(b.isSmp()?"main_smp.do":"main.do")+e.baseParam,"UTF-8"),i="",j="";j=""==e.schema?encodeURIComponent(a.location.href,"UTF-8"):a.location.href.replace(/^http(s)?/,e.schema),"id"==d?i="requestId.jsp":"passwd"==d?i="requestPasswd.jsp":"mem_reg"==d&&(i="login_common.jsp"),g+=i+"?sid="+b.getLoginSeed()+"&returnurl="+j+"&main_url="+h,g+="&sch="+e.schema;var k=navigator.userAgent;""!=e.schema?b.boolAppInstall(k)?a.location="family://"+g:b.boolAndroid(k)&&a.myJs.callAndroid("https://"+g):a.open("https://"+g,"family")}}}}]),d.directive("inputMaxLengthNumber",function(){return{require:"ngModel",restrict:"A",link:function(a,b,c,d){function e(a){var b=Number(c.maxlength);return String(a).length>b?(d.$setViewValue(d.$modelValue),d.$render(),d.$modelValue):a}d.$parsers.push(e)}}})}(window,window.angular);
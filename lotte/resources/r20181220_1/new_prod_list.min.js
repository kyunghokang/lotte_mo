!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteUtil","lotteSideCtg","lotteCommFooter","lotteProduct","lotteNgSwipe","lotteVideo","cateSideFilter","searchPlanShop","searchDetailPopup"]);d.controller("CateProdListCtrl",["$window","$location","$http","$scope","$timeout","$filter","LotteStorage","LotteCommon","commInitData",function(a,b,d,e,f,g,h,i,j){function k(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}e.showWrap=!0,e.contVisible=!0,e.productMoreScroll=!0,e.screenID="side_cate_catesmall",e.subTitle="",e.templateType="cate_prod_normal",e.currentItem=1,e.totalItem=0,e.tClickBase="m_RDC_",(e.screenDataReset=function(){e.pageOptions={selectCategory:0,selectCategoryCode:"",selectCategoryParentNo:0,selectCategoryDepth:1},e.screenData={idx:"",mGrpNo:""}})(),j.query.mGrpNo!=c&&(e.screenData.mGrpNo=j.query.mGrpNo),j.query.curDispNo!=c&&(e.pageOptions.selectCategory=j.query.curDispNo),j.query.disp_no!=c&&(e.pageOptions.selectCategory=j.query.disp_no),j.query.idx!=c&&(e.screenData.idx=j.query.idx),e.curDispNo=e.pageOptions.selectCategory,e.curDispNoSctCd=73,e.cateViewFlag=!1,e.cateView=function(){e.sendTclick("m_DC_new_prod_list_Clk_Ttl"),e.cateViewFlag=!e.cateViewFlag},e.cateDepth1="",e.cateDepth2="",e.depthCurDispNo="",e.paramTitle=k("cateDepth1"),e.paramSubTitle=k("cateDepth2"),e.paramCurDispNo=k("curDispNo"),e.paramCurDispNo2=k("curDispNo2"),""==k("cateDepth1")?e.cateDepth1="":e.paramTitle.length>=1&&(e.cateDepth1=e.paramTitle),""==k("paramCurDispNo")?e.depthCurDispNo="":e.paramCurDispNo.length>=1&&(e.depthCurDispNo=e.paramCurDispNo),e.paramSubTitle.length>=1&&(e.cateDepth2=e.paramSubTitle),e.paramCurDispNo2.length>=1&&(e.curDispNo=e.paramCurDispNo2);var l=2,m=228;document.body.clientWidth>=640&&(l=3,m=324),document.body.clientWidth>=870&&(l=4),e.imageMargin=-1*parseInt((m-parseInt(document.body.clientWidth/l,10))/2,10)+"px"}]),d.directive("subHeaderProdList",["$window",function(a){return{replace:!0,link:function(c,d,e){function f(){c.appObj.isNativeHeader&&(h=0)}var g=(b.element(d),b.element(a)),h=c.subHeaderHeight;g=b.element(a),h=c.subHeaderHeight,g.on("scroll",function(a){f(),setTimeout(f,300)})}}}]),commModule.directive("scrollCount",["$window","LotteCommon",function(c,d){return{template:'<div ng-show="srhResultData.tCnt && srhResultData.tCnt > 0" class="count_wrap"><span class="count">{{currentItem|number}}/{{srhResultData.tCnt|number}}</span></div>',replace:!0,link:function(d,e,f){b.element(c).on("scroll",function(b){$(".count_wrap").stop().show(),clearTimeout($(".count_wrap").data("scroll")),setTimeout(function(){$(".count_wrap").fadeOut()},1e3),d.totalItem=$(".listWrap ol > li").length;for(var c=-1,e=-1,f=0;f<d.totalItem;f++){var g=$($(".listWrap ol > li")[f]),h=g.offset().top;if(a.scrollY-h<=100&&-1==c&&(c=f,e=a.scrollY-h),-1!=c&&a.scrollY-h<=100&&a.scrollY-h!=e){d.currentItem=f;break}}})}}}]),d.directive("lotteContainer",["$window","LotteCommon",function(a,c){return{templateUrl:"/lotte/resources_dev/category/m/new_prod_list_container.html",replace:!0,link:function(c,d,e){var f=b.element(".srh_terms_wrap_area"),g=f.offset().top,h=b.element(".sub_header_top_wrap").outerHeight();c.getListHeadFixedPose=function(){g-h>b.element(a).scrollTop()?f.removeClass("fixed"):f.addClass("fixed")}}}}])}(window,window.angular),function(a,b,c){"use strict";var d=b.module("cateSideFilter",["lotteComm"]);d.controller("CateSideFilterCtrl",["$scope","LotteCommon",function(a,b){}]),d.directive("cateSideFilter",["LotteCommon","LotteUtil","LotteStorage","$window","$timeout","$http","$location","$filter","commInitData","LotteGA",function(d,e,f,g,h,i,j,k,l,m){return{templateUrl:"/lotte/resources_dev/category/m/cate_side_filter.html",replace:!0,link:function(e,n,o){function p(a,d){if(a!=c&&a.items!=c)if(d.items!=c&&d.items.length>0)for(var f,g,i=d,j=i.ctgNo,k=a.items.length,l=0;k>l;l++){if(f=a.items[l],f.ctgNo==j){if(f.subCtgLst==c){f.subCtgLst=i;var m=((new Date).getTime(),$("#ctg_"+j));m.hasClass("open")||h(function(){e.categoryAccordian(m)},200)}return!0}if(f.subCtgLst!=c&&(g=p(f.subCtgLst,d),g===!0))break}else b.element("#ctg_"+j).addClass("nochild")}function q(){if(null==history.state||"catesub"!=history.state.name)location.host.indexOf("localhost")>=0||history.replaceState({name:"catesub"},"catesub"),e.loadDataParams();else{var a=f.getSessionStorage(e.screenID+"srhLst","json");if(a==c||a.srhResultData==c||"undefined"==typeof a.srhResultData.resultCode){try{console.log("Data Load")}catch(d){}e.loadDataParams()}else{if(location.pathname.indexOf("/category/m/brand_prod_list.do")>-1)return void e.loadDataParams();e.uiStateObj=a.uiStateObj,e.postParams=a.postParams,e.srhResultData=a.srhResultData,e.srhDetailData=a.srhDetailData,(e.isShowLoading||e.productListLoading)&&(e.productListLoading=!1,e.isShowLoading=!1);var i=f.getSessionStorage(e.screenID+"srhLstNowScrollY");h(function(){b.element(g).scrollTop(i)},300),h(function(){e.retriveTemplateType()},100),f.delSessionStorage(e.screenID+"srhLstLoc"),f.delSessionStorage(e.screenID+"srhLst"),f.delSessionStorage(e.screenID+"srhLstNowScrollY")}}b.element(g).on("unload",function(){var a={};a.uiStateObj=e.uiStateObj,a.postParams=e.postParams,a.srhResultData=e.srhResultData,a.srhDetailData=e.srhDetailData,f.setSessionStorage(e.screenID+"srhLstLoc",j.absUrl()),f.setSessionStorage(e.screenID+"srhLst",a,"json"),f.setSessionStorage(e.screenID+"srhLstNowScrollY",b.element(g).scrollTop())}),b.element(g).on("popstate",function(a){e.tipShow=!1,3==e.curSideStatus?e.hideSubSearch():2==e.curSideStatus?e.closeSideSearch():e.searchUISetting.isShowSideBar&&history.back()})}function r(a){a==c&&(a=b.element(".foldable_tab.opened:not(.research)")),a.offset().top<=84?a.addClass("fixtop"):a.removeClass("fixtop")}function s(){var a=b.element(".foldable_tab.opened:not(.research)");a.length>0&&(e.appObj.isIOS?(a.removeClass("fixtop"),clearTimeout(z),z=setTimeout(r,300)):r(a)),b.element(".foldable_tab.fixtop:not(.opened)").removeClass("fixtop")}function t(){var a=[],d=[],f=[],g=[],h=[],i=[],j=[];b.forEach(e.srhResultData.ctgLst.items,function(e){e.subCtgLst!=c&&e.subCtgLst.items!=c&&b.forEach(e.subCtgLst.items,function(a){a.subCtgLst!=c&&a.subCtgLst.items!=c&&b.forEach(a.subCtgLst.items,function(d){d.subCtgLst!=c&&d.subCtgLst.items!=c&&b.forEach(d.subCtgLst.items,function(f){f.subCtgLst!=c&&f.subCtgLst.items!=c&&b.forEach(f.subCtgLst.items,function(b){b.checked===!0&&(e.checked=!1,a.checked=!1,d.checked=!1,f.checked=!1,e.subChecked=!0,a.subChecked=!0,d.subChecked=!0,f.subChecked=!0,h.push(b.ctgNo),i.push(b.ctgName),j.push(b.ctgNo))}),f.checked===!0&&(e.checked=!1,a.checked=!1,d.checked=!1,e.subChecked=!0,a.subChecked=!0,d.subChecked=!0,g.push(f.ctgNo),i.push(f.ctgName),j.push(f.ctgNo))}),d.checked===!0&&(e.checked=!1,a.checked=!1,e.subChecked=!0,a.subChecked=!0,f.push(d.ctgNo),i.push(d.ctgName),j.push(d.ctgNo))}),a.checked===!0&&(e.checked=!1,e.subChecked=!0,d.push(a.ctgNo),i.push(a.ctgName),j.push(a.ctgNo))}),e.checked===!0&&(a.push(e.ctgNo),i.push(e.ctgName),j.push(e.ctgNo))}),e.uiStateObj.srhFilterCtgFlag=i.length>0,e.uiStateObj.selectedCategory.depth1=a,e.uiStateObj.selectedCategory.depth2=d,e.uiStateObj.selectedCategory.depth3=f,e.uiStateObj.selectedCategory.depth4=g,e.uiStateObj.selectedCategory.depth5=h,e.uiStateObj.selectedCategory.ctgName=i,e.postParams.ctgNo=j.join(",")}function u(a,d){if(a!=c&&a.items!=c){var e=a.items;b.forEach(e,function(a){d&&d===a.ctgDepth||(a.checked=!1,a.subChecked=!1,a.subHeight=0),u(a.subCtgLst,d)})}}function v(){var a=f.getSessionStorage(e.screenID+"_fontsize");"1"===a&&b.element("body").addClass("enlargeFont")}e.isShowLoading=!1,e.productListLoading=!1,e.searchTermsLoading=!1,e.searchTermsChanged=!1,e.productMoreScroll=!0,e.tipShow=!1,e.ctgInitFlag=!1,e.firstLoad=!0,e.curSideStatus=1,e.templateType="cate_prod_double",l.query.curDispNo!=c&&(e.curDispNo=l.query.curDispNo),e.uiStateObj={initFlag:!0,srhFilterSelectedIdx:-1,srhFilterCtgDepth1CtgNo:"",srhFilterCtgDepth:0,srhFilterCtgFlag:!1,srhFilterBrdFlag:!1,srhFilterBrdSort:"brdName",srhFilterDetailFlag:!1,srhFilterSortFlag:!1,sortTypeIdx:4,sortTypeArr:[{label:"판매순",shortLabel:"판매순",value:"TOT_ORD_CNT,1",notice:!0,shortIdx:0},{label:"높은가격순",shortLabel:"높은가격",value:"DISP_PRICE,1",shortIdx:4},{label:"낮은가격순",shortLabel:"낮은가격",value:"DISP_PRICE,0",shortIdx:3},{label:"상품평 많은순",shortLabel:"상품평",value:"TOT_REVIEW_CNT,1",shortIdx:1},{label:"MD 추천순",shortLabel:"MD추천순",value:"EXT_CHAR_FT3,0/TOT_ORD_CNT,1/DATE,1",shortIdx:5},{label:"최근등록순",shortLabel:"최근등록",value:"DATE,1",shortIdx:2}],starPointIdx:0,starPointArr:[{label:"전체",value:"",dimm:!1},{label:"4점 이상",value:"4",dimm:!1},{label:"3점 이상",value:"3",dimm:!1},{label:"2점 미만 제외",value:"2",dimm:!1}],srhDetailSearchClicked:!1,priceMinUFocus:!1,priceMaxUFocus:!1,emptyResult:!1,emptyKeyword:!1,emptyPrdLstFlag:!1,ajaxPageEndFlag:!1,smpickLayerOpenFlag:!1,smpickBranchName:"",relatedKeywordNotEmpty:!0,relatedKeywordEnabled:!0,detailSearchDataLoaded:!1,selectedCategory:{depth1:[],depth2:[],depth3:[],depth4:[],depth5:[],ctgName:[]},currentPageType:"C",srhFilterPriceFlag:!1,subTitle:"",brandArr:[],priceOptionOpend:!0,priceInputOpend:!1,arrOpenCtgCd:[],filterCateCnt:0},e.srhDetailPriceValidateFlag=!0,e.searchUISetting={slide:null,lastSlide:"",searchSlide:!0,isShowSideBar:!1,isShowSub:!1,title:"카테고리",keywordIncExc:!1,researchTypeArr:[{label:"포함단어"},{label:"제외단어"}],researchIdx:0,isAndroidChrome:!1,showCSBalloon:!1,smartPickSub:!0,smartPickList:!1},e.URLs={searchList:d.cateListData2018,searchTerm:d.cateTermData2018,subPageCate:d.cateProdListUrl,subPageBrand:d.brandShopSubUrl,subPageSpecial:d.mallSubUrl},e.postParams={rtnType:"",keyword:"",orgKeyword:"",dpml_no:"1",dispCnt:30,page:1,ctgNo:"",ctgDepth:0,dsCtgDepth:0,dtDsCtgDepth:2,dtCtgNo:"",brdNoArr:[],brdNmArr:[],sort:e.uiStateObj.sortTypeArr[0].value,deptYN:"N",tvhomeYN:"N",superYN:"N",brdstoreYN:"N",priceMinU:null,priceMaxU:null,freeInstYN:"N",pointYN:"N",pkgYN:"",freeGiftYN:"",smpickYN:"N",smpBranchNo:"",isCrsPickYn:"N",freeDeliYN:"N",isDlvQuick:"N",isDlvToday:"N",selectedColor:[],selectedColor2:[],selectedStyle:[],shoesSize:"",starPoint:e.uiStateObj.starPointArr[0].value,rekeyword:"",reQuery:[],exQuery:[],brdNm:"",mGrpNo:"",upBrdNo:"",cateNo:"",cateDepth:""},e.srhResultData={},e.srhDetailData={srhTerms:{dept:!1,tvhome:!1,smpick:!1,smpickBranch:[],brdstore:!1,"super":!1,seven:!1,tdar:!1,quick:!1},srhColorList:[],freeGiftYN:!1,freeGiftView:!1,feelListCnt:0,starPoinCnt:0,shoseSizeLst:[],shoseSizeCnt:0},e.showQuick=!1;var w=parseInt(""+(new Date).getHours()+(new Date).getMinutes(),10);if(w>=900&&1630>=w&&(e.showQuick=!0),e.postParams.keyword="",e.postParams.orgKeyword="",l.query.cateNo!=c&&(e.postParams.cateNo=l.query.cateNo),l.query.mGrpNo!=c&&(e.postParams.mGrpNo=l.query.mGrpNo),l.query.upBrdNo!=c&&(e.postParams.upBrdNo=l.query.upBrdNo),l.query.cateDepth!=c&&(e.postParams.cateDepth=l.query.cateDepth),l.query.sort!=c){var x=parseInt(l.query.sort,10);if(!isNaN(x))for(var y=0;y<e.uiStateObj.sortTypeArr.length;y++)if(e.uiStateObj.sortTypeArr[y].shortIdx==x){e.postParams.sort=e.uiStateObj.sortTypeArr[y].value,e.uiStateObj.sortTypeIdx=y;break}}e.ga=function(a,b,c){var d="MO";e.appObj.isApp&&(d="APP"),"sort"===c?m.evtTag(d+"_탐색_검색결과_정렬",a,b):m.evtTag(d+"_탐색_검색결과_필터",a,b)},e.changeTemplate=function(a){switch(e.templateType=a,f.setLocalStorage(e.screenID+"TemplateTypeDC",a),a){case"cate_prod_normal":e.searchTclick2016("C","Clk_Pcto1");break;case"cate_prod_double":e.searchTclick2016("C","Clk_Pcto2");break;case"cate_prod_image":e.searchTclick2016("C","Clk_Pcto3");break;case"cate_prod_single":e.searchTclick2016("C","Clk_Pcto4")}},e.retriveTemplateType=function(){var a=f.getLocalStorage(e.screenID+"TemplateTypeDC");a?e.templateType=a:e.templateType="cate_prod_double"},e.loadMoreData=function(b){$(a).height()!=$(document).height()&&(e.srhResultData.tCnt<=e.srhResultData.prdLst.items.length||(e.postParams.rtnType="P",e.loadDataParams(e.postParams.rtnType)))},e.loadDataParams=function(a,f){if(e.isShowLoading||e.productListLoading||e.searchTermsLoading)return!1;a||(a="");var g={};switch(g.page=1,g.curDispNo=e.postParams.curDispNo,a){case"P":g.page=++e.postParams.page;case"S":g.sort=e.postParams.sort;case"B":case"E":case"C":"Y"==e.postParams.deptYN&&(g.deptYN=e.postParams.deptYN),"Y"==e.postParams.tvhomeYN&&(g.tvhomeYN=e.postParams.tvhomeYN),"Y"==e.postParams.superYN&&(g.superYN=e.postParams.superYN),"Y"==e.postParams.brdstoreYN&&(g.brdstoreYN=e.postParams.brdstoreYN),e.uiStateObj.srhDetailSearchClicked&&(g.priceMinU=e.postParams.priceMinU,g.priceMaxU=e.postParams.priceMaxU),"Y"==e.postParams.freeInstYN&&(g.freeInstYN=e.postParams.freeInstYN),"Y"==e.postParams.pointYN&&(g.pointYN=e.postParams.pointYN),"Y"==e.postParams.pkgYN&&(g.pkgYN=e.postParams.pkgYN),"Y"==e.postParams.freeGiftYN&&(g.freeGiftYN=e.postParams.freeGiftYN),"Y"==e.postParams.smpickYN&&(g.smpickYN=e.postParams.smpickYN),"Y"==e.postParams.smpickYN&&""!=e.postParams.smpBranchNo&&(g.smpBranchNo=e.postParams.smpBranchNo),"Y"==e.postParams.freeDeliYN&&(g.freeDeliYN=e.postParams.freeDeliYN),"Y"==e.postParams.isDlvQuick&&(g.isDlvQuick="Y"),"Y"==e.postParams.isDlvToday&&(g.isDlvToday="Y"),"Y"==e.postParams.isCrsPickYn&&(g.isCrsPickYn="Y"),g.colorCd=e.postParams.selectedColor.join(","),g.feelNo=e.postParams.selectedStyle.join(","),e.postParams.shoesSize&&(g.shoesSize=e.postParams.shoesSize),e.postParams.starPoint&&(g.starPoint=e.postParams.starPoint),e.postParams.brdNoArr&&e.postParams.brdNoArr.length>0&&(g.brdNo=e.postParams.brdNoArr.join());case"K":default:e.postParams.ctgNo&&(g.ctgNo=e.postParams.ctgNo),e.postParams.dsCtgDepth&&(g.dsCtgDepth=e.postParams.dsCtgDepth),g.dtDsCtgDepth=e.postParams.dtDsCtgDepth,g.dtCtgNo=e.postParams.dtCtgNo,g.ctgDepth=e.postParams.ctgDepth,g.rtnType=a,g.keyword="";var h="",i=""+e.postParams.reQuery.join(" ");g.keyword=i,h=""==g.keyword?"":" ";var j=""+e.postParams.exQuery.join(" !");""!=j&&(g.keyword+=h+"!"+j),g.sort=e.postParams.sort,b.element("#rekeyword").blur()}switch(""!=e.postParams.mGrpNo&&(g.mGrpNo=e.postParams.mGrpNo),""!=e.postParams.upBrdNo&&(g.upBrdNo=e.postParams.upBrdNo),"C"==e.uiStateObj.currentPageType&&""==e.postParams.mGrpNo&&l.query.disp_no!=c&&(g.cateNo=l.query.disp_no),g.pageType=e.uiStateObj.currentPageType,e.postParams.brdNm&&""!=e.postParams.brdNm&&(g.brdNm=e.postParams.brdNm),a){case"S":case"P":break;case"E":case"B":default:e.loadTermData(g)}1!=f&&(e.srhDetailSearchActiveChk(),1!=g.page||"TOT_ORD_CNT,1"!=e.postParams.sort||0!=e.uiStateObj.srhFilterDetailFlag||e.postParams.ctgNo||e.uiStateObj.srhFilterBrdFlag||0!=e.postParams.reQuery.length||0!=e.postParams.exQuery.length?e.loadListData(g):(console.log("call adReq",g.page),e.ad_param={query:e.curDispNo,channelId:"D01M02102",startRank:1,maxCnt:3,serverUrl:encodeURIComponent(location.href),mbrId:e.loginInfo.mbrNo,userIp:"",ua:encodeURIComponent(navigator.userAgent),adType:"MLP"},e.ad_list=[],e.timeout_flag=0,setTimeout(function(){0==e.timeout_flag&&(console.log("- 광고솔루션 timeout -"),e.timeout_flag=1,e.loadListData(g))},2e3),$.ajax({type:"get",url:d.adReq,data:e.ad_param,dataType:"json",success:function(a){if(a.ads&&(e.ad_list=a.ads,e.ad_list&&e.ad_list.length>0)){for(var b="",c=0;c<e.ad_list.length;c++)b+=e.ad_list[c].goodsNo,c<e.ad_list.length-1&&(b+=",");g.goodsNoList=b}0==e.timeout_flag&&(e.loadListData(g),e.timeout_flag=1)},error:function(a){console.log("광고솔루션 에러",a),0==e.timeout_flag&&(e.loadListData(g),e.timeout_flag=1)},timeout:2e3}))),e.searchTermsChanged=!0},e.updateColors=function(a){var b,d,f,g=e.postParams.rtnType;if(""==g||"K"==g){if(a==c)return e.srhDetailData.srhColorList=[],void(e.srhDetailData.srhColorList2=[]);b=a.length;var h=[];for(d=0;b>d;d++)f=a[d],f.selected=e.postParams.selectedColor.indexOf(f.colorCd)>=0,f.avail=!0,f.name=f.colorNm,h.push(f);e.srhDetailData.srhColorList=h,e.srhDetailData.srhColorList2=h.concat([])}else{if(e.postParams.selectedColor2=[],e.srhDetailData.srhColorList2.length=0,a==c||a.length<1)return;var i=[];for(b=a.length,d=0;b>d;d++)i.push(a[d].colorCd);var j=e.srhDetailData.srhColorList;for(b=j.length,d=0;b>d;d++)f=j[d],f.avail=i.indexOf(f.colorCd)>=0,f.selected&&f.avail&&e.postParams.selectedColor2.push(f.colorCd),f.avail&&e.srhDetailData.srhColorList2.push(f)}},e.noKeyword=function(){e.uiStateObj.emptyResult=!1,e.uiStateObj.emptyKeyword=!0},e.loadTermData=function(a){var c=b.extend({rtnType:"",keyword:"",dpml_no:"1",dispCnt:30,page:1,cmpsCd:50},a),d=e.URLs.searchTerm;return e.postParams.brdNm&&(c.brdNm=e.postParams.brdNm),e.firstLoad=!1,e.searchTermsLoading?!1:(e.isShowLoading=!0,e.searchTermsLoading=!0,void i.get(d,{params:c}).success(function(a,b,c,d){e.setTreeId(),e.termDataLoadComplete(a),e.searchTermsLoading=!1,e.searchTermsLoading||e.productListLoading||(e.isShowLoading=!1),h(function(){e.retriveTemplateType()},0)}).error(function(a,b,c,d){e.searchTermsLoading=!1,e.searchTermsLoading||e.productListLoading||(e.isShowLoading=!1),h(function(){},0)}))},e.setCtgLstChecked=function(a){if(e.postParams.ctgNo)for(var d=e.postParams.ctgNo.split(","),f=a.length,g=0;f>g;g++){var h=a[g];b.forEach(d,function(a){h.ctgNo==a&&(h.checked=!0)}),h.subCtgLst!=c&&h.subCtgLst.items&&e.setCtgLstChecked(h.subCtgLst.items)}},e.termDataLoadComplete=function(a){if(a.max!=c&&(a=a.max),a.resultCode){switch(e.uiStateObj.subTitle=a.ctgTitle,e.postParams.rtnType){case"":e.srhResultData.keyword=a.keyword,e.postParams.keyword=a.keyword;default:if(a.ctgLst!=c){for(var d={items:[]},f=0;f<a.ctgLst.items.length;f++){var g=a.ctgLst.items[f];d.items.push(g)}e.srhResultData.ctgLst=d}if(a.subCtgLst&&a.subCtgLst.items&&a.subCtgLst.items[0]&&a.subCtgLst.items[0].subCtgLst&&a.subCtgLst.items[0].subCtgLst.items){for(var h=a.subCtgLst.items[0].subCtgLst.items,i=a.subCtgLst.items,j=0;j<i.length;j++){var l=e.postParams.ctgNo.split(","),m=e.postParams.ctgNo;if(l&&(m=l[l.length-1]),i[j].ctgNo==m){h=i[j].subCtgLst,h.ctgNo=i[j].ctgNo;break}}p(e.srhResultData.ctgLst,h)}e.setCtgLstChecked(e.srhResultData.ctgLst.items),e.srhResultData.brdLst==c&&(e.srhResultData.brdLst={},e.srhResultData.brandList={}),a.brdLst.items==c&&(a.brdLst.items=[]);if(""==e.postParams.rtnType||"K"==e.postParams.rtnType)e.srhResultData.brdLst.items=k("orderBy")(a.brdLst.items,e.uiStateObj.srhFilterBrdSort),e.srhResultData.brandList.items=[].concat(e.srhResultData.brdLst.items);else{var n=[],o=k("orderBy")(a.brdLst.items,e.uiStateObj.srhFilterBrdSort);b.forEach(o,function(a,c){n.push(a.brdNo),b.forEach(e.srhResultData.brdLst.items,function(b,c){b.brdNo==a.brdNo&&(b.cnt=a.cnt)})});var q=[];e.srhResultData.brandList.items.length=0,b.forEach(e.srhResultData.brdLst.items,function(a,b){a.dimm=!1,n.indexOf(a.brdNo)>=0?e.srhResultData.brandList.items.push(a):a.checked&&(a.dimm=!0,a.cnt=0,q.push(a))}),e.srhResultData.brandList.items=k("orderBy")(e.srhResultData.brandList.items,e.uiStateObj.srhFilterBrdSort),q.length>0&&(e.srhResultData.brandList.items=e.srhResultData.brandList.items.concat(q))}if(e.srhResultData.brdLstRender=e.srhResultData.brandList.items,a.brdLst.tcnt?e.srhResultData.brdLst.tcnt=a.brdLst.tcnt:e.srhResultData.brdLst.tcnt=e.srhResultData.brdLstRender.length,e.srhDetailData.srhTerms.dept="1"==a.store.dept?!0:!1,e.srhDetailData.srhTerms.tvhome="1"==a.store.tvhome?!0:!1,e.srhDetailData.srhTerms["super"]="1"==a.store["super"]?!0:!1,e.srhDetailData.srhTerms.brdstore="1"==a.store.brdstore?!0:!1,(""==e.postParams.rtnType||"K"==e.postParams.rtnType)&&("Y"==a.freeGiftYN?e.srhDetailData.freeGiftView=!0:e.srhDetailData.freeGiftView=!1),"Y"==a.freeGiftYN?e.srhDetailData.freeGiftYN=!0:e.srhDetailData.freeGiftYN=!1,e.srhDetailData.srhTerms.smpick="1"==a.smpick?!0:!1,e.srhDetailData.srhTerms.smpickBranch=k("orderBy")(a.smpickBranch,"name"),e.srhDetailData.srhTerms.seven="1"==a.deliver.smpSeven?!0:!1,e.srhDetailData.srhTerms.quick="1"==a.deliver.quick?!0:!1,e.srhDetailData.srhTerms.tdar="1"==a.deliver.tdar?!0:!1,e.updateColors(a.colors),a.feelList)if(""==e.postParams.rtnType||"K"==e.postParams.rtnType)a.feelList.items&&(e.srhResultData.srhFeelList=a.feelList.items,e.srhResultData.feelListCnt=e.srhResultData.srhFeelList.length);else{var r=[];b.forEach(a.feelList.items,function(a){r.push(a.feelNo),b.forEach(e.srhResultData.srhFeelList,function(b){b.feelNo==a.feelNo&&(b.feelcnt=a.feelcnt)})}),e.srhResultData.srhFeelList=k("orderBy")(e.srhResultData.srhFeelList,"-feelcnt"),b.forEach(e.srhResultData.srhFeelList,function(a){r.indexOf(a.feelNo)>=0?a.dimm=!1:(a.dimm=!0,a.feelcnt=0)});var s=0;b.forEach(e.srhResultData.srhFeelList,function(a){(!a.dimm||a.dimm&&a.checked)&&s++}),e.srhResultData.feelListCnt=s}if(a.shoseSizeLst)if(""==e.postParams.rtnType||"K"==e.postParams.rtnType)a.shoseSizeLst.items&&(e.srhResultData.shoseSizeLst=a.shoseSizeLst.items,e.srhResultData.shoseSizeCnt=e.srhResultData.shoseSizeLst.length);else{var t=[];b.forEach(a.shoseSizeLst.items,function(a){t.push(a.shoseNm),b.forEach(e.srhResultData.shoseSizeLst,function(b){b.shoseNm==a.shoseNm&&(b.shoseCnt=a.shoseCnt)})}),b.forEach(e.srhResultData.shoseSizeLst,function(a){t.indexOf(a.shoseNm)>=0?a.dimm=!1:(a.dimm=!0,a.shoseCnt=0)});var s=0;b.forEach(e.srhResultData.shoseSizeLst,function(a){(!a.dimm||a.dimm&&a.checked)&&s++}),e.srhResultData.shoseSizeCnt=s}if(a.starPointLst&&a.starPointLst.items&&a.starPointLst.items.length>0){e.srhResultData.starPointLst=a.starPointLst.items;var u="2";if(e.srhResultData.starPointLst.length>0)switch(e.srhResultData.starPointLst[0].starNo){case"0":case"1":case"2":case"3":case"4":case"5":u=e.srhResultData.starPointLst[0].starNo}else u="0";var v;b.forEach(e.uiStateObj.starPointArr,function(a){v=a.value,""==v||u>=v?a.dimm=!1:a.dimm=!0}),e.srhResultData.starPoinCnt=a.starPointLst.items.length}else e.srhResultData.starPoinCnt=0,b.forEach(e.uiStateObj.starPointArr,function(a){a.dimm=!0})}e.uiStateObj.detailSearchDataLoaded=!0,"0000"!=a.resultCode&&""==e.postParams.rtnType&&(e.srhResultData.keyword=a.keyword,e.postParams.keyword=a.keyword)}else""==e.postParams.rtnType&&(e.srhResultData.keyword=a.keyword,e.postParams.keyword=a.keyword)},e.loadListData=function(a){var d=b.extend({rtnType:"",keyword:"",dpml_no:"1",dispCnt:30,page:1},a),f=e.URLs.searchList;return e.postParams.brdNm&&(d.brdNm=e.postParams.brdNm),e.productListLoading?!1:(e.isShowLoading=!0,e.productListLoading=!0,void i.get(f,{params:d}).success(function(a,b,d,f){for(var g=0;3>g;g++)if(g<a.max.prdLst.items.length&&a.max.prdLst.items[g].ad_url!=c)for(var i=0;i<e.ad_list.length;i++)a.max.prdLst.items[g].goods_no==e.ad_list[i].goodsNo&&(a.max.prdLst.items[g].click_url=e.ad_list[i].clickUrl);e.listDataLoadComplete(a),e.productListLoading=!1,e.searchTermsLoading||e.productListLoading||(e.isShowLoading=!1),h(function(){e.retriveTemplateType()},0)}).error(function(a,b,c,d){e.productListLoading=!1,e.searchTermsLoading||e.productListLoading||(e.isShowLoading=!1)}))},e.checkOpenCtgCd=function(a){var b=$("#ctg_"+a.ctgNo);if(!e.firstLoad)return!1;for(var c=!1,d=0;d<e.uiStateObj.arrOpenCtgCd.length;d++)if(a.ctgNo==e.uiStateObj.arrOpenCtgCd[d].ctgNo){c=!0;break}return c&&b.removeClass("open").addClass("open"),c},e.setTreeId=function(){for(var a=[],b=0;b<$(".ssws_wrap.ssws_category .openable li.open").length;b++){var c=$($(".ssws_wrap.ssws_category .openable li.open")[b]);a.push({ctgNo:c.data("no")})}e.uiStateObj.arrOpenCtgCd=a},e.listDataLoadComplete=function(b,f){if(e.setBrandMainData&&e.setBrandMainData(b),b.max!=c&&(b=b.max),b.resultCode)if(e.uiStateObj.initFlag=!1,e.srhResultData.resultCode=b.resultCode,b.tCnt!=c&&"number"==typeof b.tCnt&&(e.srhResultData.tCnt=b.tCnt),b.brdNm&&""!=b.brdNm&&(e.postParams.brdNm=encodeURIComponent(b.brdNm)),"0000"==b.resultCode){e.uiStateObj.emptyResult;switch(e.uiStateObj.emptyResult=!1,e.uiStateObj.emptyKeyword=!1,e.postParams.priceMinUTemp=b.price.min,e.postParams.priceMaxUTemp=b.price.max,e.postParams.rtnType){case"":case"K":case"C":case"B":case"E":case"S":e.srhResultData.sortType=b.sortType;case"P":if(e.srhResultData.dispCnt=b.dispCnt,e.srhResultData.page=b.page,e.postParams.page=b.page,e.uiStateObj.ajaxPageEndFlag=!1,e.postParams.page>1?e.srhResultData.prdLst.items=e.srhResultData.prdLst.items.concat(b.prdLst.items):b.prdLst?(e.srhResultData.prdLst=b.prdLst,e.srhResultData.prdLst.items=b.prdLst.items,e.srhResultData.prdLst.tcnt=b.prdLst.tcnt):(e.uiStateObj.ajaxPageEndFlag=!0,e.productMoreScroll=!1),e.srhResultData.prdLst&&e.srhResultData.prdLst.items&&b.prdLst&&b.prdLst.items){e.srhResultData.tCnt<=e.srhResultData.prdLst.items.length||0==b.prdLst.items.length?(e.uiStateObj.ajaxPageEndFlag=!0,e.productMoreScroll=!1):(e.uiStateObj.ajaxPageEndFlag=!1,e.productMoreScroll=!0);for(var g=[],h=e.srhResultData.prdLst.items.length,i=0;h>i&&g.length<3;i++)g.push(e.srhResultData.prdLst.items[i].goods_no+""||"");e.sendBuzzni&&!a.buzzni_rt_list&&d.mallSubUrl.indexOf(location.pathname)<0&&(e.sendBuzzni("list",g),a.buzzni_rt_list=!0);for(var i=0;h>i;i++)e.srhResultData.prdLst.items[i].nIdx=i}else e.uiStateObj.ajaxPageEndFlag=!0,e.productMoreScroll=!1;"undefined"!=typeof e.srhResultData.prdLst&&"undefined"!=typeof e.srhResultData.prdLst.items||e.uiStateObj.emptyKeyword||e.uiStateObj.initFlag?e.uiStateObj.emptyPrdLstFlag=!1:(e.uiStateObj.ajaxPageEndFlag=!0,e.uiStateObj.emptyPrdLstFlag=!0,e.productMoreScroll=!1)}e.srhResultData.prdLst.items.length<=6?(e.srhResultData.prdLst1=e.srhResultData.prdLst.items.slice(0,6),e.srhResultData.prdLst2=[]):(e.srhResultData.prdLst1=e.srhResultData.prdLst.items.slice(0,6),e.srhResultData.prdLst2=e.srhResultData.prdLst.items.slice(6)),e.srhResultData.planPrdLst=b.planPrdLst}else"1000"==b.resultCode?(e.postParams.priceMinUTemp=b.price.min,e.postParams.priceMaxUTemp=b.price.max,e.uiStateObj.emptyResult=!0,e.uiStateObj.emptyKeyword=!1,e.srhResultData.tCnt=b.tCnt,e.srhResultData.missKeyword=b.missKeyword):"2000"==b.resultCode&&e.noKeyword()},e.goPrevSideStatus=function(){e.curSideStatus>1&&e.curSideStatus--},e.goNextSideStatus=function(){e.curSideStatus<3&&(e.curSideStatus++,history.pushState(e.curSideStatus,e.curSideStatus,g.location.href))},e.closeSidebarBtnClk=function(){e.searchTclick2016("L","Btn_Close"),e.ga("필터_닫기","닫기"),e.closeSideSearch()},e.closeSideSearch=function(){e.searchTermsChanged&&(e.LotteDimm.scrollY=0),"sideSearch"==e.LotteDimm.target?e.dimmedClose():e.searchUISetting.isShowSideBar=!1,e.actionbarHideFlag=!1,e.searchUISetting.isShowSub===!0&&e.hideSubSearch()},e.showHideSideSearch=function(a){if(e.searchUISetting.isShowSideBar)e.closeSideSearch();else{if(0==e.uiStateObj.detailSearchDataLoaded)return;e.searchTermsChanged=!1,e.searchUISetting.isShowSideBar=!0,e.searchUISetting.slide=null,e.searchUISetting.lastSlide="",e.searchUISetting.searchSlide=!0,e.actionbarHideFlag=!0,e.dimmedOpen({target:"sideSearch",callback:e.closeSideSearch,scrollEventFlag:!1}),$(".side_search_wrap .ssw_content .ssw_slide.sub").scrollTop(0),e.goNextSideStatus(),b.element(".ssw_slide.main").unbind("scroll").bind("scroll",s),h(s,100)}"SORT"==a?e.searchTclick2016("C","Clk_Sort"):e.searchTclick2016("C","Clk_Detail")},e.currentFixedTab="category";var z;e.scrollFilterTop=function(a){var b=$(".foldable_tab.opened:not(.research)"),c=b.height();if(b.length>0){var d=b.next();if(d.length>0){var e=$(".foldable_tab:first-child").position().top,f=b.position().top,g=d.position().top;c>g&&$(".ssw_slide.main").scrollTop(f-e)}}else a&&a.length&&($(".ssw_slide.main").scrollTop(0),$(".ssw_slide.main").scrollTop($(a).position().top))},e.showSubSearch=function(a){var b=$(a.currentTarget),c=b.data("slide");if(h(s,10),h(function(){e.scrollFilterTop(b.parents(".foldable_tab"))},20),"research"==c)e.searchUISetting.searchSlide=!e.searchUISetting.searchSlide;else{if(e.searchUISetting.lastSlide==c)return e.searchUISetting.slide=null,e.searchUISetting.lastSlide="",void(e.searchUISetting.isShowSub=!1);e.searchUISetting.title=b.data("label"),e.searchUISetting.slide=c,e.searchUISetting.isShowSub=!0,e.searchUISetting.lastSlide=c}switch(b.data("slide")){case"category":e.searchTclick2016("L","Clk_Cate"),e.ga("카테고리","리스트메뉴");break;case"brand":e.searchTclick2016("L","Clk_Brand"),e.ga("브랜드","리스트메뉴");break;case"delivery":e.ga("배송","리스트메뉴");break;case"color":e.searchTclick2016("L","Clk_Clr"),e.ga("컬러","리스트메뉴");break;case"store":e.ga("매장","리스트메뉴");break;case"price":e.searchTclick2016("L","Clk_Prc"),e.ga("가격혜택선물포장","리스트메뉴");break;case"research":e.searchTclick2016("L","Clk_Kwd"),e.ga("결과내검색","리스트메뉴");break;case"shoe":e.ga("신발사이즈","리스트메뉴");break;case"star":e.ga("별점","리스트메뉴");break;case"style":e.ga("스타일","리스트메뉴")}},e.hideSubSearch=function(){e.searchUISetting.slide=null,e.searchUISetting.keywordIncExc=!1,0!=e.searchUISetting.isShowSub&&(e.searchUISetting.isShowSub=!1)},e.showHideSortGuide=function(c){try{var d=b.element(c.currentTarget);switch(d.parent().text().trim()){case"인기순":a.alert("검색 정확도 및 판매 실적 등을 점수화하여 상품을 정렬합니다. (단, 광고상품은 별도기준에 따라 상단 정렬)"),e.ga("정렬","말풍선");break;case"판매순":a.alert("최근 7일동안 많이 판매된 상품을 누적한 기준으로 상품을 정렬합니다."),e.ga("정렬","말풍선");break;case"내 주변 픽업":a.alert("내 주변 픽업 서비스는 세븐일레븐 / 하이마트 / 롯데슈퍼 / 롯데리아에서 픽업이 가능합니다."),e.ga("배송","말풍선")}}catch(c){}},e.positionSortGuide=function(){$("#pop_sortGuide").css("top",$("#sortGuideButton").offset().top+28)},e.srhFilterSmpickClick=function(a){var c=$(a.currentTarget);c.is(":checked")&&(e.uiStateObj.smpickLayerOpenFlag=!0,b.element("#wrapper").addClass("overflowy_hidden"))},e.showHideSmartPick=function(){e.searchUISetting.smartPickSub=!e.searchUISetting.smartPickSub},e.showHideDepartmentPick=function(a){var c=b.element(a.currentTarget),d=c.parent();d.hasClass("disabled")||(e.searchUISetting.smartPickList=!e.searchUISetting.smartPickList,e.postParams.smpBranchNo||(e.postParams.smpBranchNo="",e.postParams.smpickYN="N",e.ga("배송","스마트픽_백화점픽업")))},e.smpickBranchChange=function(a){e.postParams.smpBranchNo==a.branchNo?(e.postParams.smpickYN="N",e.postParams.smpBranchNo=null,e.uiStateObj.smpickBranchName=""):(e.postParams.smpickYN="Y",e.postParams.smpBranchNo=a.branchNo,e.uiStateObj.smpickBranchName=a.name),e.srhDetailPost(),e.searchTclick2016("L","Dlr_01"),e.ga("배송","스마트픽_백화점픽업_"+a.name)},e.showDeliveryGuide=function(){a.alert("내 주변 픽업 서비스는 세븐일레븐 / 하이마트 / 롯데슈퍼 / 롯데리아에서 픽업이 가능합니다."),e.searchTclick2016("L","Dlr_02_tip")},e.categoryItemClick=function(a,b){var c=$(a.currentTarget),d=c.parent(),f=d.data("depth"),g="",h=[];(1==b.checked||"1"==b.ctgDepth&&d.hasClass("open"))&&(g="해제_"),d.data("name")&&h.push(d.data("name"));for(var i=d.parents("[data-depth]"),j=i.length,k=0;j>k;k++)h.push($(i[k]).data("name"));g+=h.reverse().join("_"),e.ga("카테고리",g),b.checked===!0?b.checked=!1:(u(e.srhResultData.ctgLst,b.ctgDepth),b.checked=!0);var l=e.categoryAccordian(d,b);t(),l?e.srhSubCtgPost(f+1):e.srhSubCtgPost(f+1,b)},e.categoryAccordian=function(a,c){if(!a.hasClass("nochild")){var d=a.find("> ul");if(d.length>0)if(a.hasClass("open")){if("0"==a.data("depth"))return c&&(c.checked=!1),a.removeClass("open"),e.srhFilterCtgInit(),!0}else"0"==a.data("depth")&&(b.forEach(e.srhResultData.ctgLst.items,function(b){b.checked=!1,a.data("no")==b.ctgNo&&(b.checked=!0)}),a.siblings("li").removeClass("open")),c&&(c.checked=!0),a.addClass("open");var f=$(".ssw_slide.main"),g=f.scrollTop(),h=$(a).position().top;g>h&&d.length>0&&f.scrollTop(h)}},e.srhSubCtgPost=function(a,b,c){1==a&&b&&(e.postParams.dtCtgNo=b.dtCtgNo),e.postParams.ctgDepth=a+1,e.postParams.dsCtgDepth=a+1,e.postParams.rtnType="C",e.loadDataParams(e.postParams.rtnType,c)},e.srhChkBrdPost=function(a,c){if(-1==e.postParams.brdNoArr.indexOf(a.brdNo))e.postParams.brdNoArr.push(a.brdNo),e.postParams.brdNmArr.push(a.brdName),e.uiStateObj.brandArr.push(a),b.forEach(e.srhResultData.brdLst.items,function(b){b.brdNo==a.brdNo&&(b.checked=!0)}),e.ga("브랜드","선택_"+a.brdName);else{var d=e.postParams.brdNoArr.indexOf(a.brdNo);d>-1&&(e.postParams.brdNoArr.splice(d,1),e.postParams.brdNmArr.splice(d,1),e.uiStateObj.brandArr.splice(d,1),b.forEach(e.srhResultData.brdLst.items,function(b){
b.brdNo==a.brdNo&&(b.checked=!1)}),e.ga("브랜드","해제_리스트_"+a.brdName))}e.postParams.brdNoArr.length>0?e.uiStateObj.srhFilterBrdFlag=!0:e.uiStateObj.srhFilterBrdFlag=!1,"N"!==c&&(e.postParams.rtnType="B",e.loadDataParams(e.postParams.rtnType))},e.triggerChkBrdPost=function(a){if(-1==e.postParams.brdNoArr.indexOf(a.brdNo))e.postParams.brdNoArr.push(a.brdNo),e.postParams.brdNmArr.push(a.brdName),e.uiStateObj.brandArr.push(a);else{var b=e.postParams.brdNoArr.indexOf(a.brdNo);b>-1&&(e.postParams.brdNoArr.splice(b,1),e.postParams.brdNmArr.splice(b,1),e.uiStateObj.brandArr.splice(b,1),e.ga("브랜드","해제_요약_"+a.brdName))}for(var c=0;c<e.srhResultData.brdLst.items.length;c++){var d=e.srhResultData.brdLst.items[c];d.brdNo==a.brdNo&&(e.srhResultData.brdLst.items[c].checked=null)}e.postParams.brdNoArr.length>0?e.uiStateObj.srhFilterBrdFlag=!0:e.uiStateObj.srhFilterBrdFlag=!1,e.postParams.rtnType="B",e.loadDataParams(e.postParams.rtnType)},e.srhFilterBrdSortChange=function(a){console.log("srhFilterBrdSortChange"),e.srhResultData.brdLst.items=k("orderBy")(e.srhResultData.brdLst.items,e.uiStateObj.srhFilterBrdSort),e.srhResultData.brandList.items=k("orderBy")(e.srhResultData.brandList.items,e.uiStateObj.srhFilterBrdSort),"undefined"!=typeof e.srhResultData.brdLst.tcnt&&e.srhResultData.brdLst.tcnt>0&&"undefined"!=typeof e.srhResultData.brdLst.items&&(e.srhResultData.brdLstRender=e.srhResultData.brandList.items),"-cnt"==a?(e.searchTclick2016("L","Brand_02"),e.ga("브랜드","상품많은순")):(e.searchTclick2016("L","Brand_01"),e.ga("브랜드","가나다"))},e.showHideSortPop=function(a){e.sortLayerPopVisible=a,a?h(function(){var a=b.element("#sortLayerPop .layerPop"),c=(g.innerHeight-a.height())/2;a.css({top:c,opacity:1})},0):e.ga("정렬_닫기","","sort")},e.srhSortPost=function(a){switch(e.uiStateObj.sortTypeIdx=a,e.uiStateObj.srhFilterSortFlag=!0,e.showHideSortPop(!1),e.postParams.rtnType="S",e.loadDataParams(e.postParams.rtnType),a){case 0:e.searchTclick2016("L","Sort_01"),e.ga("판매순","","sort");break;case 1:e.searchTclick2016("L","Sort_02"),e.ga("높은가격순","","sort");break;case 2:e.searchTclick2016("L","Sort_04"),e.ga("낮은가격순","","sort");break;case 3:e.searchTclick2016("L","Sort_05"),e.ga("상품평많은순","","sort");break;case 4:e.searchTclick2016("L","Sort_06"),e.ga("MD추천순","","sort");break;case 5:e.searchTclick2016("L","Sort_03"),e.ga("최근등록순","","sort")}e.scrollToTop()},e.shoeSizeChaned=function(a){var c=[];b.forEach(e.srhResultData.shoseSizeLst,function(a){a.checked&&!a.dimm&&c.push(a.shoseNm)}),e.postParams.shoesSize=c.join(","),e.srhDetailPost(),e.ga("신발사이즈",a)},e.starPointChanged=function(a){switch(e.uiStateObj.starPointIdx=a,e.srhDetailPost(),a){case 0:e.ga("별점","전체");break;case 1:e.ga("별점","4점이상");break;case 2:e.ga("별점","3점이상");break;case 3:e.ga("별점","2점미만제외")}},e.srhSelectColor=function(a,b){var c=e.postParams.selectedColor.indexOf(a.colorCd);a.selected===!0?(a.selected=!1,c>=0&&e.postParams.selectedColor.splice(c,1)):(a.selected=!0,0>c&&e.postParams.selectedColor.push(a.colorCd)),"N"!==b&&e.srhDetailPost(),e.searchTclick2016("L","Clr_Opt"),e.ga("컬러",a.colorCd)},e.srhSelectStyle=function(a,b){var c=e.postParams.selectedStyle.indexOf(a.feelNo);a.selected===!0?(a.selected=!1,c>=0&&e.postParams.selectedStyle.splice(c,1)):(a.selected=!0,0>c&&e.postParams.selectedStyle.push(a.feelNo)),e.ga("스타일",a.feelNm),"N"!==b&&(e.srhDetailSearchActiveChk(),e.srhDetailPost())},e.srhDetailSearchActiveChk=function(){var a=0;e.postParams.ctgNo&&a++,e.uiStateObj.srhFilterBrdFlag&&a++,("Y"==e.postParams.deptYN||"Y"==e.postParams.tvhomeYN||"Y"==e.postParams.superYN||"Y"==e.postParams.brdstoreYN)&&a++,e.uiStateObj.srhDetailSearchClicked&&a++,("Y"==e.postParams.freeInstYN||"Y"==e.postParams.pointYN||"Y"==e.postParams.pkgYN||"Y"==e.postParams.freeGiftYN)&&a++,("Y"==e.postParams.smpickYN||"Y"==e.postParams.isCrsPickYn||"Y"==e.postParams.freeDeliYN||"Y"==e.postParams.isDlvQuick||"Y"==e.postParams.isDlvToday)&&a++,e.postParams.selectedColor.length>0&&a++,e.postParams.selectedStyle.length>0&&a++;var c=[];b.forEach(e.srhResultData.shoseSizeLst,function(a){a.checked&&this.push(a)},c),c.length>0&&a++,e.uiStateObj.starPointIdx>0&&a++,(e.postParams.reQuery.length>0||e.postParams.exQuery.length>0)&&a++,a>0?e.uiStateObj.srhFilterDetailFlag=!0:e.uiStateObj.srhFilterDetailFlag=!1},e.srhDetailPost=function(){e.srhDetailSearchActiveChk(),e.postParams.rtnType="E",e.loadDataParams(e.postParams.rtnType)},e.srhDetailChange=function(a){switch(a){case"deptYN":e.searchTclick2016("L","Clk_Dep"),e.ga("매장","백화점");break;case"tvhomeYN":e.searchTclick2016("Store_02"),e.ga("매장","홈쇼핑");break;case"superYN":e.searchTclick2016("Store_03"),e.ga("매장","슈퍼");break;case"brdstoreYN":e.searchTclick2016("Store_04"),e.ga("매장","브랜드스토어");break;case"freeDeliYN":e.searchTclick2016("L","Clk_Fdlr"),e.ga("배송","무료배송");break;case"smpickYN":e.searchTclick2016("L","Opt_02");break;case"freeInstYN":e.searchTclick2016("L","Prc_06"),e.ga("가격혜택선물포장","무이자할부");break;case"pointYN":e.searchTclick2016("L","Prc_07"),e.ga("가격혜택선물포장","포인트적립");break;case"isCrsPickYn":e.searchTclick2016("L","Dlr_02"),e.ga("배송","스마트픽_내주변픽업");break;case"isDlvToday":e.searchTclick2016("L","Dlr_03"),e.ga("배송","오늘도착");break;case"isDlvQuick":e.searchTclick2016("L","Dlr_04"),e.ga("배송","퀵배송");break;case"pkgYN":e.ga("가격혜택선물포장","무료선물포장");break;case"freeGiftYN":e.ga("가격혜택선물포장","사은품포함")}e.srhDetailPost()},e.srhDetailPriceMaxlen=function(a,b){var c=$("#priceMaxU");"min"==b&&(c=$("#priceMinU"));var d=c.val();d.length>10&&c.val(d.substr(0,10)),a&&13==a.keyCode&&(e.srhDetailPriceValidate(b),e.srhDetailPriceValidateFlag&&(c.blur(),e.srhDetailSearchPrice()))},e.srhDetailPriceValidate=function(a){e.srhDetailPriceValidateFlag=!0,null!=e.postParams.priceMinU&&e.postParams.priceMinU.length>0&&(e.postParams.priceMinU=e.postParams.priceMinU.replace(/[^0-9]/g,"")),null!=e.postParams.priceMaxU&&e.postParams.priceMaxU.length>0&&(e.postParams.priceMaxU=e.postParams.priceMaxU.replace(/[^0-9]/g,""));var b=typeof e.postParams.priceMinU,c=typeof e.postParams.priceMaxU,d=parseInt(e.postParams.priceMinUTemp,10),f=parseInt(e.postParams.priceMaxUTemp,10);if("min"==a){if("object"==b)return e.srhDetailPriceValidateFlag=!1,!1;if(e.postParams.priceMinU>f)return e.postParams.priceMinU=d,e.srhDetailPriceValidateFlag=!1,alert("검색결과 내 최고가격보다 높습니다."),!1;if(e.postParams.priceMinU<d)return e.postParams.priceMinU=d,e.srhDetailPriceValidateFlag=!1,alert("검색결과 내 최저가격보다 낮습니다."),!1;if("number"==c&&e.postParams.priceMinU>e.postParams.priceMaxU){var g=e.postParams.priceMinU;e.postParams.priceMinU=e.postParams.priceMaxU,e.postParams.priceMaxU=g}e.postParams.priceMinU!=d}else if("max"==a){if("object"==c)return e.srhDetailPriceValidateFlag=!1,!1;if(e.postParams.priceMaxU<d)return e.postParams.priceMaxU=f,e.srhDetailPriceValidateFlag=!1,alert("검색결과 내 최저가격보다 낮습니다."),!1;if(e.postParams.priceMaxU>f)return e.postParams.priceMaxU=f,e.srhDetailPriceValidateFlag=!1,alert("검색결과 내 최고가격보다 높습니다."),!1;if("number"==b&&e.postParams.priceMinU>e.postParams.priceMaxU){var g=e.postParams.priceMinU;e.postParams.priceMinU=e.postParams.priceMaxU,e.postParams.priceMaxU=g}e.postParams.priceMaxU!=f}},e.srhDetailSearchPrice=function(a){return 0==e.postParams.priceMinU&&0==e.postParams.priceMaxU||0==e.postParams.priceMinUTemp&&0==e.postParams.priceMaxUTemp?(e.postParams.priceMinU=0,e.postParams.priceMinUTemp=0,e.postParams.priceMaxU=0,e.postParams.priceMaxUTemp=0,alert("최저, 최대 가격이 존재하지 않습니다."),!1):(e.srhDetailPriceValidate("min"),e.srhDetailPriceValidate("max"),e.uiStateObj.srhDetailSearchClicked=!0,e.postParams.priceMinU||(e.postParams.priceMinU=e.postParams.priceMinUTemp),e.postParams.priceMaxU||(e.postParams.priceMaxU=e.postParams.priceMaxUTemp),e.uiStateObj.priceMinUTemp=e.postParams.priceMinU,e.uiStateObj.priceMaxUTemp=e.postParams.priceMaxU,e.srhDetailPost(),void(a===!0&&(e.searchTclick2016("L","Prc_Btn"),e.ga("가격혜택선물포장","가격검색"))))},e.srhDetailSearchFocus=function(){e.actionbarHideFlag=!0,e.searchUISetting.keywordIncExc=!1,e.searchUISetting.focusIn=!0,$(".ssw_slide.main").animate({scrollTop:$(document).height()},600),$(".ssws_wrap").css("margin-bottom",0),$(".side_search_wrap .ssw_content").css("bottom",0)},e.srhDetailSearchBlur=function(){e.actionbarHideFlag=!1,e.searchUISetting.focusIn=!1,$(".side_search_wrap .ssw_content").css("bottom","50px")},e.srhDetailSearchKeyword=function(){return e.searchUISetting.keywordIncExc=!1,""==e.postParams.rekeyword?(alert("검색할 단어를 입력해 주세요."),!1):(0==e.searchUISetting.researchIdx?(e.addRequeryKeyword(e.postParams.rekeyword),e.ga("결과내검색","포함단어_"+e.postParams.rekeyword)):(e.addExqueryKeyword(e.postParams.rekeyword),e.ga("결과내검색","제외단어_"+e.postParams.rekeyword)),e.postParams.rekeyword="",e.searchTclick2016("L","Kwd_Btn"),e.showSubSearch({currentTarget:{}}),void e.closeSideSearch())},e.srhDetailSearchKeypress=function(a){13===a.which&&($("#rekeyword").blur(),e.srhDetailSearchKeyword(),a.preventDefault())},e.deleteRequeryKeyword=function(a){var b=e.postParams.reQuery.indexOf(a);b>=0&&(e.postParams.reQuery.splice(b,1),e.srhKeywordPost(),e.scrollToTop(),e.ga("결과내검색","해제_"+a))},e.deleteExqueryKeyword=function(a){var b=e.postParams.exQuery.indexOf(a);b>=0&&(e.postParams.exQuery.splice(b,1),e.srhKeywordPost(),e.scrollToTop(),e.ga("결과내검색","제외해제_"+a))},e.addRequeryKeyword=function(a,b){a=a.replace(/ /g,"");var c=e.postParams.reQuery.indexOf(a);0>c&&(e.postParams.reQuery.push(a),e.srhKeywordPost(),e.scrollToTop())},e.addExqueryKeyword=function(a){a=a.replace(/ /g,"");var b=e.postParams.exQuery.indexOf(a);0>b&&(e.postParams.exQuery.push(a),e.srhKeywordPost(),e.scrollToTop())},e.selectKeywordLayer=function(a){e.searchUISetting.researchIdx=a},e.selectKeywordLayer2=function(){e.uiStateObj.researchOpt=e.uiStateObj.researchCheck?"brdName":"-cnt",e.searchUISetting.researchIdx=e.uiStateObj.researchCheck?1:0},e.changeKeywordType=function(a){"in"==a?e.searchTclick2016("L","Kwd_01"):e.searchTclick2016("L","Kwd_02")},e.srhKeywordPost=function(){e.srhFilterCtgInit(),e.srhFilterBrdInit(),e.srhFilterDetailInit(),e.postParams.rtnType="K",e.loadDataParams(e.postParams.rtnType)},e.srhFilterDetailPriceFocus=function(a){var b="min";"priceMinU"==a?(b="min",e.postParams.priceMinUFocus=!0):"priceMaxU"==a&&(b="max",e.postParams.priceMaxUFocus=!0)},e.srhFilterDetailPriceIpt=function(a){b.element("#"+a).focus();var c="min";"priceMinU"==a?c="min":"priceMaxU"==a&&(c="max")},e.srhFilterDetailInit=function(){e.uiStateObj.srhFilterDetailFlag=!1,e.srhFilterSortInit(),e.srhFilterStoreInit(),e.srhFilterPriceInit(),e.srhFilterBenefitInit(),e.srhFilterDeliveryInit(),e.srhFilterColorInit(),e.srhFilterFeelInit(),b.forEach(e.srhResultData.shoseSizeLst,function(a){a.checked=!1}),e.postParams.shoesSize="",e.postParams.starPoint="",e.uiStateObj.starPointIdx=0,b.forEach(e.uiStateObj.starPointArr,function(a){a.dimm=!1})},e.checkResetDisabled=function(a){return e.srhDetailSearchActiveChk(),e.uiStateObj.srhFilterDetailFlag},e.resetAllSearchTerm=function(){$(".side_search_wrap .ssw_content .ssw_slide.sub").scrollTop(0),e.srhFilterCtgInit(),e.srhFilterBrdInit(),e.srhFilterRequeryInit(!0),e.searchTclick2016("L","Btn_Reset"),e.ga("필터_초기화","초기화")},e.srhFilterCtgInit=function(a){e.uiStateObj.srhFilterCtgFlag=!1,e.uiStateObj.srhFilterCtgDepth=0,e.uiStateObj.srhFilterCtgDepth1CtgNo="",e.uiStateObj.selectedCategory.depth1=[],e.uiStateObj.selectedCategory.depth2=[],e.uiStateObj.selectedCategory.depth3=[],e.uiStateObj.selectedCategory.depth4=[],e.uiStateObj.selectedCategory.depth5=[],e.uiStateObj.selectedCategory.ctgName=[],e.postParams.ctgNo="",e.postParams.ctgDepth=0,e.postParams.dsCtgDepth=0,u(e.srhResultData.ctgLst),e.uiStateObj.arrOpenCtgCd=[];var b;$(".ssws_wrap.ssws_category li.open").each(function(a,c){b=$(c),b.removeClass("open")}),a===!0&&(e.postParams.rtnType="C",e.loadDataParams(e.postParams.rtnType))},e.srhFilterBrdInit=function(a){e.uiStateObj.srhFilterBrdFlag=!1,e.postParams.brdNoArr=[],e.postParams.brdNmArr=[],e.uiStateObj.brandArr=[],e.uiStateObj.srhFilterBrdSort="brdName",b.forEach(e.srhResultData.brdLst.items,function(a,b){a.checked=!1}),b.forEach(e.srhResultData.brdLstRender,function(a,b){a.checked=!1}),a===!0&&(e.postParams.rtnType="B",e.loadDataParams(e.postParams.rtnType))},e.srhFilterSortInit=function(a){e.uiStateObj.srhFilterSortFlag=!1;var b=parseInt(l.query.sort,10);if(!isNaN(b)){e.uiStateObj.sortTypeIdx=b;for(var c=0;c<e.uiStateObj.sortTypeArr.length;c++)if(e.uiStateObj.sortTypeArr[c].shortIdx==b){e.uiStateObj.sortTypeIdx=c;break}e.uiStateObj.sortTypeIdx>e.uiStateObj.sortTypeArr.length-1?e.uiStateObj.sortTypeIdx=e.uiStateObj.sortTypeArr.length-1:e.uiStateObj.sortTypeIdx<0&&(e.uiStateObj.sortTypeIdx=0),e.postParams.sort=e.uiStateObj.sortTypeArr[e.uiStateObj.sortTypeIdx].value}a===!0&&(e.postParams.rtnType="S",e.loadDataParams(e.postParams.rtnType))},e.srhFilterPriceInit=function(a){e.uiStateObj.srhDetailSearchClicked=!1,e.postParams.priceMinU=null,e.postParams.priceMaxU=null,a===!0&&e.srhDetailPost()},e.srhFilterBenefitInit=function(a){e.postParams.freeInstYN="N",e.postParams.pointYN="N",e.postParams.pkgYN="N",e.postParams.freeGiftYN="N",a===!0&&e.srhDetailPost()},e.srhFilterDeliveryInit=function(a){e.postParams.smpickYN="N",e.searchUISetting.smartPickList=!1,e.postParams.smpBranchNo=null,e.uiStateObj.smpickBranchName="",e.postParams.isCrsPickYn="N",e.postParams.freeDeliYN="N",e.postParams.isDlvQuick="N",e.postParams.isDlvToday="N",a===!0&&e.srhDetailPost()},e.srhFilterColorInit=function(a){e.postParams.selectedColor.length=0,e.postParams.selectedColor2.length=0;for(var b=e.srhDetailData.srhColorList.length,c=0;b>c;c++)e.srhDetailData.srhColorList[c].selected=!1;a===!0&&e.srhDetailPost()},e.srhFilterRequeryInit=function(a){e.srhFilterCtgInit(),e.srhFilterBrdInit(),e.srhFilterDetailInit(),e.srhFilterResearchInit(),a===!0&&(e.postParams.rtnType="K",e.loadDataParams(e.postParams.rtnType))},e.srhFilterStoreInit=function(a){e.postParams.deptYN="N",e.postParams.tvhomeYN="N",e.postParams.superYN="N",e.postParams.brdstoreYN="N",a===!0&&e.srhDetailPost()},e.srhFilterFeelInit=function(a){e.postParams.selectedStyle.length=0,a===!0&&e.srhDetailPost()},e.srhFilterResearchInit=function(a){e.postParams.reQuery.length=0,e.postParams.exQuery.length=0,e.postParams.rekeyword="",e.uiStateObj.researchCheck=!1,a===!0&&e.srhDetailPost()},e.searchTclick2016=function(a,b){var c=e.tClickBase;switch(e.uiStateObj.currentPageType){case"C":c+="CatSrh";break;case"S":c+="SShop";break;case"B":c+="Brand"}switch(a){case"C":break;case"L":c+="Layer";break;default:return}c+="_"+b,e.sendTclick(c)},e.lySmpickClose=function(){e.uiStateObj.smpickLayerOpenFlag=!1,b.element("#wrapper").removeClass("overflowy_hidden")},e.scrollToTop=function(){var b=$(a).scrollTop();b>1&&$(a).scrollTop(1)},q(),e.changeFontSize=function(){var a=b.element("body");a.hasClass("enlargeFont")?(a.removeClass("enlargeFont"),f.delSessionStorage(e.screenID+"_fontsize"),e.searchTclick2016("L","Clk_Text02")):(a.addClass("enlargeFont"),f.setSessionStorage(e.screenID+"_fontsize","1"),e.searchTclick2016("L","Clk_Text01"))},v()}}}])}(window,window.angular),function(){angular.module("searchPlanShop",["hwSwipe"]).value("currentPage",{}).constant("observers",{request:"request",response:"response"}).provider("prodConfig",["LotteCommonProvider",function(a){var b=a.$get(),c={actionParams:{},catchInfo:[{page:b.searchUrl,json:[b.srhListData2016,b.srhListData2016LC],necessaryParams:{cmpsCd:50,dispCnt:30},hideParams:["ctgNo","dsCtgDepth","brdNo","ctgDepth1","ctgDepth2","ctgDepth3","ctgDepth4","ctgDepth5","priceMaxU","priceMinU","freeInstYN","pointYN","smpickYN","isDlvQuick","colorCd","freeDeliYN","deptYN","tvhomeYN","superYN","brdstoreYN","pkgYN","freeGiftYN","delQuickYN","delSevenYN","delTdarYN","dtCtgNo","dtCtgDepth","dtDsCtgDepth","feelNo","shoesSize","starPoint"],def:{screenID:"SrhResult",curDispNoSctCd:50,moreType:0},noparams:[]},{page:b.categoryUrl,json:[b.cateListData2018],necessaryParams:{cmpsCd:50,dispCnt:30},hideParams:["ctgNo","dsCtgDepth","brdNo","ctgDepth1","ctgDepth2","ctgDepth3","ctgDepth4","ctgDepth5","priceMaxU","priceMinU","freeInstYN","pointYN","smpickYN","isDlvQuick","colorCd","freeDeliYN","deptYN","tvhomeYN","superYN","brdstoreYN","pkgYN","freeGiftYN","delQuickYN","isDlvToday","isCrsPickYn","feelNo","shoesSize","starPoint"],def:{screenID:"side_cate_catesmall",curDispNoSctCd:73,moreType:1},noparams:[]}]};return{setResponseParams:function(a){"object"==typeof a&&(c.actionParams=angular.extend(a,c.actionParams))},setCatchInfo:function(a){"object"==typeof a&&(a.page=urls[a.page],a.json=urls[a.json],c.catchInfo.push(a))},$get:function(){return c}}}]).factory("catchFilter",["prodConfig","LotteCommon","searchPlanShopService","observers",function(a,b,c,d){var e={permit:a.catchInfo,URLFilter:function(a){var b=null;for(var d in e.permit)for(var f in e.permit[d].json)-1!=a.indexOf(e.permit[d].json[f])&&(c.getCurrPage().json||c.setCurrPage(e.permit[d]),b=angular.copy(e.permit[d].necessaryParams));return b},ParamsFilter:function(b){var d=!1;if(b||(b={}),1===b.page){c.visibleState.set(!1);for(var e in b){for(var f in c.getCurrPage().hideParams)if(e===c.getCurrPage().hideParams[f]&&b[e]){c.visibleState.set(!0),d=!0;break}if(c.visibleState.get())for(var g in a.actionParams)if(e===g&&(!a.actionParams[g]&&!b[e]||a.actionParams[g]&&b[e])){c.visibleState.set(!1),d=!0;break}if(d)break}}return c.visibleState.get()},request:function(a){return e.URLFilter(a.url)},response:function(a){e.URLFilter(a.config.url)&&c.promiseList[d.response].set({data:a.data,visible:e.ParamsFilter(a.config.params)})}};return e}]).factory("httpInterceptor",["$q","catchFilter","searchPlanShopService",function(a,b,c){return{request:function(d){for(var e=c.getCurrPage().noparams||[],f=0;f<e.length;++f)for(var g in d.params)g===e[f]&&delete d.params[g];var h=b.request(d);return h&&(d.params||(d.params={}),d.params=angular.extend(h,d.params)),h&&d.params&&c.setParams(d.params),d||a.when(d)},response:function(c){return b.response(c),c||a.when(c)},requestError:function(b){return a.reject(b)},responseError:function(b){return a.reject(b)}}}]).directive("searchPlanShop",["searchPlanShopService","prodConfig","observers","LotteCommon","dataReplaceKey","commInitData","$timeout",function(a,b,c,d,e,f,g){return{restrict:"EA",scope:!0,replace:!0,templateUrl:"/lotte/resources_dev/search/products/planshop/planshop_list.html",link:function(h){function i(b){var c="?";for(var d in b)"tclick"!=d&&"title"!=d&&"cmpsCd"!=d&&"sort"!=d&&(c+=d+"="+b[d]+"&");return c=c.substr(0,c.length-1)+"&moreType="+a.getCurrPage().def.moreType,c+="&"+baseParam}function j(a,b){var c="";switch(c=location.href.indexOf("new_prod_list.do")>=0?h.tClickBase+"side_cate_catesmall_"+f.query.mGrpNo+"_":h.tClickBase+"SrhResult_",a){case 1:c+="Clk_Deal_"+(b+1);break;case 2:c+="Swp_Deal_"+(b+1);break;case 3:c+="Clk_Deal_GoL"}return c}h.visiblity=!1,h.planShopData=[],h.swipeVisible=!1;var k=!1;g(function(){if(k!==!0)try{var c,d,f=b.catchInfo.length;for(c=0;f>c;c++)if(d=b.catchInfo[c],location.href.indexOf(d.page)>=0){a.setCurrPage(d);break}h.planShopData=e(h.srhResultData.planPrdLst.items),h.swipeVisible=!0}catch(g){}},10),a.promiseList[c.response].get().then(null,null,function(a){k=!0,h.visiblity=a.visible;var b=a.data.max||a.data;try{b.planPrdLst.items&&(h.planShopData=e(b.planPrdLst.items)),h.swipeVisible=!0}catch(c){a.visible&&(h.planShopData=[]),console.log("[planshop_list] : 데이터 없음")}}),h.more=function(){location.href.indexOf("new_prod_list.do")>=0?location.href=d.searchPanShopList+i(f.query)+"&tclick="+j(3):location.href=d.searchPanShopList+i(a.getParams()||f.query)+"&tclick="+j(3)},h.$watch("planShopData",function(){try{var a=angular.element(".planshop_list_wrap [hw-swipe]").scope();a.planshopSwpIdx=0,a.planshopTotal=Math.min(h.planShopData.length,14),h.swipeVisible=!1,g(function(){h.swipeVisible=!0},100)}catch(b){}}),h.planProductsLink=function(a){var b=j(1,this.$index),c=h.getProductViewUrl(a,b);c+="&curDispNoSctCd="+h.curDispNoSctCd,location.href=c},h.$watch(function(){var a=0;try{a=angular.element(".planshop_list_wrap [hw-swipe]").scope().planshopSwpIdx}catch(b){}return a},function(a,b){a!==b&&void 0!==a&&h.sendTclick(j(2,a))})}}}]).service("searchPlanShopService",["$q","currentPage",function(a,b){this.promiseList={},this.addPromise=function(b){var c=this;if(!c.promiseList[b]){var d=c.promiseList[b]={},e=a.defer();d.defer=e,d.notify=e.notify,d.get=function(){return e.promise},d.set=function(a){e.notify(a)}}},this.visibleState={state:!1,set:function(a){this.state=a},get:function(){return this.state}},this.setCurrPage=function(a){b=a},this.getCurrPage=function(){return b},this.setParams=function(a){this.params=a},this.getParams=function(){return this.params}}]).config(["$httpProvider","prodConfigProvider",function(a,b){a.interceptors.push("httpInterceptor"),b.setResponseParams({rtnType:!1})}]).run(["observers","searchPlanShopService",function(a,b){if(a)for(var c in a)b.addPromise(a[c])}]).factory("dataReplaceKey",["LotteUtil",function(a){return function(b){try{if(b[0].goods_nm&&b[0].goods_no)return angular.forEach(b,function(a,b){a.brnd_nm=a.brnd_nm.replace(/\[|\]/g,"")}),b}catch(c){return[]}var d={goods_no:"goodsNo",goods_nm:"goodsNm",brnd_nm:"brandNm",img_url:"imgUrl",original_price:"price1",discounted_price:"price2",sale_rate:"saleRate",flag:"flag",review_count:"reviewCnt",avg_gdas_stfd_val:"avg_gdas_stfd_val",smartpick_yn:"isSmpick",limit_age_yn:"byrAgelmt",is_himart:"isHimart",is_dept:"isDept",is_tvhome:"isTvhome",is_youngplz:"isYoung",is_super:"isSuper",is_sale_promotion:"goodsCmpsCd",outlnk:"outlnk",outlnkMall:"outlnkMall",curDispNo:"curDispNo",has_coupon:"useCpn",hash_list:"hash_list",find_age:"find_age",find_gender:"find_gender",savePoint:"savePoint",vodUrl:"vodUrl"},e={goods_no:"",goods_nm:"",brnd_nm:"",img_url:"",img_url_550:"",original_price:"",discounted_price:"",sale_rate:"",flag:"",is_sold_out:!1,has_coupon:!1,has_wish:!1,is_sale_promotion:!1,review_count:0,bought_sum:0,md_tip:"",promotion_text:"",isdlex_free:!1,smartpick_yn:!1,sold_out_cd_yn:"N",limit_age_yn:"N",link_url:"",is_himart:"",is_dept:"",is_youngplz:"",outlnk:"",outlnkMall:"",curDispNo:"",savePoint:0,vodUrl:""},f=[];return angular.forEach(b,function(b,c){var g=angular.copy(e);angular.forEach(d,function(c,d){"has_coupon"==d?g[d]="coupon"==b[c]?!0:!1:"flag"==d?b.flag&&b.flag.indexOf("무료배송")>-1&&(g.isdlex_free=!0):"is_sale_promotion"==d?"30"==b.goodsCmpsCd&&(g[d]=!0):"sale_rate"==d||"savePoint"==d?null==b[c]?g[d]=0:g[d]=parseInt(b[c]):"smartpick_yn"==d?g[d]=b[c]?"Y":"N":"limit_age_yn"==d?g[d]=19==b[c]?"Y":"N":"goods_nm"==d?(g[d]=a.replaceAll(b.goodsNm,"<!HS>","<STRONG>"),g[d]=a.replaceAll(g[d],"<!HE>","</STRONG>")):g[d]=b[c]}),void 0!=b.isDlvToday&&(g.isDlvToday=b.isDlvToday),void 0!=b.isDeptPickYn&&(g.isDeptPickYn=b.isDeptPickYn),void 0!=b.isCrsPickYn&&(g.isCrsPickYn=b.isCrsPickYn),void 0!=b.isDlvQuick&&(g.isDlvQuick=b.isDlvQuick),void 0!=b.nint_card_flag&&(g.nint_card_flag=b.nint_card_flag),g.reivew_list=[],void 0!=b.gdasInfo1&&void 0!=b.gdasInfo1.gdasNo&&""!=b.gdasInfo1.gdasNo&&g.reivew_list.push(b.gdasInfo1),void 0!=b.gdasInfo2&&void 0!=b.gdasInfo2.gdasNo&&""!=b.gdasInfo2.gdasNo&&g.reivew_list.push(b.gdasInfo2),f.push(g)}),f}}])}(),function(){angular.module("hwSwipe",[]).run(["addRule",function(a){a(".hwswipe_clear:after",'content:"";padding:0; margin:0; display:block;clear:both;')}]).factory("addRule",[function(){return function(a,b){try{document.styleSheets[0].addRule(a,b)}catch(c){document.styleSheets[0].insertRule(a+"{"+b+"}")}}}]).controller("hwSwipeCtrl",["$scope","addRule",function(a,b){this.addStyle=b,this.deleteStyle=function(a){var b=document.styleSheets[0];if(b.cssRules.length)for(var c=0;c<b.cssRules.length;++c)-1!=b.cssRules[c].cssText.indexOf(a)&&b.deleteRule(c)},this.swipe={base:"hwsiwpe_",max:99999,get:function(){var a=new Date,b=a.toISOString().slice(0,10).replace(/-/g,""),c=String(a.getHours()),d=String(a.getMinutes()),e=String(a.getSeconds()),f=this.base+this.rStr()+this.rNum()+"_"+b+(c+d+e);return f.toLowerCase()},rStr:function(){for(var a="",b="ABCDEFGHIJKMLNOPQRSTUVWXYZ",c=0;5>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},rNum:function(){return String(Math.floor(Math.random()*this.max))+String(Math.floor(Math.random()*this.max))}}}]).factory("cubicbezier",[function(){return function(a){switch(a){case"easeInExpo":return"cubic-bezier(0.950, 0.050, 0.795, 0.035)";case"easeOutExpo":return"cubic-bezier(0.190, 1.000, 0.220, 1.000)";case"easeInOutExpo":return"cubic-bezier(1, 0, 0, 1)";case"easeOutCubic":return"cubic-bezier(0.215, 0.610, 0.355, 1.000)";case"easeInQuart":return"cubic-bezier(0.895, 0.030, 0.685, 0.220)";case"easeOutQuart":return"cubic-bezier(0.165, 0.840, 0.440, 1.000)";case"easeInOutQuart":return"cubic-bezier(0.77, 0, 0.175, 1)";case"easeInQunut":return"cubic-bezier(0.755, 0.050, 0.855, 0.060)";case"easeOutQuint":return"cubic-bezier(0.230, 1.000, 0.320, 1.000)";case"easeInOutQuint":return"cubic-bezier(0.860, 0.000, 0.070, 1.000)";case"easeInCirc":return"cubic-bezier(0.600, 0.040, 0.980, 0.335";case"easeOutCirc":return"cubic-bezier(0.075, 0.820, 0.165, 1.000)";case"easeInOutCirc":return"cubic-bezier(0.785, 0.135, 0.150, 0.860)";case"easeInBack":return"cubic-bezier(0.600, 0, 0.735, 0.045)";case"easeOutBack":return"cubic-bezier(0.175, 0.885, 0.32, 1.275)";case"easeInOutBack":return"cubic-bezier(0.68, -0.55, 0.265, 1.55)";case"easeInSine":return"cubic-bezier(0.47, 0, 0.745, 0.715)";case"easeOutSine":return"cubic-bezier(0.39, 0.575, 0.565, 1)";case"easeInOutSine":return"cubic-bezier(0.445, 0.05, 0.55, 0.95)";case"easeOutElastic":return"cubic-bezier(.75,-0.5,0,1.75)";default:return""}}}]).directive("hwSwipe",["$timeout","cubicbezier",function(a,b){return{controller:"hwSwipeCtrl",scope:{swipeIndex:"=?",swipeTotal:"=?",swipeController:"=?"},link:function(c,d,e,f){function g(){d.css({display:"block"}),s={touchPos:0,movePos:0,wrap:d.parent(),view:1,page:0,total:0,containerWidth:0,overWidth:0,itemWidth:0,duration:e.duration||300,posx:[],swipe:!1,side:"",infinity:"true"==e.infinity?!0:!1,auto:"true"==e.autoPlay?!0:!1,autotimer:0,interval:e.interval||5e3,easing:e.easing,parentWidth:d.parent()[0].clientWidth,scrolly:0,useScrollPos:"",marginRight:e.marginRight||0},h(),i(),s.swipe&&k()}function h(){var a=window.innerWidth;e.w900&&900>=a&&(s.view=e.w900),e.w640&&640>=a&&(s.view=e.w640),e.w320&&320>=a&&(s.view=e.w320),d.children().length<=s.view?(s.view=d.children().length,s.swipe=!1,t=!1,s.wrap.unbind("touchstart.hwswipe touchmove.hwswipe touchend.hwswipe")):s.swipe=!0}function i(){var a=d.children().length,b=d.parent()[0].clientWidth/s.view,c=b*a+b*s.view*2;s.containerWidth=b*a,s.overWidth=b*s.view,s.total=Math.ceil(a/s.view),s.itemWidth=b,angular.forEach(d.children(),function(a){a.hasAttribute("ng-repeat")&&a.removeAttribute("ng-repeat")}),r||(r=d.children());var e="."+v,g="."+v+" > li";if(f.deleteStyle(e),f.deleteStyle(g),f.addStyle(e,"width:"+c+"px !important"),f.addStyle(g,"width:"+b+"px !important; display:block !important; float:left !important; -webkit-box-sizing:border-box"),s.swipe){for(var h=0;h<s.total;++h){for(var i=[],k=0;k<s.view;++k){var l=h*s.view+k,m=r[l];l<d.children().length&&i.push({left:m.offsetLeft,page:h,index:l})}i.length&&s.posx.push(i)}for(var h=0;h<s.view;++h)j(h,"next");for(var h=r.length-1;h>r.length-1-s.view;--h)j(h,"prev");n(0)}}function j(a,b){var c=angular.element(r[a]).clone(!0,!0);s.infinity&&("next"==b?d.append(c):d.prepend(c))}function k(){t||(t=!0,angular.element(document.body).attr("ondragstart","return false"),angular.element(document.body).attr("onselectstart","return false"),s.wrap.bind("touchstart.hwswipe touchmove.hwswipe touchend.hwswipe",function(a){var b;try{b=a.originalEvent.changedTouches[0]}catch(c){b=a.changedTouches[0]}var d=b.clientX,e=b.clientY;switch(a.type){case"touchstart":a.stopPropagation(),s.touchPos=d,s.scrolly=e;break;case"touchmove":var f=s.touchPos-d,g=s.scrolly-e;Math.abs(g)>10&&"X"!=s.useScrollPos&&(s.useScrollPos="Y"),Math.abs(f)>20&&"Y"!=s.useScrollPos&&(s.useScrollPos="X"),s.side=s.touchPos<d?"prev":"next","Y"!=s.useScrollPos&&(a.preventDefault(),m(f));break;case"touchend":"Y"!=s.useScrollPos?m(s.touchPos-d,!0):o(s.movePos),s.touchPos=s.scrolly=0,s.useScrollPos=""}}))}function l(a,c){return a?{"-webkit-transition":"-webkit-transform "+s.duration+"ms "+b(s.easing),"-moz-transition":"-moz-transform "+s.duration+"ms "+b(s.easing),"-o-transition":"-o-transform "+s.duration+"ms "+b(s.easing),transition:"transform "+s.duration+"ms "+b(s.easing),"-webkit-transform":"translateX("+c+"px)","-moz-transform":"translateX("+c+"px)","-o-transform":"translateX("+c+"px)","-ms-transform":"translateX("+c+"px)",transform:"translateX("+c+"px)"}:{"-webkit-transition":"-webkit-transform 0ms","-moz-transition":"-moz-transform 0ms","-o-transition":"-o-transform 0ms",transition:"transform 0ms","-webkit-transform":"translateX("+c+"px)","-moz-transform":"translateX("+c+"px)","-o-transform":"translateX("+c+"px)","-ms-transform":"translateX("+c+"px)",transform:"translateX("+c+"px)"}}function m(b,c){if(Math.abs(b)&&!s.transition){var e=s.movePos-b;if(c){if(Math.abs(b)<window.innerWidth/6)return void o(s.movePos);s.transition=!0,p(),n(s.page,!0),a(function(){s.page<0&&(n(s.total-1,!1),s.page=s.total-1),s.page>s.total-1&&(n(0,!1),s.page=0),s.transition=!1},s.duration)}else d.css(l(c,e))}}function n(a,b,c){var e;if(a>-1&&a<s.total){if(e=-((s.infinity?s.parentWidth:0)+s.posx[a][0].left),a==s.total-1){var f=(s.infinity?d.children()[0].offsetWidth:0)-s.marginRight;e=-(f+s.posx[a][s.posx[a].length-1].left)}}else 0>a&&(e=0),a>s.total-1&&(e=-(d[0].clientWidth-s.parentWidth));d.css(l(b,e)),s.movePos=e,c&&(s.page=a)}function o(a){d.css(l(!0,a)),s.movePos=a}function p(){"next"==s.side?(s.page<s.total&&s.page++,!s.infinity&&s.page>=s.total-1&&(s.page=s.total-1)):(s.page>-1&&s.page--,!s.infinity&&s.page<0&&(s.page=0))}function q(){r&&(d.children().remove(),d.append(r),g())}var r,s={},t=!1,u=angular.element(window),v=f.swipe.get();d.css({display:"none",position:"relative","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box","will-change":"transform","pointer-events":"auto"}),d.parent().css({"-webkit-user-drag":"none","touch-action":"pan-y","user-select":"none","will-change":"transform","-webkit-font-smoothing":"antialiased","box-sizing":"border-box"}),d.addClass("hwswipe_clear"),d.addClass(v),c.$watch(function(){return s.page},function(a,b){a==b||0>a||a>s.total-1||!s.total||(c.swipeIndex=a,s.auto&&(clearTimeout(s.autotimer),s.autotimer=setTimeout(function(){s.side="next",m(window.innerWidth/2,!0)},s.interval)))}),c.$watch(function(){return s.total},function(a,b){a!=b&&(c.swipeTotal=a)}),c.$watch(function(){return u.width()},function(a,b){a&&a!=b&&r&&q()},!0),u.bind("resize",function(){c.$apply()});var w=c.$watch(function(){return d.children().length},function(b){return b?1==b?(d.css({display:"block"}),void a(function(){1==d.children().length&&w()},4e3)):void a(function(){w(),g()},300):void 0});c.swipeController=function(a){switch(a){case"next":s.side="next",m(window.innerWidth/2,!0);break;case"prev":s.side="prev",m(window.innerWidth/2,!0);break;default:if("number"!=typeof a)return;n(a,!0,!0)}}}}}]).filter("hwRange",function(){return function(a){for(var b=[],c=0;a>c;c++)b.push(c);return b}})}(),function(a,b,c){"use strict";var d=b.module("searchDetailPopup",["lotteComm"]);d.controller("SearchDetailPopupCtrl",["$scope",function(a){}]),d.filter("trusted",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}]),d.directive("videoPoster",[function(){return{restrict:"A",link:function(a,c,d){d.videoPoster&&b.element(c).attr("poster",d.videoPoster),a.vPoster=function(){b.element(c).attr("poster",d.videoPoster)}}}}]),d.directive("searchDetailPopup",["LotteCommon","LotteUtil","LotteScroll","LotteStorage","$window","$timeout","$http","$location","$filter","commInitData",function(a,c,d,e,f,g,h,i,j,k){return{templateUrl:"/lotte/resources_dev/search/search_detail_popup.html",replace:!0,link:function(c,e,f){c.srhPrdDetailInfo={
data:{},show:!1,item:{},imageSwipeIdx:1,showArrow:!0};var i=-1;c.stopAutoPlayTimer=function(){clearTimeout(i)},c.getProductDetailInfo=function(e,f){c.sendTclick("m_RDC_SrhResult_Clk_ProductPop"),c.srhPrdDetailInfo.data={};try{e.vodUrl=e.mpic_info.mpic_url}catch(j){}c.isValidString(e.vodUrl)?(b.copy(e,c.srhPrdDetailInfo.item),c.srhPrdDetailInfo.show=!0,c.srhPrdDetailInfo.idx=f,c.scrollFlag=!1,d.disableScroll(),c.dimmedOpen({target:"prdDetailInfo",callback:c.productDetailInfoClose,scrollEventFlag:!0}),g(function(){b.element(".thumb-wrap").height(b.element(".unit-pop").width())},0),setTimeout(function(){autoVideoPlay("autoVideo1","#autoVideo1",!1,2)},0),i=setTimeout(function(){autoVideoPlay("autoVideo1","#autoVideo1",!1,1)},4e3)):h.get(a.listGoodsImgData,{params:{goods_no:e.goods_no}}).success(function(a,h,i,j){a.contents&&(c.srhPrdDetailInfo.data=a.contents,c.srhPrdDetailInfo.show=!0,c.srhPrdDetailInfo.showArrow=!0,c.srhPrdDetailInfo.item={},b.copy(e,c.srhPrdDetailInfo.item),c.srhPrdDetailInfo.idx=f,c.scrollFlag=!1,d.disableScroll(),c.dimmedOpen({target:"prdDetailInfo",callback:c.productDetailInfoClose,scrollEventFlag:!0}),c.srhPrdDetailInfo.imageSwipeIdx=1,c.setAutoHideSwipeArrow(),g(function(){b.element(".thumb-list").height(b.element(".unit-pop").width())}))}).error(function(a,b,c,d){console.log("Data Error : 상품기본정보 로드 실패")})},c.setAutoHideSwipeArrow=function(){c.srhPrdDetailInfo.showArrow&&g(function(){var a=b.element("#srhPrdDetailInfoArrow");a.fadeOut(2e3)},1e3)},c.getImageSwipeControl=function(a){c.imageSwipeControl=a},c.setImageSwipeInfo=function(a){c.srhPrdDetailInfo.imageSwipeIdx=a+1,c.sendTclick("m_RDC_SrhResult_PopLayer_Swp_Prd_idx"+c.numberFill(a+1,3))},c.advtBnrLstSwipeIdx=1,c.swipeEnd=function(a){c.advtBnrLstSwipeIdx=a+1},c.setImageSwipePos=function(a){var b=c.srhPrdDetailInfo.imageSwipeIdx-1;c.srhPrdDetailInfo.data.imgList.items.length<b+a?b=0:0>b+a?b=c.srhPrdDetailInfo.data.imgList.items.length-1:b+=a,c.imageSwipeControl.moveIndex(b)},c.productDetailInfoClose=function(a){try{document.getElementById("autoVideo1").pause()}catch(b){}return a||c.sendTclick("m_RDC_SrhResult_Poplayer_Clk_Close"),c.srhPrdDetailInfo.show=!1,c.scrollFlag=!0,d.enableScroll(),c.dimmedClose(),!1},c.addWishClick=function(){if(c.srhPrdDetailInfo.data.saveWishYn)return alert("이미 등록된 상품입니다."),!1;var a=c.srhPrdDetailInfo.item;c.srhPrdDetailInfo.idx;if("LECS"==a.outlnkMall)return confirm("공식온라인 몰로 이동후 담을 수 있습니다.")&&LotteLink.goOutLink(a.outlnk,a.outlnkMall),!1;if("SP"==a.outlnkMall)return confirm("롯데슈퍼로 이동후 담을 수 있습니다.")&&LotteLink.goOutLink(a.outlnk,a.outlnkMall),!1;if(!c.loginInfo.isLogin)return alert("로그인 후 이용하실 수 있습니다."),c.loginProc(),!1;if("Y"==a.limit_age_yn){if(""==c.loginInfo.isAdult)return alert("이 상품은 본인 인증 후 이용하실 수 있습니다."),c.goAdultSci(),!1;if(!c.loginInfo.isAdult)return alert("이 상품은 법률규정에 의하여 만 19세 이상 성인만 조회 및 구매가 가능합니다."),!1}c.sendProductWish(a.goods_no,function(a){a?c.srhPrdDetailInfo.data.saveWishYn=!0:c.srhPrdDetailInfo.data.saveWishYn=!1}),c.sendTclick("m_RDC_SrhResult_Poplayer_Clk_Wsh")}}}}])}(window,window.angular);
!function(){"use strict";angular.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteSideMylotte","lotteCommFooter","lotteProduct","lotteNgSwipe","lotteSlider","angular-carousel","searchPlanShop"]).filter("pageRange",[function(){return function(a,b,c){for(var d=[],e=0;e<a.length;e++)e>=b*c&&(b+1)*c>e&&d.push(a[e]);return d}}]).controller("searchPlanShopListCtrl",["$scope","defaultScopeValue",function(a,b){a.showWrap=!0,a.contVisible=!0,a.subTitle="모두보기",a.pageLoading=!0,a.scrollReady=!1,b(a)}]).directive("lotteContainer",["mainClass",function(a){return{restict:"EA",templateUrl:"/lotte/resources_dev/search/planshoplist/search_planshop_list_container.html",replace:!0,link:a}}]).factory("addWish",["LotteLink",function(a){return function(b){b.addWishClick=function(){if(b.srhPrdDetailInfo.data.saveWishYn)return alert("이미 등록된 상품입니다."),!1;var c=b.srhPrdDetailInfo.item;b.srhPrdDetailInfo.idx;if("LECS"==c.outlnkMall)return confirm("공식온라인 몰로 이동후 담을 수 있습니다.")&&a.goOutLink(c.outlnk,c.outlnkMall),!1;if("SP"==c.outlnkMall)return confirm("롯데슈퍼로 이동후 담을 수 있습니다.")&&a.goOutLink(c.outlnk,c.outlnkMall),!1;if(!b.loginInfo.isLogin)return alert("로그인 후 이용하실 수 있습니다."),b.loginProc(),!1;if("Y"==c.limit_age_yn){if(""==b.loginInfo.isAdult)return alert("이 상품은 본인 인증 후 이용하실 수 있습니다."),b.goAdultSci(),!1;if(!b.loginInfo.isAdult)return alert("이 상품은 법률규정에 의하여 만 19세 이상 성인만 조회 및 구매가 가능합니다."),!1}b.sendProductWish(c.goods_no,function(a){a?b.srhPrdDetailInfo.data.saveWishYn=!0:b.srhPrdDetailInfo.data.saveWishYn=!1}),b.sendTclick("m_RDC_SrhResult_Poplayer_Clk_Wsh")}}}]).factory("detailPop",["$http","LotteCommon","$timeout","LotteScroll",function(a,b,c,d){return function(e){e.srhPrdDetailInfo={data:{},show:!1,item:{},imageSwipeIdx:1,showArrow:!0},e.setAutoHideSwipeArrow=function(){e.srhPrdDetailInfo.showArrow&&c(function(){var a=angular.element("#srhPrdDetailInfoArrow");a.fadeOut(2e3)},1e3)},e.getImageSwipeControl=function(a){e.imageSwipeControl=a},e.setImageSwipeInfo=function(a){e.srhPrdDetailInfo.imageSwipeIdx=a+1,e.sendTclick("m_RDC_SrhResult_PopLayer_Swp_Prd_idx"+e.numberFill(a+1,3))},e.advtBnrLstSwipeIdx=1,e.swipeEnd=function(a){e.advtBnrLstSwipeIdx=a+1},e.setImageSwipePos=function(a){var b=e.srhPrdDetailInfo.imageSwipeIdx-1;e.srhPrdDetailInfo.data.imgList.items.length<b+a?b=0:0>b+a?b=e.srhPrdDetailInfo.data.imgList.items.length-1:b+=a,e.imageSwipeControl.moveIndex(b)},e.productDetailInfoClose=function(a){return a||e.sendTclick("m_RDC_SrhResult_Poplayer_Clk_Close"),e.srhPrdDetailInfo.show=!1,e.scrollFlag=!0,d.enableScroll(),e.dimmedClose(),!1},e.getProductDetailInfo=function(f,g){e.sendTclick("m_RDC_SrhResult_Clk_ProductPop"),e.srhPrdDetailInfo.data={},a.get(b.listGoodsImgData,{params:{goods_no:f.goods_no}}).success(function(a,b,h,i){a.contents&&(e.srhPrdDetailInfo.data=a.contents,e.srhPrdDetailInfo.show=!0,e.srhPrdDetailInfo.showArrow=!0,e.srhPrdDetailInfo.item={},angular.copy(f,e.srhPrdDetailInfo.item),e.srhPrdDetailInfo.idx=g,e.scrollFlag=!1,d.disableScroll(),e.dimmedOpen({target:"prdDetailInfo",callback:e.productDetailInfoClose,scrollEventFlag:!0}),e.srhPrdDetailInfo.imageSwipeIdx=1,e.setAutoHideSwipeArrow(),c(function(){angular.element(".thumb-list").height(angular.element(".unit-pop").width())}))}).error(function(a,b,c,d){console.log("Data Error : 상품기본정보 로드 실패")})}}}]).factory("productLink",["LotteCommon",function(a){return function(a){var b=a.$watch(function(){var a=!1;try{a=angular.element("[product-container]").children().scope().productInfoClick?!0:!1}catch(b){}return a},function(c){c&&(b(),angular.element("[product-container]").children().scope().productInfoClick=function(b,c,d){var e=a.getTclick(2,this.$index),f=a.getProductViewUrl(b,e);f+="&curDispNoSctCd="+a.curDispNoSctCd,location.href=f})})}}]).factory("scrollPaging",["updatePosition","$window",function(a,b){return function(c){c.getHere=function(){return angular.element(".unitWrap .here")},angular.element(b).on("scroll",function(d){var e=angular.element(b),f=angular.element("body"),g=e.height(),h=f[0].scrollHeight,i=4;return a.setPos(e.scrollTop()),c.scrollinitFixed&&c.hereState&&(c.hereState=!1,c.getHere().addClass("remove"),setTimeout(function(){c.getHere().remove()},500)),c.scrollFlag?void(!c.productMoreScroll||c.productListLoading||c.pageLoading||(h=f[0].scrollHeight,i=e.width()>=640?2:4,c.scrollReady&&e.scrollTop()+g>=h-g*i&&c.loadDataParams())):void d.preventDefault()}),c.loadDataParams=function(){return c.isShowLoading||c.productListLoading||angular.element(window).innerHeight()==angular.element(document).innerHeight()?!1:(c.postParams.page=c.postParams.page+1,c.postParams.rtnType="P",void c.getData())},angular.element(window).bind("resize",function(b){a.setPos(window.scrollY)})}}]).factory("defaultScopeValue",["commInitData","currentPage","addWish","detailPop","productLink","scrollPaging",function(a,b,c,d,e,f){return function(g){for(var h in b.def)g[h]=b.def[h];a.query.keyword&&(a.query.keyword=decodeURIComponent(a.query.keyword)),g.scrollFlag=!0,g.isShowLoading=!1,g.productListLoading=!1,g.productMoreScroll=!0,g.tipShow=!1,g.templateType="search_image_2017",g.total_count="",g.products=[],g.scrollinitFixed=!1,g.useScrollAction=!1,g.hereState=!0,g.counting=0,g.moreType=a.query.moreType||0,g.postParams={};try{var i=g.postParams,j=a.query;for(var k in j)i[k]=j[k]}catch(l){}g.postParams.page=1,g.postParams.rtnType="";var m=[d,c,e,f];for(var h in m)m[h](g)}}]).factory("mainClass",["$http","$window","$timeout","updatePosition","currentPage","dataReplaceKey","LotteCommon","LotteStorage","commInitData",function(a,b,c,d,e,f,g,h,i){return function(j){function k(){null==history.state||"searchPlanshopList"!=history.state.name?(history.replaceState({name:"searchPlanshopList"},"searchPlanshopList"),j.getData()):(s=!0,j.scrollinitFixed=!0,m()?(j.pageLoading=j.productListLoading=!1,q()):j.getData()),angular.element(b).on("unload",l)}function l(){var a={scrollTop:angular.element(b).scrollTop(),total_count:j.total_count,products:j.products,postParams:j.postParams};h.setSessionStorage("SEARCH_PLANSHOP_SSST",a,"json")}function m(){var a=h.getSessionStorage("SEARCH_PLANSHOP_SSST","json");if(void 0==a)return!1;try{p(a.total_count),j.products=a.products,j.postParams=a.postParams,j.isValidNumber(a.scrollTop)&&d.setPos(a.scrollTop)}catch(b){return!1}return!0}function n(a){var b=(a.data.max||a.data).prdLst;p((a.data.max||a.data).tCnt);try{b&&b.items.length||(j.productMoreScroll=!1)}catch(d){j.scrollFlag=j.productMoreScroll=!1}if(b&&b.items){for(var e,g=b.items.length,h=0;g>h;h++)e=b.items[h],void 0!=e.brandNm&&(e.brandNm=e.brandNm.replace(/\[|\]/g,""));j.products=j.products.concat(f(b.items))}j.pageLoading=j.productListLoading=!1,j.products.length>=j.total_count&&(j.productMoreScroll=!1),c(r,100),q()}function o(a){q()}function p(a){j.isValidNumber(a)&&(j.total_count=a,j.subTitle="모두보기 ("+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+")")}function q(){c(function(){j.scrollReady=!0},100)}function r(){if(!j.scrollinitFixed&&!s){var a,b=0,d=angular.element("#lotteHeader").innerHeight(),e=angular.element("#head_sub").innerHeight(),f=20;try{a=angular.element("[product-container] ol>li").children()[14],b=angular.element(a).offset().top,window.scrollTo(0,b-(d+e)-f-(1==j.moreType?-10:0)),j.getHere().css({display:"block",top:b-(d+e)-(f+7)}),c(function(){j.scrollinitFixed=!0},1e3)}catch(g){}s=!0}}var s=!1;j.getData=function(){j.sendTclick(j.getTclick(1,j.postParams.page)),"localhost:8082"==location.host&&(e.json[0]=g.srhListData2016LC),j.productListLoading=!0,delete j.postParams.goodsNoList,a.get(e.json[0],{params:j.postParams}).then(n,o)};var t=0;angular.element(b).bind("touchstart.plan touchmove.plan touchend.plan",function(a){switch(a.type){case"touchstart":t=a.originalEvent.changedTouches[0].clientY;break;case"touchmove":!j.scrollinitFixed&&Math.abs(t-a.originalEvent.changedTouches[0].clientY)>50&&(j.scrollinitFixed=!0,angular.element(b).unbind("touchstart.plan touchmove.plan touchend.plan"))}}),j.getTclick=function(a,b){var c="";c="1"==i.query.moreType?j.tClickBase+"side_cate_catesmall_"+i.query.mGrpNo+"_":j.tClickBase+"SrhResult_";var d="";switch("number"==typeof b&&(2==a&&b++,d=10>b?"00"+b:100>b?"0"+b:b),a){case 1:c+="Deal_Scl_Prd_page"+d;break;case 2:c+="Deal_Clk_Deal_"+d;break;case 3:c+="Deal_Clk_Back_Btn"}return c},k()}}]).service("updatePosition",["$q",function(a){this.synccpos=a.defer(),this.syncresize=a.defer(),this._pos=0,this.setPos=function(a){this._pos=0,this.synccpos.notify(a)},this.getPos=function(){return this._pos},this.updateState=function(){return this.synccpos.promise},this.setResize=function(a){this.syncresize.notify(a)},this.catchResize=function(){return this.syncresize.promise}}]).config(["LotteCommonProvider","commInitDataProvider","$provide",function(a,b,c){var d=b.$get().query.moreType||0;c.decorator("prodConfig",["$delegate",function(b){for(var e=0;e<b.catchInfo.length;++e)if(b.catchInfo[e].hideParams=[],b.catchInfo[e].noparams=["cateDepth1","cateDepth2","cateDiv","tclick","title","moreType","curDispNo","curDispNo2","curDispNoSctCd","sort","idx","schema","c","cdn","cn","udid","v"],b.catchInfo[e].page=a.$get().searchPanShopList,b.catchInfo[e].necessaryParams={cmpsCd:30,sort:e?"TOT_ORD_CNT,1":"RANK,1"},1==e&&(b.catchInfo[e].necessaryParams=angular.extend({pageType:"C"},b.catchInfo[e].necessaryParams)),d==e){var f=b.catchInfo[e];c.decorator("currentPage",[function(){return f}])}return b}])}])}(),function(){angular.module("searchPlanShop",["hwSwipe"]).value("currentPage",{}).constant("observers",{request:"request",response:"response"}).provider("prodConfig",["LotteCommonProvider",function(a){var b=a.$get(),c={actionParams:{},catchInfo:[{page:b.searchUrl,json:[b.srhListData2016,b.srhListData2016LC],necessaryParams:{cmpsCd:50,dispCnt:30},hideParams:["ctgNo","dsCtgDepth","brdNo","ctgDepth1","ctgDepth2","ctgDepth3","ctgDepth4","ctgDepth5","priceMaxU","priceMinU","freeInstYN","pointYN","smpickYN","isDlvQuick","colorCd","freeDeliYN","deptYN","tvhomeYN","superYN","brdstoreYN","pkgYN","freeGiftYN","delQuickYN","delSevenYN","delTdarYN","dtCtgNo","dtCtgDepth","dtDsCtgDepth","feelNo","shoesSize","starPoint"],def:{screenID:"SrhResult",curDispNoSctCd:50,moreType:0},noparams:[]},{page:b.categoryUrl,json:[b.cateListData2018],necessaryParams:{cmpsCd:50,dispCnt:30},hideParams:["ctgNo","dsCtgDepth","brdNo","ctgDepth1","ctgDepth2","ctgDepth3","ctgDepth4","ctgDepth5","priceMaxU","priceMinU","freeInstYN","pointYN","smpickYN","isDlvQuick","colorCd","freeDeliYN","deptYN","tvhomeYN","superYN","brdstoreYN","pkgYN","freeGiftYN","delQuickYN","isDlvToday","isCrsPickYn","feelNo","shoesSize","starPoint"],def:{screenID:"side_cate_catesmall",curDispNoSctCd:73,moreType:1},noparams:[]}]};return{setResponseParams:function(a){"object"==typeof a&&(c.actionParams=angular.extend(a,c.actionParams))},setCatchInfo:function(a){"object"==typeof a&&(a.page=urls[a.page],a.json=urls[a.json],c.catchInfo.push(a))},$get:function(){return c}}}]).factory("catchFilter",["prodConfig","LotteCommon","searchPlanShopService","observers",function(a,b,c,d){var e={permit:a.catchInfo,URLFilter:function(a){var b=null;for(var d in e.permit)for(var f in e.permit[d].json)-1!=a.indexOf(e.permit[d].json[f])&&(c.getCurrPage().json||c.setCurrPage(e.permit[d]),b=angular.copy(e.permit[d].necessaryParams));return b},ParamsFilter:function(b){var d=!1;if(b||(b={}),1===b.page){c.visibleState.set(!1);for(var e in b){for(var f in c.getCurrPage().hideParams)if(e===c.getCurrPage().hideParams[f]&&b[e]){c.visibleState.set(!0),d=!0;break}if(c.visibleState.get())for(var g in a.actionParams)if(e===g&&(!a.actionParams[g]&&!b[e]||a.actionParams[g]&&b[e])){c.visibleState.set(!1),d=!0;break}if(d)break}}return c.visibleState.get()},request:function(a){return e.URLFilter(a.url)},response:function(a){e.URLFilter(a.config.url)&&c.promiseList[d.response].set({data:a.data,visible:e.ParamsFilter(a.config.params)})}};return e}]).factory("httpInterceptor",["$q","catchFilter","searchPlanShopService",function(a,b,c){return{request:function(d){for(var e=c.getCurrPage().noparams||[],f=0;f<e.length;++f)for(var g in d.params)g===e[f]&&delete d.params[g];var h=b.request(d);return h&&(d.params||(d.params={}),d.params=angular.extend(h,d.params)),h&&d.params&&c.setParams(d.params),d||a.when(d)},response:function(c){return b.response(c),c||a.when(c)},requestError:function(b){return a.reject(b)},responseError:function(b){return a.reject(b)}}}]).directive("searchPlanShop",["searchPlanShopService","prodConfig","observers","LotteCommon","dataReplaceKey","commInitData","$timeout",function(a,b,c,d,e,f,g){return{restrict:"EA",scope:!0,replace:!0,templateUrl:"/lotte/resources_dev/search/products/planshop/planshop_list.html",link:function(h){function i(b){var c="?";for(var d in b)"tclick"!=d&&"title"!=d&&"cmpsCd"!=d&&"sort"!=d&&(c+=d+"="+b[d]+"&");return c=c.substr(0,c.length-1)+"&moreType="+a.getCurrPage().def.moreType,c+="&"+baseParam}function j(a,b){var c="";switch(c=location.href.indexOf("new_prod_list.do")>=0?h.tClickBase+"side_cate_catesmall_"+f.query.mGrpNo+"_":h.tClickBase+"SrhResult_",a){case 1:c+="Clk_Deal_"+(b+1);break;case 2:c+="Swp_Deal_"+(b+1);break;case 3:c+="Clk_Deal_GoL"}return c}h.visiblity=!1,h.planShopData=[],h.swipeVisible=!1;var k=!1;g(function(){if(k!==!0)try{var c,d,f=b.catchInfo.length;for(c=0;f>c;c++)if(d=b.catchInfo[c],location.href.indexOf(d.page)>=0){a.setCurrPage(d);break}h.planShopData=e(h.srhResultData.planPrdLst.items),h.swipeVisible=!0}catch(g){}},10),a.promiseList[c.response].get().then(null,null,function(a){k=!0,h.visiblity=a.visible;var b=a.data.max||a.data;try{b.planPrdLst.items&&(h.planShopData=e(b.planPrdLst.items)),h.swipeVisible=!0}catch(c){a.visible&&(h.planShopData=[]),console.log("[planshop_list] : 데이터 없음")}}),h.more=function(){location.href.indexOf("new_prod_list.do")>=0?location.href=d.searchPanShopList+i(f.query)+"&tclick="+j(3):location.href=d.searchPanShopList+i(a.getParams()||f.query)+"&tclick="+j(3)},h.$watch("planShopData",function(){try{var a=angular.element(".planshop_list_wrap [hw-swipe]").scope();a.planshopSwpIdx=0,a.planshopTotal=Math.min(h.planShopData.length,14),h.swipeVisible=!1,g(function(){h.swipeVisible=!0},100)}catch(b){}}),h.planProductsLink=function(a){var b=j(1,this.$index),c=h.getProductViewUrl(a,b);c+="&curDispNoSctCd="+h.curDispNoSctCd,location.href=c},h.$watch(function(){var a=0;try{a=angular.element(".planshop_list_wrap [hw-swipe]").scope().planshopSwpIdx}catch(b){}return a},function(a,b){a!==b&&void 0!==a&&h.sendTclick(j(2,a))})}}}]).service("searchPlanShopService",["$q","currentPage",function(a,b){this.promiseList={},this.addPromise=function(b){var c=this;if(!c.promiseList[b]){var d=c.promiseList[b]={},e=a.defer();d.defer=e,d.notify=e.notify,d.get=function(){return e.promise},d.set=function(a){e.notify(a)}}},this.visibleState={state:!1,set:function(a){this.state=a},get:function(){return this.state}},this.setCurrPage=function(a){b=a},this.getCurrPage=function(){return b},this.setParams=function(a){this.params=a},this.getParams=function(){return this.params}}]).config(["$httpProvider","prodConfigProvider",function(a,b){a.interceptors.push("httpInterceptor"),b.setResponseParams({rtnType:!1})}]).run(["observers","searchPlanShopService",function(a,b){if(a)for(var c in a)b.addPromise(a[c])}]).factory("dataReplaceKey",["LotteUtil",function(a){return function(b){try{if(b[0].goods_nm&&b[0].goods_no)return angular.forEach(b,function(a,b){a.brnd_nm=a.brnd_nm.replace(/\[|\]/g,"")}),b}catch(c){return[]}var d={goods_no:"goodsNo",goods_nm:"goodsNm",brnd_nm:"brandNm",img_url:"imgUrl",original_price:"price1",discounted_price:"price2",sale_rate:"saleRate",flag:"flag",review_count:"reviewCnt",avg_gdas_stfd_val:"avg_gdas_stfd_val",smartpick_yn:"isSmpick",limit_age_yn:"byrAgelmt",is_himart:"isHimart",is_dept:"isDept",is_tvhome:"isTvhome",is_youngplz:"isYoung",is_super:"isSuper",is_sale_promotion:"goodsCmpsCd",outlnk:"outlnk",outlnkMall:"outlnkMall",curDispNo:"curDispNo",has_coupon:"useCpn",hash_list:"hash_list",find_age:"find_age",find_gender:"find_gender",savePoint:"savePoint",vodUrl:"vodUrl"},e={goods_no:"",goods_nm:"",brnd_nm:"",img_url:"",img_url_550:"",original_price:"",discounted_price:"",sale_rate:"",flag:"",is_sold_out:!1,has_coupon:!1,has_wish:!1,is_sale_promotion:!1,review_count:0,bought_sum:0,md_tip:"",promotion_text:"",isdlex_free:!1,smartpick_yn:!1,sold_out_cd_yn:"N",limit_age_yn:"N",link_url:"",is_himart:"",is_dept:"",is_youngplz:"",outlnk:"",outlnkMall:"",curDispNo:"",savePoint:0,vodUrl:""},f=[];return angular.forEach(b,function(b,c){var g=angular.copy(e);angular.forEach(d,function(c,d){"has_coupon"==d?g[d]="coupon"==b[c]?!0:!1:"flag"==d?b.flag&&b.flag.indexOf("무료배송")>-1&&(g.isdlex_free=!0):"is_sale_promotion"==d?"30"==b.goodsCmpsCd&&(g[d]=!0):"sale_rate"==d||"savePoint"==d?null==b[c]?g[d]=0:g[d]=parseInt(b[c]):"smartpick_yn"==d?g[d]=b[c]?"Y":"N":"limit_age_yn"==d?g[d]=19==b[c]?"Y":"N":"goods_nm"==d?(g[d]=a.replaceAll(b.goodsNm,"<!HS>","<STRONG>"),g[d]=a.replaceAll(g[d],"<!HE>","</STRONG>")):g[d]=b[c]}),void 0!=b.isDlvToday&&(g.isDlvToday=b.isDlvToday),void 0!=b.isDeptPickYn&&(g.isDeptPickYn=b.isDeptPickYn),void 0!=b.isCrsPickYn&&(g.isCrsPickYn=b.isCrsPickYn),void 0!=b.isDlvQuick&&(g.isDlvQuick=b.isDlvQuick),void 0!=b.nint_card_flag&&(g.nint_card_flag=b.nint_card_flag),g.reivew_list=[],void 0!=b.gdasInfo1&&void 0!=b.gdasInfo1.gdasNo&&""!=b.gdasInfo1.gdasNo&&g.reivew_list.push(b.gdasInfo1),void 0!=b.gdasInfo2&&void 0!=b.gdasInfo2.gdasNo&&""!=b.gdasInfo2.gdasNo&&g.reivew_list.push(b.gdasInfo2),f.push(g)}),f}}])}(),function(a,b,c){"use strict";var d=b.module("lotteSwipe",[]);d.directive("lotteSwipperCont",["$window","$timeout",function(c,d){return{link:function(c,d,e,f){c.lotteSwipper=function(){function f(){g(),j(H),u(),null!=R&&R(G,H)}function g(){A.attr("style",l(0,0)+"width:"+C+"px")}function h(a){return S?!1:void z.attr("style",l(0,a+"px"))}function i(a,b){A.eq(a).attr("style",l(0,0)),0>b?A.eq(o(a)).attr("style",l(0,"100%")):A.eq(n(a)).attr("style",l(0,"-100%"))}function j(a){B>2?b.forEach(A,function(b,c){c==n(a)?A.eq(c).attr("style",l(0,"-100%")):c==o(a)?A.eq(c).attr("style",l(0,"100%")):c==a?A.eq(c).attr("style",l(0,0)):A.eq(c).attr("style",l(0,"200%"))}):2==B?(A.eq(a).attr("style",l(0,0)),A.eq(o(a)).attr("style",l(0,"100%"))):1==B&&A.attr("style",l(0,0)),z.attr("style",l(0,0)),S=!1}function k(a){var b="";G=H,0>a?(b=l(K,"-100%"),H=o(H),S=!0):a>0?(b=l(K,"100%"),H=n(H),S=!0):b=l(K,"0"),z.attr("style",b)}function l(a,b){var c="";return c=0!=a?"-webkit-transform:translate3d("+b+",0,0);transform:translate3d("+b+",0,0);-webkit-transition-property:-webkit-transform;-webkit-transition-duration:"+a+";transition-property:transform;transition-duration:"+a+";":"-webkit-transform:translate3d("+b+",0,0);transform:translate3d("+b+",0,0);-webkit-transition-property:-webkit-transform;transition-property:transform;"}function m(a){return a.match(/(-?[0-9\.]+)/g)}function n(a){return 0==a?B-1:a-1}function o(a){return a==B-1?0:a+1}function p(a){I=!0,P=0;var b=a.originalEvent.touches[0];M=b.clientX,N=b.clientY;var c=m(z.css("transform"));L=parseInt(c[4])}function q(a){var b=a.originalEvent.touches[0],c=J?!0:Math.abs(b.clientY-N)<Math.abs(b.clientX-M),d=0;c&&(J=!0,a.preventDefault(),O=L+b.clientX-M,d=0>O?-1:O>0?1:0,d!=P&&i(H,d),d=P,h(O))}function r(a){I=!1,J=!1,P=0,k(C*Q<Math.abs(O)?O:0),O=0}function s(a){j(H),null!=R&&R(G,H)}function t(a){C=y.width(),D=y.height(),E=A.width(),F=A.height(),g(),j(H)}function u(){B>1&&(y.on({touchstart:p,touchmove:q,touchend:r,prev:function(){k(1)},next:function(){k(-1)}}),z.on("transitionend",s)),x.on("resize",t)}var v=c[e.lotteSwipperCont],w=b.extend({containerSelector:">ul",itemsSelector:">ul >li",startIdx:0,duration:"0.5s",swipeRangeRate:.2,swipeEndFunc:null},v);if(!w.containerSelector||!w.itemsSelector)return!1;var x=b.element(a),y=d,z=y.find(w.containerSelector),A=y.find(w.itemsSelector),B=A.length,C=y.width(),D=y.height(),E=A.width(),F=A.height(),G=-1,H=w.startIdx?1*w.startIdx:0,I=!1,J=!1,K=w.duration?w.duration:"0.5s",L=0,M=0,N=0,O=0,P=0,Q=w.swipeRangeRate?1*w.swipeRangeRate:.2,R=w.swipeEndFunc?w.swipeEndFunc:null,S=!1;f()}}}}]),d.directive("lotteSwipperItem",[function(){return{link:function(a,b,c){a.$last===!0&&a.lotteSwipper()}}}])}(window,window.angular),function(a,b,c){"use strict";var d=b.module("lotteSlider",[]);d.controller("LotteSlideCtrl",["$scope",function(b){b.getTranslateXCssObj=function(a,b){var c={"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-transform":"translateX("+a+"px)","-ms-transform":"translateX("+a+"px)","-moz-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)","-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""};return b&&b>0&&(c["-webkit-transition"]="-webkit-transform "+b+"ms",c["-moz-transition"]="-moz-transform "+b+"ms",c["-o-transition"]="-o-transform "+b+"ms",c.transition="transform "+b+"ms"),c},b.removeTranslateCSS=function(){return{"-webkit-backface-visibility":"","-moz-backface-visibility":"","backface-visibility":"","-webkit-transform":"","-ms-transform":"","-moz-transform":"",transform:""}},b.getCoordinates=function(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}},b.getTransXPos=function(b){var c=a.getComputedStyle(b.get(0)),d=new WebKitCSSMatrix(c.webkitTransform);return d.m41}}]),d.directive("lotteSlider",["$window","$timeout","$parse",function(a,c,d){return{controller:"LotteSlideCtrl",link:function(d,e,f,g){function h(){m=k.outerWidth(),l.css({display:"inline-block"}),n=l.outerWidth(),x=-(n-m);var a=d.getTransXPos;(a.x>0||a.x<x)&&i(0,500)}function i(a,b){l.css(d.getTranslateXCssObj(a,b)),k.trigger({type:"slide",posX:a,wrapWidth:m,contWidth:n})}function j(){k.on({"touchstart.lotteSlider":function(a){m=k.outerWidth(),n=l.outerWidth(),y=!1,z=!1,n>m&&(a.stopPropagation(),o=!0,q=d.getCoordinates(a),p=d.getTransXPos(l),t=Date.now())},"touchmove.lotteSlider":function(a){if(o){var b,c;if(r=d.getCoordinates(a),b=Math.abs(r.x-q.x),c=Math.abs(r.y-q.y),y||(z=b>c,y=!0),z){b>5&&a.preventDefault(),a.stopPropagation();var e=p+r.x-q.x;e>0?e/=3:x>e&&(e=x+(e-x)/3),i(e,0)}}},"touchend.lotteSlider":function(a){if(s=d.getCoordinates(a),o&&q.x!=s.x&&(Math.abs(q.x-s.x)>5&&a.preventDefault(),event.stopPropagation(),y=!1,z)){m=k.outerWidth();var b=d.getTransXPos(l);u=Date.now(),w=q.x>s.x?-1:1,v=u-t;var c=Math.abs(q.x-s.x),e=.4,f=c*e/v,g=b+m*f*w;g>0?g=0:x>g&&(g=x),(Math.abs(b-g)>30||0==g||g==x)&&i(g,500)}},"touchcancel.lotteSlider":function(a){}}),b.element(a).on("resize.lotteSlider orientationchange.lotteSlider",function(){h()})}var k=b.element(e),l=k.find(">").eq(0),m=k.width(),n=l.width(),o=!1,p=0,q=null,r=null,s=null,t=0,u=0,v=0,w=0,x=0;d.lotteSliderMoveXPos=function(a,b){m=k.width(),n=l.width(),a>0?a=0:Math.abs(a)>n-m&&(a=-(n-m)),b||(b=0),i(a,b)},d.reset=function(){o=!1,i(0,0),c(function(){h()})};var y=!1,z=!1;c(function(){h(),j()})}}}])}(window,window.angular),function(){angular.module("hwSwipe",[]).run(["addRule",function(a){a(".hwswipe_clear:after",'content:"";padding:0; margin:0; display:block;clear:both;')}]).factory("addRule",[function(){return function(a,b){try{document.styleSheets[0].addRule(a,b)}catch(c){document.styleSheets[0].insertRule(a+"{"+b+"}")}}}]).controller("hwSwipeCtrl",["$scope","addRule",function(a,b){this.addStyle=b,this.deleteStyle=function(a){var b=document.styleSheets[0];if(b.cssRules.length)for(var c=0;c<b.cssRules.length;++c)-1!=b.cssRules[c].cssText.indexOf(a)&&b.deleteRule(c)},this.swipe={base:"hwsiwpe_",max:99999,get:function(){var a=new Date,b=a.toISOString().slice(0,10).replace(/-/g,""),c=String(a.getHours()),d=String(a.getMinutes()),e=String(a.getSeconds()),f=this.base+this.rStr()+this.rNum()+"_"+b+(c+d+e);return f.toLowerCase()},rStr:function(){for(var a="",b="ABCDEFGHIJKMLNOPQRSTUVWXYZ",c=0;5>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},rNum:function(){return String(Math.floor(Math.random()*this.max))+String(Math.floor(Math.random()*this.max))}}}]).factory("cubicbezier",[function(){return function(a){switch(a){case"easeInExpo":return"cubic-bezier(0.950, 0.050, 0.795, 0.035)";case"easeOutExpo":return"cubic-bezier(0.190, 1.000, 0.220, 1.000)";case"easeInOutExpo":return"cubic-bezier(1, 0, 0, 1)";case"easeOutCubic":return"cubic-bezier(0.215, 0.610, 0.355, 1.000)";case"easeInQuart":return"cubic-bezier(0.895, 0.030, 0.685, 0.220)";case"easeOutQuart":return"cubic-bezier(0.165, 0.840, 0.440, 1.000)";case"easeInOutQuart":return"cubic-bezier(0.77, 0, 0.175, 1)";case"easeInQunut":return"cubic-bezier(0.755, 0.050, 0.855, 0.060)";case"easeOutQuint":return"cubic-bezier(0.230, 1.000, 0.320, 1.000)";case"easeInOutQuint":return"cubic-bezier(0.860, 0.000, 0.070, 1.000)";case"easeInCirc":return"cubic-bezier(0.600, 0.040, 0.980, 0.335";case"easeOutCirc":return"cubic-bezier(0.075, 0.820, 0.165, 1.000)";case"easeInOutCirc":return"cubic-bezier(0.785, 0.135, 0.150, 0.860)";case"easeInBack":return"cubic-bezier(0.600, 0, 0.735, 0.045)";case"easeOutBack":return"cubic-bezier(0.175, 0.885, 0.32, 1.275)";case"easeInOutBack":return"cubic-bezier(0.68, -0.55, 0.265, 1.55)";case"easeInSine":return"cubic-bezier(0.47, 0, 0.745, 0.715)";case"easeOutSine":return"cubic-bezier(0.39, 0.575, 0.565, 1)";case"easeInOutSine":return"cubic-bezier(0.445, 0.05, 0.55, 0.95)";case"easeOutElastic":return"cubic-bezier(.75,-0.5,0,1.75)";default:return""}}}]).directive("hwSwipe",["$timeout","cubicbezier",function(a,b){return{controller:"hwSwipeCtrl",scope:{swipeIndex:"=?",swipeTotal:"=?",swipeController:"=?"},link:function(c,d,e,f){function g(){d.css({display:"block"}),s={touchPos:0,movePos:0,wrap:d.parent(),view:1,page:0,total:0,containerWidth:0,overWidth:0,itemWidth:0,duration:e.duration||300,posx:[],swipe:!1,side:"",infinity:"true"==e.infinity?!0:!1,auto:"true"==e.autoPlay?!0:!1,autotimer:0,interval:e.interval||5e3,easing:e.easing,parentWidth:d.parent()[0].clientWidth,scrolly:0,useScrollPos:"",marginRight:e.marginRight||0},h(),i(),s.swipe&&k()}function h(){var a=window.innerWidth;e.w900&&900>=a&&(s.view=e.w900),e.w640&&640>=a&&(s.view=e.w640),e.w320&&320>=a&&(s.view=e.w320),d.children().length<=s.view?(s.view=d.children().length,s.swipe=!1,t=!1,s.wrap.unbind("touchstart.hwswipe touchmove.hwswipe touchend.hwswipe")):s.swipe=!0}function i(){var a=d.children().length,b=d.parent()[0].clientWidth/s.view,c=b*a+b*s.view*2;s.containerWidth=b*a,s.overWidth=b*s.view,s.total=Math.ceil(a/s.view),s.itemWidth=b,angular.forEach(d.children(),function(a){a.hasAttribute("ng-repeat")&&a.removeAttribute("ng-repeat")}),r||(r=d.children());var e="."+v,g="."+v+" > li";if(f.deleteStyle(e),f.deleteStyle(g),f.addStyle(e,"width:"+c+"px !important"),f.addStyle(g,"width:"+b+"px !important; display:block !important; float:left !important; -webkit-box-sizing:border-box"),s.swipe){for(var h=0;h<s.total;++h){for(var i=[],k=0;k<s.view;++k){var l=h*s.view+k,m=r[l];l<d.children().length&&i.push({left:m.offsetLeft,page:h,index:l})}i.length&&s.posx.push(i)}for(var h=0;h<s.view;++h)j(h,"next");for(var h=r.length-1;h>r.length-1-s.view;--h)j(h,"prev");n(0)}}function j(a,b){var c=angular.element(r[a]).clone(!0,!0);s.infinity&&("next"==b?d.append(c):d.prepend(c))}function k(){t||(t=!0,angular.element(document.body).attr("ondragstart","return false"),angular.element(document.body).attr("onselectstart","return false"),s.wrap.bind("touchstart.hwswipe touchmove.hwswipe touchend.hwswipe",function(a){var b;try{b=a.originalEvent.changedTouches[0]}catch(c){b=a.changedTouches[0]}var d=b.clientX,e=b.clientY;switch(a.type){case"touchstart":a.stopPropagation(),s.touchPos=d,s.scrolly=e;break;case"touchmove":var f=s.touchPos-d,g=s.scrolly-e;Math.abs(g)>10&&"X"!=s.useScrollPos&&(s.useScrollPos="Y"),Math.abs(f)>20&&"Y"!=s.useScrollPos&&(s.useScrollPos="X"),s.side=s.touchPos<d?"prev":"next","Y"!=s.useScrollPos&&(a.preventDefault(),m(f));break;case"touchend":"Y"!=s.useScrollPos?m(s.touchPos-d,!0):o(s.movePos),s.touchPos=s.scrolly=0,s.useScrollPos=""}}))}function l(a,c){return a?{"-webkit-transition":"-webkit-transform "+s.duration+"ms "+b(s.easing),"-moz-transition":"-moz-transform "+s.duration+"ms "+b(s.easing),"-o-transition":"-o-transform "+s.duration+"ms "+b(s.easing),transition:"transform "+s.duration+"ms "+b(s.easing),"-webkit-transform":"translateX("+c+"px)","-moz-transform":"translateX("+c+"px)","-o-transform":"translateX("+c+"px)","-ms-transform":"translateX("+c+"px)",transform:"translateX("+c+"px)"}:{"-webkit-transition":"-webkit-transform 0ms","-moz-transition":"-moz-transform 0ms","-o-transition":"-o-transform 0ms",transition:"transform 0ms","-webkit-transform":"translateX("+c+"px)","-moz-transform":"translateX("+c+"px)","-o-transform":"translateX("+c+"px)","-ms-transform":"translateX("+c+"px)",transform:"translateX("+c+"px)"}}function m(b,c){if(Math.abs(b)&&!s.transition){var e=s.movePos-b;if(c){if(Math.abs(b)<window.innerWidth/6)return void o(s.movePos);s.transition=!0,p(),n(s.page,!0),a(function(){s.page<0&&(n(s.total-1,!1),s.page=s.total-1),s.page>s.total-1&&(n(0,!1),s.page=0),s.transition=!1},s.duration)}else d.css(l(c,e))}}function n(a,b,c){var e;if(a>-1&&a<s.total){if(e=-((s.infinity?s.parentWidth:0)+s.posx[a][0].left),a==s.total-1){var f=(s.infinity?d.children()[0].offsetWidth:0)-s.marginRight;e=-(f+s.posx[a][s.posx[a].length-1].left)}}else 0>a&&(e=0),a>s.total-1&&(e=-(d[0].clientWidth-s.parentWidth));d.css(l(b,e)),s.movePos=e,c&&(s.page=a)}function o(a){d.css(l(!0,a)),s.movePos=a}function p(){"next"==s.side?(s.page<s.total&&s.page++,!s.infinity&&s.page>=s.total-1&&(s.page=s.total-1)):(s.page>-1&&s.page--,!s.infinity&&s.page<0&&(s.page=0))}function q(){r&&(d.children().remove(),d.append(r),g())}var r,s={},t=!1,u=angular.element(window),v=f.swipe.get();d.css({display:"none",position:"relative","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box","will-change":"transform","pointer-events":"auto"}),d.parent().css({"-webkit-user-drag":"none","touch-action":"pan-y","user-select":"none","will-change":"transform","-webkit-font-smoothing":"antialiased","box-sizing":"border-box"}),d.addClass("hwswipe_clear"),d.addClass(v),c.$watch(function(){return s.page},function(a,b){a==b||0>a||a>s.total-1||!s.total||(c.swipeIndex=a,s.auto&&(clearTimeout(s.autotimer),s.autotimer=setTimeout(function(){s.side="next",m(window.innerWidth/2,!0)},s.interval)))}),c.$watch(function(){return s.total},function(a,b){a!=b&&(c.swipeTotal=a)}),c.$watch(function(){return u.width()},function(a,b){a&&a!=b&&r&&q()},!0),u.bind("resize",function(){c.$apply()});var w=c.$watch(function(){return d.children().length},function(b){return b?1==b?(d.css({display:"block"}),void a(function(){1==d.children().length&&w()},4e3)):void a(function(){w(),g()},300):void 0});c.swipeController=function(a){switch(a){case"next":s.side="next",m(window.innerWidth/2,!0);break;case"prev":s.side="prev",m(window.innerWidth/2,!0);break;default:if("number"!=typeof a)return;n(a,!0,!0)}}}}}]).filter("hwRange",function(){return function(a){for(var b=[],c=0;a>c;c++)b.push(c);return b}})}();
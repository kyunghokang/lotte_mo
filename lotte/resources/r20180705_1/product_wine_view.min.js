function searchMartClose(){$("#searchMartPop").hide()}function searchMartResult(a){$("#crspk_name_"+martIndex).val(a.name),$("#crspk_corp_cd_"+martIndex).val(a.crspk_corp_cd),$("#crspk_corp_str_sct_cd_"+martIndex).val(a.crspk_corp_str_sct_cd),$("#crspk_str_no_"+martIndex).val(a.crspk_str_no);var b="#mart_b"+martIndex;"3000"==a.crspk_corp_cd&&(b="#mart_c"+martIndex),$(b).trigger("click"),$("#crspk_name_"+martIndex).trigger("change"),$("#crspk_corp_cd_"+martIndex).trigger("change"),$("#crspk_corp_str_sct_cd_"+martIndex).trigger("change"),$("#crspk_str_no_"+martIndex).trigger("change")}!function(a,b,c){"use strict";var d=b.module("lotteUtil");d.service("StyleRecom",["$window","$http","LotteCommon","commInitData",function(a,b,d,e){function f(a){if(a==c)return[];if(a.status===!1)return console.warn(a.message),j(),[];if(a.list==c)return[];var b,d,e,f,h=a.list,i=[];for(var k in h)for(e=h[k],d=e.length,b=0;d>b;b++)f=e[b],f.category=parseInt(k,10),f.score=Math.round(100*f.score),f.rx1=Math.round(1e4*f.rx1)/100,f.rx2=Math.round(1e4*f.rx2)/100,f.ry1=Math.round(1e4*f.ry1)/100,f.ry2=Math.round(1e4*f.ry2)/100,f.genCd=a.genCd,i.push(f);return i=i.sort(g)}function g(a,b){var c=a.score,d=b.score;return c>d?-1:d>c?1:0}function h(a,b){var d=[];for(var e in a)if(getScope().isValidArray(a[e])){d=a[e];break}if(d==c||0==d.length)return void b([]);for(var f,g=d.length,h=0;g>h;h++)f=d[h],f.imgUrl2=f.imgUrl.replace(/_280/g,"_550");b(d)}function i(a,b){try{for(var d=b.length,e=0,f=0;d>f;f++)o[a+b[f]]!=c&&(e|=o[a+b[f]]);return e}catch(g){}return""}function j(){var a=getScope(),b=new Date,c=b.getHours(),d=10>c?"0"+c:""+c,e=a.tClickBase;""!=m&&(e=m),a.sendTclick(e+"ProdDetail_DataError_"+d)}var k=d.stylePushPrdData,l="/json/search/m/styleRecommCateGrpList.json",m="",n=400;this.setDotAPIUrl=function(a){k=a},this.setTclickBase=function(a){m=a},this.setSearchItemLimit=function(a){n=a};var o={F1:536870913,F2:536870914,F4:536870916,F8:536870920,F16:536870928,F32:536870944,M2:1073741826,M4:1073741828,M16:1073741840,M32:1073741856,A1:1,A2:2,A4:4,A8:8,A16:16,A32:32};this.gender={female:"F",male:"M",all:"A"},this.category={dresses:1,pants:2,shorts:4,skirts:8,tops:16,outers:32},this.detect=function(a,b,e,g,h){return a==c||""==a?(console.warn("NO IMAGE"),!1):b==c||"function"!=typeof b?(console.warn("NO CALLBACK FUNCTION"),!1):(isNaN(e)&&(e=""),$.ajax({url:d.styleRecomDetect+"?url="+encodeURIComponent(a)+"&goods_no="+e+"&call_type="+g+"&isApp="+h,type:"get",dataType:"json",async:!0,success:function(a){b(f(a))},error:function(a){j(),b([])}}),void getScope().sendTclick("DC_StyleReco_Detect"))},this.search=function(a,b,e,f,g,k,l,m,n){if(a==c||""==a)return console.warn("NO ID"),!1;if(b==c||""==b)return console.warn("NO SEX"),!1;if(e==c||0==e.length)return console.warn("NO CATEGORY"),!1;if("object"!=typeof e&&(e=[e]),g==c||"function"!=typeof g)return console.warn("NO CALLBACK FUNCTION"),!1;isNaN(k)&&(k="");var o=i(b,e);if(""==o)return console.warn("INCORRECT CATEGORY"),!1;var p={id:a,category:o,goods_no:k,recommcgcd:1,call_type:l,isApp:m,count:300};n&&(p.count=n);var q=d.styleRecomSearch;if(f!=c||""!=f){var r=parseInt(f,10);isNaN(r)||(p.recommcgcd=r)}$.ajax({url:q,type:"POST",data:p,dataType:"JSON",async:!0,method:"POST",success:function(a){h(a,g)},error:function(a){j(),g([])}}),getScope().sendTclick("DC_StyleReco_Search")},this.cateList=function(a){$.ajax({url:l,type:"get",dataType:"json",async:!0,success:function(b){a(b.cateGrpList||[])},error:function(b){a([])}})}}])}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(d.cancel(n),n=null),l&&(l.$destroy(),l=null),m&&(n=d.leave(m),n.then(function(){n=null}),m=null)}function k(){var g=a.current&&a.current.locals;if(b.isDefined(g&&g.$template)){var g=e.$new(),h=a.current;m=i(g,function(a){d.enter(a,null,m||f).then(function(){!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()}),l=h.scope=g,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function e(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());f.controller&&(g.$scope=d,g=b(f.controller,g),f.controllerAs&&(d[f.controllerAs]=g),e.data("$ngControllerController",g),e.children().data("$ngControllerController",g)),h(d)}}}a=b.module("ngRoute",["ng"]).provider("$route",function(){function a(a,c){return b.extend(Object.create(a),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){return a="?"===d?d:null,d="*"===d?d:null,e.push({name:c,optional:!!a}),b=b||"",""+(a?"":b)+"(?:"+(a?b:"")+(d&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){var f=b.copy(e);if(b.isUndefined(f.reloadOnSearch)&&(f.reloadOnSearch=!0),b.isUndefined(f.caseInsensitiveMatch)&&(f.caseInsensitiveMatch=this.caseInsensitiveMatch),d[a]=b.extend(f,a&&c(a,f)),a){var g="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[g]=b.extend({redirectTo:a},c(g,f))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(a){return"string"==typeof a&&(a={redirectTo:a}),this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(c,e,g,h,i,j,k){function l(a){var d=s.current;(q=(p=n())&&d&&p.$$route===d.$$route&&b.equals(p.pathParams,d.pathParams)&&!p.reloadOnSearch&&!r)||!d&&!p||c.$broadcast("$routeChangeStart",p,d).defaultPrevented&&a&&a.preventDefault()}function m(){var a=s.current,d=p;q?(a.params=d.params,b.copy(a.params,g),c.$broadcast("$routeUpdate",a)):(d||a)&&(r=!1,(s.current=d)&&d.redirectTo&&(b.isString(d.redirectTo)?e.path(o(d.redirectTo,d.params)).search(d.params).replace():e.url(d.redirectTo(d.pathParams,e.path(),e.search())).replace()),h.when(d).then(function(){if(d){var a,c,e=b.extend({},d.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?i.get(a):i.invoke(a,null,null,c)}),b.isDefined(a=d.template)?b.isFunction(a)&&(a=a(d.params)):b.isDefined(c=d.templateUrl)&&(b.isFunction(c)&&(c=c(d.params)),c=k.getTrustedResourceUrl(c),b.isDefined(c)&&(d.loadedTemplateUrl=c,a=j(c))),b.isDefined(a)&&(e.$template=a),h.all(e)}}).then(function(e){d==s.current&&(d&&(d.locals=e,b.copy(d.params,g)),c.$broadcast("$routeChangeSuccess",d,a))},function(b){d==s.current&&c.$broadcast("$routeChangeError",d,a,b)}))}function n(){var c,f;return b.forEach(d,function(d,g){var h;if(h=!f){var i=e.path();h=d.keys;var j={};if(d.regexp)if(i=d.regexp.exec(i)){for(var k=1,l=i.length;l>k;++k){var m=h[k-1],n=i[k];m&&n&&(j[m.name]=n)}h=j}else h=null;else h=null;h=c=h}h&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function o(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var p,q,r=!1,s={routes:d,reload:function(){r=!0,c.$evalAsync(function(){l(),m()})},updateParams:function(a){if(!this.current||!this.current.$$route)throw f("norout");var c={},d=this;b.forEach(Object.keys(a),function(b){d.current.pathParams[b]||(c[b]=a[b])}),a=b.extend({},this.current.params,a),e.path(o(this.current.$$route.originalPath,a)),e.search(b.extend({},e.search(),c))}};return c.$on("$locationChangeStart",l),c.$on("$locationChangeSuccess",m),s}]});var f=b.$$minErr("ngRoute");a.provider("$routeParams",function(){this.$get=function(){return{}}}),a.directive("ngView",d),a.directive("ngView",e),d.$inject=["$route","$anchorScroll","$animate"],e.$inject=["$compile","$controller","$route"]}(window,window.angular);var callDownCpn;!function(a,b,c){"use strict";var d=b.module("lotteMainPop",[]);d.controller("lotteMainPopCtrl",["$scope","$window","$location","$http","LotteCommon","LotteUtil","LotteCookie","LotteStorage","AppDownBnrService","LotteLink","commInitData",function(a,c,d,e,f,g,h,i,j,k,l){a.loadMainPopup=function(d){function m(){e.get(f.mainPopupData,{params:o}).success(function(b){if(!i.getSessionStorage("appDownBnrHide")&&!a.appObj.isApp){var c=j.appDownBnrLoadDefer;b.app_down_popup&&b.app_down_popup.length>0&&c.resolve(b.app_down_popup)}a.mainPop=b.current_page_popup,a.hideActionBar=g.isApp()&&"F"==a.mainPop.ppp_prt_tp_cd&&"20"!=d.pppTgtPgCd&&"30"!=d.pppTgtPgCd?!0:!1,0!=a.mainPop.ppp_sn&&(callDownCpn=function(){a.dupCouponIssue("88045"),a.sendTclick("m_abtest_naverbanner_01")},a.dupCouponIssue=function(b){if(a.loginInfo.isLogin)b.length>0&&e({url:f.couponRegCouponData+"?"+a.baseParam,data:"cpn_issu_no="+b,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).success(function(b){b.result=b.result.replace("\\n"," "),"undefined"!=typeof g.getParameter("cn")&&"140924"==g.getParameter("cn")&&b.result.indexOf("발급받은")>-1?(alert("이달의 앱 쿠폰을 모두 받으셨습니다. 참좋은혜택 등급 쿠폰도 확인하세요!"),location.href=f.gdBenefitUrl+"?"+a.baseParam):alert(b.result),a.popClose()}).error(function(a){"1000"==a.error.response_code?alert(a.error.response_msg):ajaxResponseErrorHandler(a,function(){})});else{var c="?"+a.baseParam;c+="&targetUrl="+encodeURIComponent(location.href),i.setSessionStorage("alliancePopupPPPSN",a.mainPop.ppp_sn),location.href=f.loginUrl+c}},a.cookieName=a.mainPop.cookie_nm,null!=i.getSessionStorage("alliancePopupPPPSN")&&a.loginInfo.isLogin?a.dupCouponIssue(a.mainPop.cpn_no):a.screenType>1&&10==d.pppTgtPgCd||(a.isOpenPop=!0,a.popOpen()),i.delSessionStorage("alliancePopupPPPSN"))}).error(function(a){console.log("Error Data :  메인팝업")})}var n=l.query,o={ppp_tgt_pg_cd:d.pppTgtPgCd,cn:n.cn,udid:n.udid,schema:n.schema};g.getParameter("testDate")&&(o.testDate=g.getParameter("testDate")),a.hideActionBar=!1,a.cookieName=null,a.appActionBarHide=function(){a.appObj.isApp&&a.hideActionBar&&(location.href="lottebridge://lotteapps/fullscreenhide")},a.appActionBarShow=function(){a.appObj.isApp&&a.hideActionBar&&(location.href="lottebridge://lotteapps/fullscreenshow")},a.popOpen=function(){b.element(".main_popup").show(),$("#wrapper").css("height","97%")},a.popClose=function(){a.sendTclick("m_RDC_popup_Close"),b.element(".main_popup").remove(),$("#wrapper").css("height","auto")},a.popToday=function(){a.sendTclick("m_RDC_popup_stoptoday"),h.setCookie(a.cookieName,"Y",1),a.popClose()},a.chkAlliancePopupObj={flag:!0,imgPath:"",deepLinkFlag:!0,tclick:""},a.closeAlliancePopup=function(){a.chkAlliancePopupObj.flag=!1},a.allianceExcuteApp=function(b){var c=a.chkAlliancePopupObj.deepLinkFlag?null:"http://m.lotte.com";a.chkAlliancePopupObj.tclick?a.chkAlliancePopupObj.tclick:null;k.appDeepLink("lotte",c,a.chkAlliancePopupObj.tclick,b)},b.element(c).on("load",m)}}]),d.config(["$compileProvider",function(a){a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|javascript):/)}]),d.directive("lotteMainPopup",["$window",function(b){return{templateUrl:"/lotte/resources_dev/layer/main_popup.html",controller:"lotteMainPopCtrl",replace:!0,link:function(b,c,d){b.isOpenPop=!1,b.loadMainPopup(d),b.couponBnrLink=function(c){c.isOutLink?getScope().appObj.isApp?openNativePopup("",c.lnk_url_addr):a.open(c.lnk_url_addr):location.href=b.baseLink(c.lnk_url_addr)}}}}]),d.controller("appDownBnrCtrl",["$scope","AppDownBnrService",function(a,b){a.appBnrInfo=null,b.appDownSettingData().then(function(b){a.appBnrInfo=b})}]),d.directive("appDownBnr",["$location","LotteLink","LotteStorage","AppDownBnrService",function(a,b,c,d){return{templateUrl:"/lotte/resources_dev/layer/app_down_bnr.html",controller:"appDownBnrCtrl",replace:!0,link:function(e,f,g){e.appDown=function(){var c=null,f=d.appDownBnrInfo.linkUrl+"",g=""!=d.appDownBnrInfo.tclick?d.appDownBnrInfo.tclick:null;"./"!=f&&(c="http"==f.substring(0,4)?d.appDownBnrInfo.linkUrl:"/"==f.substring(0,1)?a.protocol()+"://"+a.host()+f:a.protocol()+"://"+a.host()+"/"+f),g&&e.sendTclick(g),b.appDeepLink("lotte",c,null,d.appDownBnrInfo.referrer)},e.appDownBnrClose=function(){return c.setSessionStorage("appDownBnrHide",!0),d.appDownBnrInfo.isShowFlag=!1,!1}}}}])}(window,window.angular),function(a,b,c){"use strict";var d=b.module("lotteUnit",["lotteUtil"]);d.directive("commUnit",[function(){return{templateUrl:"/lotte/resources_dev/unit/comm_unit.html",replace:!0,link:function(a,b,c){var d="";c.curdispno&&(d=c.curdispno);var e="";c.curdispnosctcd&&(e=c.curdispnosctcd);var f="";c.tclick&&(f=c.tclick),a.clickUnit=function(){a.productView(a.item,d,e,f)}}}}]),d.directive("planUnit",function(){return{templateUrl:"/lotte/resources_dev/unit/plan_unit.html",replace:!0,link:function(a,b,c){var d="";c.curdispno&&(d=c.curdispno);var e="";c.curdispnosctcd&&(e=c.curdispnosctcd);var f="";c.tclick&&(f=c.tclick),a.clickUnit=function(){a.productView(a.item,d,e,f)}}}}),d.directive("commUnitDeal01",["LotteLink",function(a){return{templateUrl:"/lotte/resources_dev/unit/unit_deal_01.html",replace:!0,link:function(b,d,e){var f="";e.curdispno&&(f=e.curdispno);var g="";e.curdispnosctcd&&(g=e.curdispnosctcd);var h="";e.tclick&&(h=e.tclick),b.clickUnit=function(d){if(b.item.outlnk&&""!=b.item.outlnk)if("LECS"==b.item.outlnkMall){if(confirm("공식 온라인 몰로 이동 후 구입 할 수 있습니다.")){b.sendTclick(h);try{console.log("TCLICK : "+h)}catch(e){}a.goOutLink(b.item.outlnk,b.item.outlnkMall)}}else{b.sendTclick(h);try{console.log("TCLICK : "+h)}catch(e){}a.goOutLink(b.item.outlnk,b.item.outlnkMall)}else{if("MIDDLE"==b.cateDiv&&(h="m_side_cate_catemid_"+b.item.curDispNo+"_unit"+b.$index),b.mainYn){var i=d;d==c&&(i=b.$index+1),h=b.tclickMainUnitStr+i}b.productView(b.item,f,g,h)}}}}}]),d.directive("lotteUnit01ImgSrc",["LotteCommon",function(a){return{link:function(a,b,c){"19"==a.item.byrAgelmt?c.$set("src",a.imgPath+"/lotte/mobile/sub/img_19_280x280.png"):c.$set("src",c.lotteUnit01ImgSrc),b.on("error",function(b){c.src!=a.imgPath+"/lotte/images/common/product/no_280.gif"&&c.$set("src",a.imgPath+"/lotte/images/common/product/no_280.gif")})}}}]),d.directive("commUnitType01",["$http","LotteUtil","LotteCommon","LotteLink","LotteStorage",function(a,b,c,d,e){return{templateUrl:"/lotte/resources_dev/unit/unit_type01.html",replace:!0,link:function(a,b,c){a.addWishFlag=!1;var f="";c.curdispno&&(f=c.curdispno);var g="";c.curdispnosctcd&&(g=c.curdispnosctcd);var h="";c.tclick&&(h=c.tclick),a.clickUnit=function(){if(a.item.outlnk&&""!=a.item.outlnk){if("LECS"==a.item.outlnkMall){if(confirm("공식 온라인 몰로 이동 후 구입 할 수 있습니다.")){a.sendTclick(h);try{console.log("TCLICK : "+h)}catch(b){}d.goOutLink(a.item.outlnk,a.item.outlnkMall)}}else if("SP"==a.item.outlnkMall&&confirm("롯데슈퍼로 이동후 구입할수있습니다.")){a.sendTclick(h);try{console.log("TCLICK : "+h)}catch(b){}d.goOutLink(a.item.outlnk,a.item.outlnkMall)}}else a.mainYn&&(h=a.tclickMainType01Str+(a.$index+1)),a.productView(a.item,f,g,h)},a.clickComment=function(){"LECS"==a.item.outlnkMall?confirm("공식온라인 몰로 이동후 확인 할 수 있습니다.")&&d.goOutLink(a.item.outlnk,a.item.outlnkMall):"SP"==a.item.outlnkMall?confirm("롯데슈퍼로 이동후 확인 할 수 있습니다.")&&d.goOutLink(a.item.outlnk,a.item.outlnkMall):(e.setSessionStorage("comment","ok"),a.clickUnit())},a.addWish=function(b){if("LECS"==a.item.outlnkMall)return confirm("공식온라인 몰로 이동후 담을 수 있습니다.")&&d.goOutLink(a.item.outlnk,a.item.outlnkMall),!1;if("SP"==a.item.outlnkMall)return confirm("롯데슈퍼로 이동후 담을 수 있습니다.")&&d.goOutLink(a.item.outlnk,a.item.outlnkMall),!1;if(a.addWishFlag)return alert("이미 등록된 상품입니다."),a.addWishFlag=!0,!1;if(!a.loginInfo.isLogin)return alert("로그인 후 이용하실 수 있습니다."),a.loginProc(),!1;if(19==a.item.byrAgelmt){if(""==a.loginInfo.isAdult)return alert("이 상품은 본인 인증 후 이용하실 수 있습니다."),a.goAdultSci(),!1;if(!a.loginInfo.isAdult)return alert("이 상품은 법률규정에 의하여 만 19세 이상 성인만 조회 및 구매가 가능합니다."),!1}a.sendProductWish(a.item.goods_no,function(c){c?(a.addWishFlag=!0,$(".wish")[b].children[0].setAttribute("class","on")):a.addWishFlag=!1})}}}}])}(window,window.angular);var isSwipeActive=!1,isSwipeLock=!1,isLoadingData=!1,LeftSwipeStartExec=!1,RightSwipeStartExec=!1;!function(a,b,c){"use strict";var d=[],e=b.module("lotteNgSwipe",[]);e.controller("lotteNgSwipeCtrl",["$scope",function(a){}]),e.factory("lotteNgSwipe",["$interval","$timeout","$window",function(c,d,e){function f(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}}function g(c,d,e){if(e.SLIDE_SWIPE){var f=d[0].offsetWidth-e.LEFT_MARGIN-e.RIGHT_MARGIN;0==f&&(f=a.innerWidth);var g=f/e.DISP_COUNT,h=0;if(s=d[0].offsetWidth-g-e.LEFT_MARGIN,!(d.find("ul, ol").eq(0).find(">li").length>=1||d.find(">li").length>=1)||e.LOADING_ELEMENT||e.LEFT_ELEMENT||e.RIGHT_ELEMENT)e.LOADING_ELEMENT||b.element(d).eq(0).css(q());else{if(-1!=d.context.className.indexOf("recommond_swipe"))var i=d.find(">li");else var i=d.find("ul, ol").eq(0).find(">li").length>1?d.find("ul, ol").eq(0).find(">li"):d.find(">li");var j=c,k=0,l=null;for(k;k<i.length;j++,k++)l=i.eq(j),h=j>=k||0>j?0>j?g*d.find(">li").length+e.LEFT_MARGIN+(e.EDGE_LAST&&c==i.length-1?s:0):g*k+e.LEFT_MARGIN+(e.EDGE_LAST&&c==i.length-1?s:0):g*-(c-j)+e.LEFT_MARGIN+(e.EDGE_LAST&&c==i.length-1?s:0),-1!=d.context.className.indexOf("latest_swipe")&&a.innerWidth>=640?(f=a.innerWidth,l.css({width:f/2,backfaceVisibility:"hidden",position:"absolute",left:h})):l.css({width:f/e.DISP_COUNT,backfaceVisibility:"hidden",position:"absolute",left:h}),j+1>=d.find(">li").length&&(j=-1);t=i.length,b.element(d).eq(0).css(p(0)),b.element(d).find(">li").css("top",0).eq(0).css("position","relative")}}}function h(a){for(var b={totalwidth:0,width:[],paddingleft:[],marginleft:[],paddingright:[],marginright:[]},c=0;c<a.find(">li").length;c++){var d=a.find(">li:eq("+c+")");b.width[c]=parseInt(d.width()),b.width[c]+=b.marginleft[c]=parseInt(d.css("margin-left")),b.width[c]+=b.marginright[c]=parseInt(d.css("margin-right")),b.width[c]+=b.paddingleft[c]=parseInt(d.css("padding-left")),b.width[c]+=b.paddingright[c]=parseInt(d.css("padding-right")),b.totalwidth+=b.width[c]}return b}function i(b){var c=a.getComputedStyle(b.get(0)),d=new WebKitCSSMatrix(c.webkitTransform);return d.m41}function j(a,c,d,e){isSwipeActive=!0,b.element(a).on(u,function(a){isSwipeActive=!1,c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),b.element(this).css(r()).off(u)}).css(p(0,c.SWIPE_SPEED)),(c.LOADING_ELEMENT||c.LEFT_ELEMENT||c.LEFT_ELEMENT)&&b.element(c.LOADING_ELEMENT).css(p(0,c.SWIPE_SPEED))}function k(c,d,e,f){var g=h(c);if(a.innerWidth-d.LEFT_MARGIN-d.RIGHT_MARGIN>g.totalwidth)return!1;for(var j=a.innerWidth/2,k=g.width[e]/2,m=0,n=0;n<g.width.length&&n!=e;n++)m+=g.width[n];var o=i(c),q=-1*(m-j+k);f?(q>0?q=0:q<-(g.totalwidth-a.innerWidth+d.RIGHT_MARGIN)&&(q=-(g.totalwidth-a.innerWidth+d.RIGHT_MARGIN)),b.element(c).eq(0).css(p(q))):Math.abs(m)>j&&g.totalwidth-a.innerWidth+d.RIGHT_MARGIN>Math.abs(q)?l(c[0],d,o,q):Math.abs(m)<=j?l(c[0],d,o,0):l(c[0],d,o,-1*(g.totalwidth-a.innerWidth)-d.RIGHT_MARGIN)}function l(a,c,d,e){return d==e?!0:(b.element(a).on(u,function(a){c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),b.element(this).css(r()).off(u)}).css(p(e,c.SWIPE_SPEED)),void(c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(p(e,c.SWIPE_SPEED))))}function m(a,c,d,e){isSwipeActive=!0,b.element(a).on(u,function(a){isSwipeActive=!1,c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),b.element(this).css(r()).off(u)}).css(p(d>=0?e:-e,c.SWIPE_SPEED)),c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(p(d>=0?e:-e,c.SWIPE_SPEED))}function n(a,c,d,e,f){return 0>d?f=f+c.DISP_COUNT>c.MAX_SLIDE?c.MAX_SLIDE:f+c.DISP_COUNT:f-=c.DISP_COUNT,c.EDGE_LAST&&(f==t-1||f==t-2&&d>0)&&(e-=s),b.element(a).on(u,function(d){c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),g(f,a,c),b.element(this).css(r()).off(u)}).css(p(d>=0?e:-e,c.SWIPE_SPEED)),c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(p(d>=0?e:-e,c.SWIPE_SPEED)),f}function o(b,c,d){var e=i(b);return e>0?(m(b[0],c,e,0),e=0):Math.abs(e)+a.innerWidth>Math.abs(d.totalwidth)+c.RIGHT_MARGIN&&(m(b[0],c,e,d.totalwidth-a.innerWidth+c.RIGHT_MARGIN),e=-1*(d.totalwidth-a.innerWidth)),e}function p(a,b){var c={"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-transform":"translateX("+a+"px)","-ms-transform":"translateX("+a+"px)","-moz-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)","-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""};return b&&b>0&&(c["-webkit-transition"]="-webkit-transform "+b+"ms",c["-moz-transition"]="-moz-transform "+b+"ms",c["-o-transition"]="-o-transform "+b+"ms",c.transition="transform "+b+"ms"),c}function q(){return{"-webkit-backface-visibility":"","-moz-backface-visibility":"","backface-visibility":"","-webkit-transform":"","-ms-transform":"","-moz-transform":"",transform:""}}function r(a){return a||(a=""),{"-webkit-transition":a,"-moz-transition":a,"-o-transition":a,transition:a}}var s=0,t=0,u="transitionend.ngswipe webkitTransitionEnd.ngswipe oTransitionEnd.ngswipe MSTransitionEnd.ngswipe";return{unbind:function(a){a.off("touchstart.ngswipe mousedown.ngswipe touchcancel.ngswipe touchmove.ngswipe mousemove.ngswipe touchend.ngswipe mouseup.ngswipe")},bind:function(d,g,k){var l,r,u,v,w=d[0],x=!1,y=g.FIRST_INDEX,z=b.element(d).scope(),A=!1,B=!1,C=[],D=0,E=0,F=0,G=!0,H=(g.DISP_COUNT,navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1),I=!0,J=30,K=b.element(e).scrollTop();g.SLIDE_MENU_SWIPE&&b.element(w).css(p(0)),d.on("touchstart.ngswipe mousedown.ngswipe",function(c){if(c.stopPropagation(),H){var j=b.element(e).scrollTop();j+J>K&&K>j-J?I=!0:(I=!1,K=j)}A=!1,B=!1,g.SLIDE_MENU_SWIPE&&(C=h(d),G=a.innerWidth-g.LEFT_MARGIN-g.RIGHT_MARGIN>C.totalwidth?!1:!0),isSwipeLock||G&&(a.innerWidth>=900&&g.RESPONSIVE_SWIPE?g.DISP_COUNT=g.RESPONSIVE_SWIPE_900:a.innerWidth>=640&&g.RESPONSIVE_SWIPE?g.DISP_COUNT=g.RESPONSIVE_SWIPE_640:g.RESPONSIVE_SWIPE&&(g.DISP_COUNT=g.RESPONSIVE_SWIPE_320),g.MAX_SLIDE=d.find(">li").length-1,(!(g.MAX_SLIDE<1)||g.LOADING_ELEMENT||g.LEFT_ELEMENT||g.RIGHT_ELEMENT)&&(u=f(c),u.x+=g.EDGE_LAST&&y==t-1?s:0,x=!0,l=0,r=0,isSwipeActive=!0,v=u,y=z.swipeIdx,E=(new Date).getTime(),g.SLIDE_MENU_SWIPE&&(C=h(d),D=i(d)),k.start&&k.start(u,c),g.LOADING_ELEMENT&&b.element(g.LOADING_ELEMENT).css({position:"fixed",zIndex:g.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-w.offsetTop,height:a.innerHeight-w.offsetTop,width:"100%",left:w.offsetWidth,right:"auto"}).removeClass("none"),g.LEFT_ELEMENT&&b.element(g.LEFT_ELEMENT).css({position:"fixed",zIndex:g.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-w.offsetTop,height:a.innerHeight-w.offsetTop,width:"100%",left:w.offsetWidth,right:"auto"}).removeClass("none"),g.RIGHT_ELEMENT&&b.element(g.RIGHT_ELEMENT).css({position:"fixed",zIndex:g.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-w.offsetTop,height:a.innerHeight-w.offsetTop,width:"100%",left:w.offsetWidth,right:"auto"}).removeClass("none")))}),d.on("touchcancel.ngswipe",function(a){x=!1,j(w,g,u,v)}),d.on("touchmove.ngswipe mousemove.ngswipe",function(a){if(x&&G&&u){var c=f(a);c.x+=g.EDGE_LAST&&y==t-1?s:0,l+=Math.abs(c.x-v.x),r+=Math.abs(c.y-v.y),v=c;var d,e;d=Math.abs(c.x-u.x),e=Math.abs(c.y-u.y),A||(B=d>e,A=!0);var h=v.x-u.x;if(h>0?a.moveto="right":a.moveto="left",B&&(I||!H)){a.preventDefault(),a.stopPropagation();g.SLIDE_MENU_SWIPE?b.element(w).css(p(c.x-u.x+D)):b.element(w).css(p(c.x-u.x)),g.LOADING_ELEMENT&&b.element(g.LOADING_ELEMENT).css(b.extend({left:c.x-u.x<=0?w.offsetWidth:"auto",right:c.x-u.x<=0?"auto":w.offsetWidth},p(c.x-u.x))),"left"==a.moveto?(g.RIGHT_ELEMENT&&b.element(g.RIGHT_ELEMENT).css(b.extend({left:c.x-u.x<=0?w.offsetWidth:"auto",right:c.x-u.x<=0?"auto":w.offsetWidth},p(0))),g.LEFT_ELEMENT&&b.element(g.LEFT_ELEMENT).css(p(0))):(g.LEFT_ELEMENT&&b.element(g.LEFT_ELEMENT).css(b.extend({left:c.x-u.x<=0?w.offsetWidth:"auto",right:c.x-u.x<=0?"auto":w.offsetWidth},p(0))),g.RIGHT_ELEMENT&&b.element(g.RIGHT_ELEMENT).css(p(0))),k.move&&k.move(c,a)}}}),d.on("touchend.ngswipe mouseup.ngswipe",function(h){if(h.stopPropagation(),A=!1,B&&(I||!H)){if(!x||!G)return;x=!1,isSwipeActive=!1;var i=d[0].offsetWidth,l=Math.abs(v.x-u.x),r=v.x-u.x;if(F=(new Date).getTime(),r>0?h.moveto="right":h.moveto="left",h.max=g.MAX_SLIDE,g.SLIDE_MENU_SWIPE){var z=v.x-u.x+D,J=-80,L="left"==h.moveto?z+J:z-J,M="left"==h.moveto?-5:5;if(Math.abs(v.x-u.x)>5&&400>=F-E)var N=c(function(){z+=M,b.element(d).eq(0).css(p(z)),(L>=z&&"left"==h.moveto||z>=L&&"right"==h.moveto||z>0||z<=-C.totalwidth+a.innerWidth)&&(D=o(d,g,C),c.cancel(N))},10);else D=o(d,g,C)}else if(i*g.MAX_RATIO<=l){if(g.SLIDE_SWIPE){if(y>=g.MAX_SLIDE&&0>r||0>y&&r>0||0==y&&r>0||g.MAX_SLIDE+1<=g.DISP_COUNT||y+g.DISP_COUNT>g.MAX_SLIDE&&"left"==h.moveto)return void j(w,g,u,v+(g.EDGE_LAST&&y==t-1?s:0));if(g.SLIDE_SWIPE)var i=i-g.LEFT_MARGIN-g.RIGHT_MARGIN;y=n(d,g,r,i,y),h.idx=y}else m(w,g,r,i);var O=f(h);O.x+=g.EDGE_LAST&&y==t-1?s:0;k.end&&k.end(O,h)}else j(w,g,u,v),b.element(d).eq(0).css(q())}H&&(K=b.element(e).scrollTop(),I=!0),u=null})},moveSwipeX:n,positionReCalc:g,resetSwipe:j,moveMenuSwipe:k,getListInfo:h}}]),e.directive("lotteNgListSwipe",["$window","$parse","$timeout","lotteNgSwipe",function(e,f,g,h){return{link:function(i,j,k){function l(a,b){var c={"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-transform":"translateX("+a+"px)","-ms-transform":"translateX("+a+"px)","-moz-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)","-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""};return b&&b>0&&(c["-webkit-transition"]="-webkit-transform "+b+"ms",c["-moz-transition"]="-moz-transform "+b+"ms",c["-o-transition"]="-o-transform "+b+"ms",c.transition="transform "+b+"ms"),c}function m(){var c=j[0];if(a.innerWidth>=900&&p.RESPONSIVE_SWIPE?p.DISP_COUNT=p.RESPONSIVE_SWIPE_900:a.innerWidth>=640&&p.RESPONSIVE_SWIPE?p.DISP_COUNT=p.RESPONSIVE_SWIPE_640:p.RESPONSIVE_SWIPE&&(p.DISP_COUNT=p.RESPONSIVE_SWIPE_320),p.LOADING_ELEMENT&&b.element(p.LOADING_ELEMENT).css("min-height",a.innerHeight-c.offsetTop+"px"),p.LEFT_ELEMENT&&b.element(p.LEFT_ELEMENT).css("min-height",a.innerHeight-c.offsetTop+"px"),p.RIGHT_ELEMENT&&b.element(p.RIGHT_ELEMENT).css("min-height",a.innerHeight-c.offsetTop+"px"),0!=i.swipeIdx&&p.DISP_COUNT>1){var d=i.swipeIdx%p.DISP_COUNT;0!=d&&(i.swipeIdx-=d)}if(i.swipeBulletIdx=parseInt(i.swipeIdx/p.DISP_COUNT),p.SLIDE_MENU_SWIPE){var e=h.getListInfo(j);e.width.length>1&&a.innerWidth-p.LEFT_MARGIN-p.RIGHT_MARGIN>e.totalwidth&&b.element(c).css(l(0))}p.LOADING_ELEMENT&&b.element(p.LOADING_ELEMENT).css({position:"fixed",zIndex:p.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-c.offsetTop,height:a.innerHeight-c.offsetTop,width:"100%",left:c.offsetWidth,right:"auto"}).removeClass("none"),p.LEFT_ELEMENT&&b.element(p.LEFT_ELEMENT).css({position:"fixed",zIndex:p.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-c.offsetTop,height:a.innerHeight-c.offsetTop,width:"100%",left:c.offsetWidth,right:"auto"}).removeClass("none"),p.RIGHT_ELEMENT&&b.element(p.RIGHT_ELEMENT).css({position:"fixed",zIndex:p.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-c.offsetTop,height:a.innerHeight-c.offsetTop,width:"100%",left:c.offsetWidth,right:"auto"}).removeClass("none"),i.ngswipeInit(),h.positionReCalc(i.swipeIdx,j,p)}function n(a,b){if(!(LeftSwipeStartExec&&"left"==a.moveto||RightSwipeStartExec&&"right"==a.moveto)){"left"==a.moveto?LeftSwipeStartExec=!0:RightSwipeStartExec=!0;var c=null;i.$apply(function(){return c=q(i.$parent,{$event:{idx:a.idx,max:b.MAX_SLIDE,moveto:a.moveto}})})}}function o(a,c){if(isSwipeActive)return g(function(){o(a,c)},100),!1;var d=null;i.$apply(function(){return d=r(i.$parent,{$event:{idx:a.idx,max:c.MAX_SLIDE,moveto:a.moveto}}),"translateX_Reset"==d&&g(function(){b.element(j).eq(0).css(l(0))},500),d})}var p={MAX_RATIO:k.swipeMaxRatio?k.swipeMaxRatio:.3,MIN_DISTANCE:k.swipeMinDistance?k.swipeMinDistance:25,SWIPE_LOOP:k.swipeLoop?k.swipeLoop:!1,LEFT_ELEMENT:k.swipeLeftEl?k.swipeLeftEl:null,RIGHT_ELEMENT:k.swipeRightEl?k.swipeRightEl:null,LOADING_ELEMENT:k.swipeLoadingEl?k.swipeLoadingEl:null,LOADING_ELEMENT_ZINDEX:k.swipeLoadingElZindex?k.swipeLoadingElZindex:50,SLIDE_SWIPE:k.swipeSlideItem?k.swipeSlideItem:!1,SLIDE_MENU_SWIPE:k.swipeSlideMenu?k.swipeSlideMenu:!1,RESPONSIVE_SWIPE:k.swipeResponsive?k.swipeResponsive:!1,RESPONSIVE_SWIPE_320:parseInt(k.swipeResponsive320)?parseInt(k.swipeResponsive320):1,RESPONSIVE_SWIPE_640:parseInt(k.swipeResponsive640)?parseInt(k.swipeResponsive640):2,RESPONSIVE_SWIPE_900:parseInt(k.swipeResponsive900)?parseInt(k.swipeResponsive900):2,AUTO_HEIGHT:k.swipeAutoheight?k.swipeAutoheight:!1,DISP_COUNT:k.swipeDispCount?parseInt(k.swipeDispCount):1,FIRST_INDEX:k.swipeFirstIndex?parseInt(k.swipeFirstIndex):0,LEFT_MARGIN:k.swipeLeftMargin?parseInt(k.swipeLeftMargin):0,RIGHT_MARGIN:k.swipeRightMargin?parseInt(k.swipeRightMargin):0,START_EXEC:k.swipeStartExec?k.swipeStartExec:null,EXEC:k.swipeEndExec?k.swipeEndExec:null,LIST_SCOPE:k.swipeListModel?k.swipeListModel:null,SWIPE_ID:k.swipeId?k.swipeId:"",MAX_SLIDE:0,SWIPE_SPEED:k.swipSpeed?k.swipSpeed:150,IGNORE_DESTORY:k.ignoreDestory?k.ignoreDestory:!1,EDGE_LAST:k.swipeEdgeLast?!0:!1};i.swipeIdx=p.FIRST_INDEX,i.swipeBulletIdx=parseInt(i.swipeIdx/p.DISP_COUNT),i.swipeBullet=[];var q=null,r=null;if(null!=p.START_EXEC&&(q=f(p.START_EXEC)),null!=p.EXEC&&(r=f(p.EXEC)),p.RESPONSIVE_SWIPE&&(p.DISP_COUNT=p.RESPONSIVE_SWIPE_320),p.SLIDE_MENU_SWIPE&&(i.moveMenuSwipe=function(a){i.moveMenuSwipeFnc(a,!1)},i.moveMenuSwipeFnc=function(a,b){h.moveMenuSwipe(j,p,a,b)}),p.SLIDE_MENU_SWIPE||p.SLIDE_SWIPE||(i.translateX_Reset=function(){console.log("스와이프 좌표 리셋"),b.element(j).eq(0).css(l(0)),p.LOADING_ELEMENT&&b.element(p.LOADING_ELEMENT).css(l(0))}),i.setSlide=function(a){0>a?a=p.MAX_SLIDE:a>p.MAX_SLIDE&&(a=0),i.swipeIdx=a,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC))},i.goSlide=function(a){h.positionReCalc(a,j,p),i.swipeIdx=i.swipeBulletIdx=a,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC))},i.nextSlide=function(){i.swipeIdx!=p.MAX_SLIDE&&(h.moveSwipeX(j,p,-1,j[0].offsetWidth-10,i.swipeIdx),i.swipeIdx+=p.DISP_COUNT,i.swipeBulletIdx++,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC)))},i.beforeSlide=function(){0!=i.swipeIdx&&(h.moveSwipeX(j,p,1,j[0].offsetWidth-10,i.swipeIdx),i.swipeIdx-=p.DISP_COUNT,i.swipeBulletIdx--,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC)))},i.ngswipeInit=function(){if(p.SLIDE_SWIPE){i.swipeBullet=[],p.MAX_SLIDE=j.find(">li").length;for(var a=0;a<p.MAX_SLIDE/p.DISP_COUNT;a++)i.swipeBullet.push(a)}p.MAX_SLIDE<i.swipeIdx?(i.swipeIdx=p.FIRST_INDEX,i.swipeBulletIdx=parseInt(p.FIRST_INDEX/p.DISP_COUNT),h.positionReCalc(i.swipeIdx,j,p),g(function(){i.$apply()})):i.swipeIdx||(i.swipeBulletIdx=parseInt(p.FIRST_INDEX/p.DISP_COUNT),i.swipeIdx=p.FIRST_INDEX,g(function(){i.$apply()}))},i.resetSwipePos=function(){h.positionReCalc(i.swipeIdx,j,p)},null!=p.LIST_SCOPE){var s=null;i.$watch(p.LIST_SCOPE,function(a,b){if(a!=c&&a.length>=1){if(s!=a[0]&&(i.swipeIdx=0,i.swipeBulletIdx=0,s=a[0]),"recommondSwipe_0"==k.swipeId||"lastestSwipe_0"==k.swipeId)var d=2e3;else var d=100;g(function(){i.ngswipeInit(),h.positionReCalc(i.swipeIdx,j,p)},d)}},!0)}m(),-1==d.indexOf(p.SWIPE_ID)&&d.push(p.SWIPE_ID);var t=b.element(e);t.on("orientationchange.ngswipe resize.ngswipe",m),i.$on("$destroy",function(){h.unbind(j)}),h.bind(j,p,{start:function(a,b){},move:function(a,b){return null!=p.START_EXEC?(isLoadingData=!0,n(b,p)):void 0},cancel:function(){isLoadingData=!1},end:function(a,b){return isLoadingData=!1,LeftSwipeStartExec=!1,RightSwipeStartExec=!1,i.swipeIdx=b.idx?b.idx:0,
i.swipeBulletIdx=parseInt(b.idx/p.DISP_COUNT),i.$apply(),null!=p.EXEC?o(b,p):void 0}})}}}])}(window,window.angular),function(a,b,c){"use strict";var d=b.module("lotteSlider",[]);d.controller("LotteSlideCtrl",["$scope",function(b){b.getTranslateXCssObj=function(a,b){var c={"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-transform":"translateX("+a+"px)","-ms-transform":"translateX("+a+"px)","-moz-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)","-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""};return b&&b>0&&(c["-webkit-transition"]="-webkit-transform "+b+"ms",c["-moz-transition"]="-moz-transform "+b+"ms",c["-o-transition"]="-o-transform "+b+"ms",c.transition="transform "+b+"ms"),c},b.removeTranslateCSS=function(){return{"-webkit-backface-visibility":"","-moz-backface-visibility":"","backface-visibility":"","-webkit-transform":"","-ms-transform":"","-moz-transform":"",transform:""}},b.getCoordinates=function(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}},b.getTransXPos=function(b){var c=a.getComputedStyle(b.get(0)),d=new WebKitCSSMatrix(c.webkitTransform);return d.m41}}]),d.directive("lotteSlider",["$window","$timeout","$parse",function(a,c,d){return{controller:"LotteSlideCtrl",link:function(d,e,f,g){function h(){m=k.outerWidth(),l.css({display:"inline-block"}),n=l.outerWidth(),x=-(n-m);var a=d.getTransXPos;(a.x>0||a.x<x)&&i(0,500)}function i(a,b){l.css(d.getTranslateXCssObj(a,b)),k.trigger({type:"slide",posX:a,wrapWidth:m,contWidth:n})}function j(){k.on({"touchstart.lotteSlider":function(a){m=k.outerWidth(),n=l.outerWidth(),y=!1,z=!1,n>m&&(a.stopPropagation(),o=!0,q=d.getCoordinates(a),p=d.getTransXPos(l),t=Date.now())},"touchmove.lotteSlider":function(a){if(o){var b,c;if(r=d.getCoordinates(a),b=Math.abs(r.x-q.x),c=Math.abs(r.y-q.y),y||(z=b>c,y=!0),z){b>5&&a.preventDefault(),a.stopPropagation();var e=p+r.x-q.x;e>0?e/=3:x>e&&(e=x+(e-x)/3),i(e,0)}}},"touchend.lotteSlider":function(a){if(s=d.getCoordinates(a),o&&q.x!=s.x&&(Math.abs(q.x-s.x)>5&&a.preventDefault(),event.stopPropagation(),y=!1,z)){m=k.outerWidth();var b=d.getTransXPos(l);u=Date.now(),w=q.x>s.x?-1:1,v=u-t;var c=Math.abs(q.x-s.x),e=.4,f=c*e/v,g=b+m*f*w;g>0?g=0:x>g&&(g=x),(Math.abs(b-g)>30||0==g||g==x)&&i(g,500)}},"touchcancel.lotteSlider":function(a){}}),b.element(a).on("resize.lotteSlider orientationchange.lotteSlider",function(){h()})}var k=b.element(e),l=k.find(">").eq(0),m=k.width(),n=l.width(),o=!1,p=0,q=null,r=null,s=null,t=0,u=0,v=0,w=0,x=0;d.lotteSliderMoveXPos=function(a,b){m=k.width(),n=l.width(),a>0?a=0:Math.abs(a)>n-m&&(a=-(n-m)),b||(b=0),i(a,b)},d.reset=function(){o=!1,i(0,0),c(function(){h()})};var y=!1,z=!1;c(function(){h(),j()})}}}])}(window,window.angular),function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter"]);d.service("Fnproductview",function(){this.isEmpty=function(a){console.log("isEmpty","called");var b=!1;return null!=a&&""!=a&&"null"!=a&&(b=!0),b},this.getNumberFormat=function(a){for(var b=/(-?[0-9]+)([0-9]{3})/;b.test(a);)a=(a+"").replace(b,"$1,$2");return a},this.objectToString=function(a){return a==c?"":a}}),d.controller("ProductDetailPopUpCtrl",["$scope","$http","$location","LotteCommon","Fnproductview","commInitData",function(a,b,c,d,e,f){a.reqParam={upCurDispNo:e.objectToString(f.query.upCurDispNo),dispDep:e.objectToString(f.query.dispDep),curDispNo:e.objectToString(f.query.curDispNo),goods_no:e.objectToString(f.query.goods_no),wish_lst_sn:e.objectToString(f.query.wish_lst_sn),cart_sn:e.objectToString(f.query.cart_sn),item_no:e.objectToString(f.query.item_no),genie_yn:e.objectToString(f.query.genie_yn),cn:e.objectToString(f.query.cn),cdn:e.objectToString(f.query.cdn),curDispNoSctCd:e.objectToString(f.query.curDispNoSctCd),tclick:e.objectToString(f.query.tclick)},a.reqParamStr=a.baseParam,null!=a.reqParam.curDispNoSctCd&&(a.reqParamStr+="&curDispNoSctCd="+a.reqParam.curDispNoSctCd),null!=a.reqParam.curDispNo&&(a.reqParamStr+="&curDispNo="+a.reqParam.curDispNo),null!=a.reqParam.goods_no&&(a.reqParamStr+="&goods_no="+a.reqParam.goods_no),a.showWrap=!0,a.contVisible=!0,console.log("productProductViewData",d.productProductDetailHtmlData),console.log("reqParam",a.reqParam),b.get(d.productProductDetailHtmlData,{params:a.reqParam}).success(function(b){a.PrdExplainData=b.max,a.isPrdExplainData=!0;var c=a.PrdExplainData.replace(/<script/gi,"<noscript").replace(/<\/script/gi,"</noscript");a.prdZoomImg=c,console.log("html",c)}).error(function(){console.log("Data Error : productProductDetailData 메인페이지 데이터")})}])}(window,window.angular);var LOGIN_EXCEPTION="9004",GOODS_SMP_NORMAL_ETC="0102ETC",martIndex=0,SaleBestDataCopy="";!function(a,b,c){"use strict";var d=b.module("app",["ngRoute","lotteComm","lotteSrh","lotteSideCtg","lotteUnit","lotteCommFooter","angular-carousel","lotteNgSwipe","lotteSlider","lotteSns","lotteUtil","lotteMainPop"]);d.config(["$routeProvider",function(a){a.otherwise({templateUrl:"/lotte/resources_dev/product/m/product_view_container.html",controller:"ProductDetailPage",reloadOnSearch:!1})}]),d.factory("SharedData",function(){var a={SharedData:c};return{getSharedData:function(){return a.SharedData},setSharedData:function(b){a.SharedData=b}}}),d.service("Fnproductview",function(){this.productbtnlayertp=function(a){var b="00";return"N"==a.BasicData.tworld_sell?b="01":"19338070"==a.reqParam.goods_no?b="02":"30"==a.BasicData.product.goods_tp_cd||"40"==a.BasicData.product.goods_tp_cd||"Y"==a.BasicData.m_yn?b="03":"Y"==a.BasicData.product.item_opt_yn?b="04":"Y"==a.BasicData.product.entr_yn?b="05":"1696"==a.BasicData.product.pmg_md_gsgr_no&&"10"==a.BasicData.product.org_sale_prc?b="06":"20"==a.BasicData.product.sale_stat_cd?b="07":"30"==a.BasicData.product.sale_stat_cd?b="08":"Y"==a.BasicData.product.smp_only_yn&&"Y"!=a.BasicData.product.smp_goods_view_yn&&(b="09"),b},this.getDeliveryInfo=function(a){var b="";return b="13145"==a.BasicData.product.entr_no?"홈쇼핑상품":""!=a.BasicData.product.reserve_start&&null!=a.BasicData.product.reserve_start?"예약상품":"02"==a.BasicData.product.dlv_goods_sct_cd||"04"==a.BasicData.product.dlv_goods_sct_cd?"설치상품":"03"==a.BasicData.product.dlv_goods_sct_cd?"주문제작상품":"05"==a.BasicData.product.dlv_goods_sct_cd?"e쿠폰상품":"일반상품",""!=b&&(b+="/ "+a.BasicData.product.delivery_info),"01"==a.BasicData.product.dlv_goods_sct_cd&&"7"==a.BasicData.product.dlv_dday&&(b=a.BasicData.product.delivery_info),b},this.replaceAll=function(a,b,d){return a!=c&&null!=a&&""!=a&&(a=a.split(b).join(d)),a},this.isEmpty=function(a){var b=!0;return a!=c&&null!=a&&""!=a&&"null"!=a&&(b=!1),b},this.getNumberFormat=function(a){var b=/(-?[0-9]+)([0-9]{3})/;for(a=10*parseInt(a/10);b.test(a);)a=(a+"").replace(b,"$1,$2");return a},this.getNumberFormat2=function(a){var b=/(-?[0-9]+)([0-9]{3})/;for(a=parseInt(a);b.test(a);)a=(a+"").replace(b,"$1,$2");return a},this.toNumber=function(a){if(a==c||null==a||""==a||"null"==a)return 0;var b=this.objectToString(a);try{if(!(b.indexOf(",")>=0))return Number(b);Number(this.replaceAll(b,",",""))}catch(d){}},this.objectToString=function(a){return a==c?"":a.toString()},this.goUrl=function(a,b,c,d){if(null!=d){this.getTclickCd(b.BasicData.elotte_yn,d)}var e="";e=c.indexOf("?")>=0?c+"&"+b.baseParam:c+"?"+b.baseParam,a.location.href=e},this.goToLogin=function(a,b,c){var d="&targetUrl="+encodeURIComponent(a.location.href,"UTF-8");c.indexOf("?")>0?a.location.href=c+"&"+b.baseParam+d:a.location.href=c+"?"+b.baseParam+d},this.toTimeObject=function(a){var b=a.substr(0,4),c=a.substr(4,2)-1,d=a.substr(6,2),e=a.substr(8,2),f=a.substr(10,2),f=a.substr(10,2);return new Date(b,c,d,e,f)},this.getHourInterval=function(a,b){var d=a==c?new Date:this.toTimeObject(a),e=this.toTimeObject(b),f=36e5;return parseInt((e-d)/f,10)},this.getMinuteIntervalStr=function(a,b){var d=a==c?new Date:this.toTimeObject(a),e=this.toTimeObject(b),f=parseInt((e-d)/6e4,10),g=parseInt(f/60),h=parseInt(f%60);10>f/60&&(g="0"+parseInt(f/60)),10>f%60&&(h="0"+parseInt(f%60));var i=g+"시간 "+h+"분";return i},this.toTimeString=function(a,b){var d=a.getFullYear(),e=a.getMonth()+1,f=a.getDate(),g=a.getHours(),h=a.getMinutes(),i=a.getSeconds();1==(""+e).length&&(e="0"+e),1==(""+f).length&&(f="0"+f),1==(""+g).length&&(g="0"+g),1==(""+h).length&&(h="0"+h),1==(""+i).length&&(i="0"+i);var j=""+d+e+f+g+h+i;return b!=c&&(j=b.replace("YYYY",d.toString()).replace("YY",d.toString()).replace("MM",e).replace("DD",f).replace("HH",g).replace("MN",h).replace("SS",i)),j},this.httpPost=function(a,b,c){var d={};return d.isError=!1,d.result=null,a({method:"POST",url:b,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(a){var b=[];for(var c in a)null!=a[c]&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},data:c}).success(function(a){return d.isError=!1,d.result=a,d}).error(function(a){return d.isError=!0,d.result=a,d}),d},this.getTclickCd=function(a,b){var c="";return c=a?"el_m_o_"+b:"m_o_"+b},this.getObjListKey=function(a,b,c){for(var d=null,e=0;e<a.length;e++){var f=this.getObjKeyValue(a[e],b);if(f==c){d=a[e],d.disp_prio_rnk=e+1;break}}return d},this.getObjKeyValue=function(a,c){var d=null,e=!0;return b.forEach(a,function(a,b){1==e&&b==c&&(d=a,e=!1)}),d},this.getSubImgName=function(a){var b="";if(a.length>0){var c=a.split("|");b=c[0]}return b},this.logrecom_type_view_jsonp=function(a){for(var b=new String,c=0;c<a.items.length;c++)c>0&&(b+=","),b+="'"+a.items[c]+"'";return b}}),d.filter("trustUrl",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}]),d.filter("splitimg",["$sce",function(a){return function(a){var b=a.split("|");return b[0]}}]),d.controller("ProductCtrl",["$scope","$window","$http","$timeout","$interval","$routeParams","$location","LotteCommon","Fnproductview","commInitData","LotteUtil","StyleRecom","LotteCookie",function(d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a){return 10>a?"0"+a:a+""}function r(a,b,c,d,e,f){var g=new Date(a,b,c,d,e,f);return a&&b&&c&&(g.setFullYear(a),g.setMonth(b-1),g.setDate(c),d&&g.setHours(d),e&&g.setMinutes(e),f&&g.setSeconds(f)),g.getTime()}function s(a){var b=0;return b=r(a.substring(0,4),a.substring(4,6)?a.substring(4,6):1,a.substring(6,8)?a.substring(6,8):1,a.substring(8,10),a.substring(10,12),a.substring(12,14))}function t(){var a=-1;switch(D){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:a=D;break;case 15:a=9;break;case 40:a=10;break;case 65:a=11}if(D++,D>90&&(D=0),a>=0){var c=-60*(a%10),d=10>a?0:-60;b.element(".recomm_style2 .re_style_btn span").css("background-position",c+"px "+d+"px")}}d.showWrap=!0,d.contVisible=!0,d.subTitle="상품상세",d.isShowThisSns=!0,d.isBasicData=!1,d.windowWidth=$(a).width(),d.windowHeight=$(a).height(),d.cateViewFlag=!1,d.loadingFail=!1,d.viewBigImg=!1,d.swipeTclick="m_DC_ProdDetail_",d.popTclick="m_DC_ProdDetail_List_",d.showStyleFlag=!0,d.AB_TRACK_NO=100;var u=m.query.cn;"152131"==u&&(d.AB_TRACK_NO=1),d.swipeVideoStop=function(){$(".video_wrap video").each(function(a,b){$(b).siblings(".stop_cover:visible, .click_cover:visible").length>=1&&g(function(){$(b).siblings(".btn_move_stop").trigger("click")},10)})},d.openWin=function(){d.appObj.isApp?openNativePopup("배송제외지역 확인하기","http://m.lotte.com/product/m/product_list.do?curDispNo=5387795"):a.open("http://m.lotte.com/product/m/product_list.do?curDispNo=5387795")},d.detailCateView=function(){(d.BasicData.product.vod_url==c||""==d.BasicData.product.vod_url)&&(d.sendTclick("m_DC_ProdDetail_Clk_Ttl"),d.cateViewFlag=!d.cateViewFlag)};var v=new Date,w=v.getFullYear()+q(v.getMonth()+1)+q(v.getDate()),x=v.getTime();if(m.query.testDate){m.query.testDate;w=m.query.testDate,x=s(w)}x>s("20170900")&&(d.AB_TRACK_NO=100);var y=l.objectToString(m.query.goods_no),z="";l.isEmpty(m.query.cn)||(z=l.objectToString(m.query.cn)),d.chkAppOnlyObj={flag:!1,alertMsg:"",referrer:"",tclick:"",webEnterFlag:!0,deepLinkFlag:!0,shareEnable:!0},d.gotoPrepage=function(){d.sendTclick("m_RDC_header_new_pre"),history.go(-1)},d.chkAlliancePopupObj={flag:!1,imgPath:"",deepLinkFlag:!0,referrer:"",tclick:""},f.get(k.productLimitInfoData).success(function(b){var c=0,e=0;if(b.appOnlyInfo&&b.appOnlyInfo.length>0){var f=b.appOnlyInfo;for(c=0;c<f.length;c++)if(f[c].goodsLst&&f[c].goodsLst.length>0)for(e=0;e<f[c].goodsLst.length;e++)if(y==f[c].goodsLst[e]&&(!f[c].dateLimitFlag||f[c].dateLimitFlag&&f[c].sdate&&f[c].edate&&x>=s(f[c].sdate)&&x<s(f[c].edate))){d.chkAppOnlyObj.flag=!0,d.chkAppOnlyObj.alertMsg=f[c].alertMsg,d.chkAppOnlyObj.referrer=f[c].referrer,d.chkAppOnlyObj.tclick=f[c].tclick,d.chkAppOnlyObj.webEnterFlag=f[c].webEnterFlag,d.chkAppOnlyObj.deepLinkFlag=f[c].deepLinkFlag,d.chkAppOnlyObj.shareEnable=f[c].shareEnable;break}}if(b.alliancePopup&&b.alliancePopup.length>0){var g=b.alliancePopup;for(c=0;c<g.length;c++)if(g[c].chlnoLst&&g[c].chlnoLst.length>0)for(e=0;e<g[c].chlnoLst.length;e++)if(z==g[c].chlnoLst[e]&&(!g[c].dateLimitFlag||g[c].dateLimitFlag&&g[c].sdate&&g[c].edate&&x>=s(g[c].sdate)&&x<s(g[c].edate))){d.chkAlliancePopupObj.flag=!0,d.chkAlliancePopupObj.imgPath=g[c].imgPath,d.chkAlliancePopupObj.deepLinkFlag=g[c].deepLinkFlag,d.chkAlliancePopupObj.referrer=g[c].referrer,d.chkAlliancePopupObj.tclick=g[c].tclick;break}}d.appObj.isApp||!d.chkAppOnlyObj.flag||d.chkAppOnlyObj.webEnterFlag||d.chkAppOnlyObj.alertMsg&&(alert(d.chkAppOnlyObj.alertMsg),a.location.href="/")}).error(function(a){console.log("앱전용 상품/제휴채널 전면팝업 데이터 오류")}),d.reqParam={curDispNo:"",curDispNoSctCd:""},l.isEmpty(m.query.upCurDispNo)||(d.reqParam.upCurDispNo=l.objectToString(m.query.upCurDispNo)),l.isEmpty(m.query.curDispNo)||(d.reqParam.curDispNo=l.objectToString(m.query.curDispNo)),l.isEmpty(m.query.goods_no)||(d.reqParam.goods_no=l.objectToString(m.query.goods_no),d.op_goods_no=d.reqParam.goods_no),l.isEmpty(m.query.wish_lst_sn)||(d.reqParam.wish_lst_sn=l.objectToString(m.query.wish_lst_sn)),l.isEmpty(m.query.cart_sn)||(d.reqParam.cart_sn=l.objectToString(m.query.cart_sn)),l.isEmpty(m.query.item_no)||(d.reqParam.item_no=l.objectToString(m.query.item_no)),l.isEmpty(m.query.genie_yn)||(d.reqParam.genie_yn=l.objectToString(m.query.genie_yn)),l.isEmpty(m.query.curDispNoSctCd)||(d.reqParam.curDispNoSctCd=l.objectToString(m.query.curDispNoSctCd)),l.isEmpty(m.query.late_view_yn)||(d.reqParam.late_view_yn=l.objectToString(m.query.late_view_yn)),l.isEmpty(m.query.cn)||(d.reqParam.cn=l.objectToString(m.query.cn)),l.isEmpty(m.query.cdn)||(d.reqParam.cdn=l.objectToString(m.query.cdn)),d.reqParamStr=d.baseParam,l.isEmpty(d.reqParam.curDispNoSctCd)||(d.reqParamStr+="&curDispNoSctCd="+d.reqParam.curDispNoSctCd),l.isEmpty(d.reqParam.curDispNo)||(d.reqParamStr+="&curDispNo="+d.reqParam.curDispNo),l.isEmpty(d.reqParam.goods_no)||(d.reqParamStr+="&goods_no="+d.reqParam.goods_no),d.Fnproductview=l,d.priceInfo={},d.imageList=[],d.smartpickBookingBrch={},d.totalPromInfo={},d.dispPromInfo_base=[],d.dispPromInfo_before={},d.dispPromInfo=[],d.isMatchLmt=!1,d.calcPromInfoOrg={},d.calcPromInfo={};var A=function(){var a=d.BasicData.product;d.priceInfo.titlePrice="0",d.priceInfo.sale_price="0",d.priceInfo.discount_amt="0",d.priceInfo.lowPrice="0",d.priceInfo.finalPromCardPrice="0";var b=l.toNumber(a.sale_prc),c=l.toNumber(a.dscnt_sale_prc),e=l.toNumber(a.inst_cpn_aply_unit_price),f=l.toNumber(a.immed_pay_dscnt_amt);"31"==a.ec_goods_artc_cd&&"Y"!=d.BasicData.elotte_yn?d.priceInfo.lowPrice=a.sale_prc:d.priceInfo.lowPrice=a.sale_prc,"109329"!=d.BasicData.chl_no&&"132224"!=d.BasicData.chl_no&&"156027"!=d.BasicData.chl_no||a.sale_prc==a.dscnt_sale_prc?"03"==a.inst_fvr_polc_tp_cd||"04"==a.inst_fvr_polc_tp_cd?(d.priceInfo.sale_price=b-(e+f),d.priceInfo.discount_amt=e+f):(d.priceInfo.sale_price=b-f,d.priceInfo.discount_amt=f):(d.priceInfo.sale_price=c-(e+f),d.priceInfo.discount_amt=b-c+e+f,d.priceInfo.lowPrice=d.priceInfo.sale_price),("0"!=a.immed_pay_dscnt_amt||"03"==a.inst_fvr_polc_tp_cd||"04"==a.inst_fvr_polc_tp_cd)&&(d.priceInfo.lowPrice=d.priceInfo.sale_price);var g=0,h=0,i=0,j=0;if("Y"==a.prom_card_yn&&d.priceInfo.lowPrice>a.lotte_card_dc_prc?d.priceInfo.promCardPrice=a.lotte_card_dc_prc:d.priceInfo.promCardPrice=d.priceInfo.lowPrice,g=l.toNumber(d.priceInfo.promCardPrice),i=l.toNumber(a.prom_fvr_val),h=l.toNumber(a.prom_aply_lmt_amt),j=l.toNumber(a.max_fvr_val),g>=h&&!l.isEmpty(a.prom_card_nm)){var k=.01*g*i,m=(g-k)/10;k>=j&&(m=(g-j)/10),d.priceInfo.finalPromCardPrice=10*m}null==a.reserve_lpoint&&""==a.reserve_lpoint,null==a.reserve_plus_card&&""==a.reserve_plus_card,l.isEmpty(d.reqParam.curDispNo)&&(d.reqParam.curDispNo=a.mast_disp_no);var n=null;if(d.BasicData.product.org_sale_prc!=d.priceInfo.lowPrice){var o=l.toNumber(d.BasicData.product.org_sale_prc);n=parseInt((o-d.priceInfo.lowPrice)/o*100,0),d.priceInfo.disc_prc=c-d.priceInfo.lowPrice}d.priceInfo.immed_pay_dscnt_amt=f,"Y"!=d.BasicData.product.prc_dif_view_yn&&null!=d.BasicData.product.inst_cpn_aply_val&&(n=parseInt(l.toNumber(d.BasicData.product.inst_cpn_aply_val))),d.priceInfo.disc_rt=n},B=function(){var a=[],b=d.BasicData.product_banner,c=0,e=1;if(null!=b){var f=2;e="13145"==d.BasicData.product.entr_no?2:1;for(var g=0;g<b.total_count&&!(c>=f);g++){var h=b.items[g];"Y"!=d.BasicData.elotte_yn?l.objectToString(e)==h.set_rnk&&(c+=1,a.push(h)):(c+=1,a.push(h))}}return a},C=function(){var a=localStorage.getItem("latelyGoods"),c=(b.element("html").scope(),[]),e={},f="",g="";if(null!=a){c=a.split("|"),e.goods_no=[];for(var h=0;h<c.length;h++)e.goods_no.push(c[h]);-1!=e.goods_no.indexOf(d.BasicData.goods_no)&&e.goods_no.splice(e.goods_no.indexOf(d.BasicData.goods_no),1),e.goods_no.push(d.BasicData.goods_no),b.forEach(e,function(a,b){a.length>20&&a.splice(0,a.length-20),""!=f&&(f+="|"),f+=a.join("|")}),g=f,localStorage.setItem("latelyGoods",g),d.shareStorage("local","latelyGoods",g)}else g=d.BasicData.goods_no,localStorage.setItem("latelyGoods",g),d.shareStorage("local","latelyGoods",g)};d.makerInfo="";var D=0;d.check_fee=function(a){var b=!1,c=parseInt(a);return c>0&&1e5>c&&(b=!0),b},d.autoVdoPlay=function(){d.BasicData.product.movies!=c&&d.BasicData.product.movies[0].mpic_url_addr!=c&&""!=d.BasicData.product&&g(function(){autoVideoPlay("autoVideo1","#autoVideo1")},100)},d.loadBasicData=function(){d.BasicData==c&&f.get(k.productProductViewData,{params:d.reqParam}).success(function(e){function f(){var a=[];if(""!=SaleBestDataCopy)for(var b=SaleBestDataCopy,c=0;c<b.length&&5>c;c++)a.push({goodsNo:b[c].goods_no,imgUrl:b[c].img_url,price2:b[c].sale_prc-b[c].inst_cpn_aply_unit_price-b[c].immed_pay_dscnt_amt});return a}function i(){if(0==$("#aceRetargetingDetail").length){var b=document.getElementsByTagName("body")[0],c=document.createElement("script");c.type="text/javascript",c.id="aceRetargetingDetail",c.src="//static.tagmanager.toast.com/tag/view/830",c.onload=function(){a.ne_tgm_q=a.ne_tgm_q||[],a.ne_tgm_q.push({tagType:"detail",device:"mobile",uniqValue:"",pageEncoding:"utf-8",items:[{id:d.BasicData.goods_no,price:d.priceInfo.lowPrice,quantity:"1",category:"",imgUrl:d.BasicData.product.img_url0,name:d.BasicData.product.goods_nm,desc:"",link:"http://m.lotte.com/product/m/product_view.do?goods_no="+d.BasicData.goods_no}]})},b.appendChild(c)}}d.BasicData=e.max,d.isBasicData=!0,d.BasicData.product.review_totalcnt=parseInt(d.BasicData.product.review_totalcnt),d.BasicData.product.gift_totalcnt=parseInt(d.BasicData.product.gift_totalcnt),d.styleFlag=d.BasicData.product.style_flag,(d.styleFlag==c||null==d.styleFlag)&&(d.styleFlag=!1),d.styleFlag&&h(t,100),d.recommStylePop=!1;var j="/product/m/style_recom.do";if(d.rs_open=localStorage.getItem("recommstyle"),d.rs_msg=!1,w!=localStorage.getItem("recommstyle_day")&&(d.rs_msg=!0),d.ms_msg=!1,w!=localStorage.getItem("recommMovie_day")&&(d.ms_msg=!0),d.close_moviemsg=function(){d.ms_msg=!1,localStorage.setItem("recommMovie_day",w)},null==d.rs_open&&(d.rs_open="Y"),d.imglink=d.BasicData.product.img_url0.replace("_280","_550"),d.nostyle=!1,d.data_styleRecomm=function(){if(d.sendTclick("m_DC_ProdDetail_Clk_Pop3"),d.imageList.length>1){var b=parseInt($(".currentNum").text())-1;"vod"==d.imageList[b].tp?b=1:"vde"==d.imageList[b].tp&&(b=0),d.imglink=d.imageList[b].imgUrl.replace("_280","_550")}o.detect(d.imglink,function(b){if(b.length>0)if("Y"==d.rs_open){localStorage.setItem("recommstyle","N"),d.rs_open="N";var c=b[0].category;d.selectedSex="A",1==c||8==c?d.selectedSex="F":d.loginInfo.isLogin&&d.loginInfo.genSctCd&&(d.selectedSex=d.loginInfo.genSctCd),o.search(b[0].id,d.selectedSex,[c],d.BasicData.product.styl_recomm_cat_grp_cd,function(a){d.style_list=a.slice(0,5),a.length>0&&$(".recommgroup").show()})}else d.style_go();else{var e=(new Date).getHours();1==(""+e).length&&(e="0"+e),d.sendTclick("m_DC_ProdDetail_Error_"+e+"_"+d.BasicData.goods_no),d.nostyle=!0;var h=$(a).scrollTop();""!=SaleBestDataCopy?(d.style_list=f(),$(".recommgroup").show(),$(a).scrollTop(h+1)):($("body").animate({scrollTop:h+100},300),g(function(){d.style_list=f(),0==d.style_list.length?alert("죄송합니다. 추천 상품을 준비중입니다."):($(".recommgroup").show(),$("body").scrollTop(h))},2e3))}})},d.style_go=function(a){var b="";d.BasicData.product.styl_recomm_cat_grp_cd!=c&&(b="&cate="+d.BasicData.product.styl_recomm_cat_grp_cd);var e="&tclick=m_DC_ProdDetail_Clk_Lnk_3";a&&(e="&tclick="+a),location.href=d.baseLink(j+"?img="+d.imglink)+b+e},d.style_gotoProduct=function(a,b){location.href=d.baseLink(k.prdviewUrl)+"&goods_no="+a+"&tclick=m_DC_ProdDetail_Clk_Rel"+b},d.close_stylemsg=function(){d.rs_msg=!1,localStorage.setItem("recommstyle_day",w)},d.close_stylepop=function(){$(".recommgroup").hide(),d.rs_msg=!1},1==d.BasicData.chanel_yn&&$(a).width()<640){var m=null!=d.BasicData.product.chanel_rel_product_list.items?d.BasicData.product.chanel_rel_product_list.items.length:0,n=[];if(d.BasicData.product.chanel_rel_product_list.items&&m>0){var q=0,r=-1;for(q;m>q;q++)q%2==0&&(r++,n[r]=[]),n[r].push(d.BasicData.product.chanel_rel_product_list.items[q]);d.chanelRelProductData=n}else d.chanelRelProductData=null;var s=null!=d.BasicData.product.chanel_best_seller_prod_list.items?d.BasicData.product.chanel_best_seller_prod_list.items.length:0,u=[];if(d.BasicData.product.chanel_best_seller_prod_list.items&&s>0){var q=0,r=-1;for(q;s>q;q++)q%2==0&&(r++,u[r]=[]),u[r].push(d.BasicData.product.chanel_best_seller_prod_list.items[q]);d.chanelBestProductData=u}else d.chanelBestProductData=null}d.btnDispTp=l.productbtnlayertp(d),d.mdNtcFcont="",l.isEmpty(d.BasicData.product.md_ntc_fcont)&&(d.mdNtcFcont+=d.BasicData.product.md_ntc_fcont),l.isEmpty(d.BasicData.product.md_ntc_fcont1)&&(d.mdNtcFcont+=d.BasicData.product.md_ntc_fcont1),l.isEmpty(d.BasicData.product.md_ntc_fcont2)&&(d.mdNtcFcont+=d.BasicData.product.md_ntc_fcont2),A();var v=l.getDeliveryInfo(d);if(v=v.replace("</br>","<br>"),d.deliveryInfoTpStr=v.replace("<br/>","<br>"),d.prodBannerList=B(d),d.reqCheckList(),(null==d.BasicData.min_lmt_qty||""==d.BasicData.min_lmt_qty)&&(d.BasicData.min_lmt_qty="1"),null!=d.BasicData.product.dtl_info_vod&&""!=d.BasicData.product.dtl_info_vod){var x={};x.tp="vod",x.dtl_info_vod=d.BasicData.product.dtl_info_vod,d.imageList.push(x)}if(b.forEach(d.BasicData.product,function(a,b){if("img_url"!=b&&0==b.indexOf("img_url")&&null!=d.BasicData.product[b]&&""!=d.BasicData.product[b]){var c={};c.tp="img",c.imgUrl=d.BasicData.product[b].replace("_280","_550"),d.imageList.push(c)}}),d.BasicData.product.movies!=c&&d.BasicData.product.movies[0]!=c&&null!=d.BasicData.product.movies[0].mpic_url_addr&&""!=d.BasicData.product.movies[0].mpic_url_addr){var x={};x.tp="vde",x.img_url_addr=d.BasicData.product.movies[0].img_url_addr,x.mpic_url_addr=d.BasicData.product.movies[0].mpic_url_addr,d.imageList.push(x),d.BasicData.product.vod_url=""}if(d.imageList.length>0?d.share_img=d.imageList[0].imgUrl:d.share_img="",d.subTitle=d.BasicData.product.mgoods_nm,null!=d.BasicData.product.select_goods_list.items&&d.BasicData.product.select_goods_list.items.length>0)for(var y=0;y<d.BasicData.product.select_goods_list.items.length;y++)d.BasicData.product.select_goods_list.items[y].goods_nm="[선택 "+(y+1)+"] "+d.BasicData.product.select_goods_list.items[y].goods_nm;var z=d.BasicData.smp_wine_yn;if(null!=z&&"Y"==z&&d.imageList.length>0&&d.imageList.splice(d.imageList.length-1,1),"Y"!=d.reqParam.late_view_yn&&C(),null!=d.BasicData.product.mfcp_nm&&null!=d.BasicData.product.orpl_nm&&(d.makerInfo=d.BasicData.product.mfcp_nm+"/"+d.BasicData.product.orpl_nm),d.BasicData.product.vod_url!=c&&""!=d.BasicData.product.vod_url&&g(function(){autoVideoPlay("autoVideo","#autoVideo")},100),d.swipeEndHandler=function(a){if(d.BasicData.product.movies&&d.BasicData.product.movies[0].mpic_url_addr){d.showStyleFlag=!0,d.swipeVideoStop();var c=b.element(".swipePlayBtn .playBtn").scope(),e=a.idx+1;e==c.imageList.length?(vod_useScroll=!0,d.autoVdoPlay(),d.showStyleFlag=!1):vod_useScroll=!1}},d.BasicData.product.clm_dscnt_prom_items&&d.BasicData.product.clm_dscnt_prom_items.length>0){for(var D=d.BasicData.product.clm_dscnt_prom_items,q=0;q<D.length;q++){var E=D[q];E.prom_dscnt_prc=d.objPromDisc.getDiscPrice(E),E.lmt_amt_kr=d.objPromDisc.getPriceKr(E.aply_lmt_amt+""),E.max_fvr_kr=d.objPromDisc.getPriceKr(E.max_fvr_val+""),d.totalPromInfo[E.card_knd_cd]?d.totalPromInfo[E.card_knd_cd].arr.push(E):(d.totalPromInfo[E.card_knd_cd]={},d.totalPromInfo[E.card_knd_cd].arr=[],d.totalPromInfo[E.card_knd_cd].arr.push(E)),E.aply_lmt_amt<=d.priceInfo.lowPrice&&(d.isMatchLmt=!0),d.dispPromInfo_base.push(E)}if(d.BasicData.product.select_goods_list.total_count>0){if(d.BasicData.product.clm_dscnt_prom_card_items&&d.BasicData.product.clm_dscnt_prom_card_items.length>0){var F=d.BasicData.product.clm_dscnt_prom_card_items,G=[];d.isMatchLmt=!1;for(var q=0;q<F.length;q++){var x={};x.card_knd_nm=F[q][0];var H=d.objPromDisc.getMatchItem(x,d.dispPromInfo_base);H&&(x=H,x.aply_lmt_amt<=d.priceInfo.lowPrice&&(d.isMatchLmt=!0),G.push(x))}var I=0;if(d.isMatchLmt)for(var q=0;q<G.length;q++){var x=G[q];(!d.dispPromInfo_before[x.card_knd_cd]||x.aply_lmt_amt<=d.priceInfo.lowPrice&&x.prom_dscnt_prc<d.dispPromInfo_before[x.card_knd_cd].prom_dscnt_prc)&&(x.sort=I++,x.card_knd_nm=x.card_knd_nm.replace("카드",""),x.info=d.objPromDisc.getDispPromText(x,d.dispPromInfo_base),d.dispPromInfo_before[x.card_knd_cd]=x)}else for(var q=0;q<G.length;q++){var E=G[q];d.dispPromInfo_before[E.card_knd_cd]||(E.sort=I++,E.card_knd_nm=E.card_knd_nm.replace("카드",""),E.info=d.objPromDisc.getDispPromText_nomatch(E,d.dispPromInfo_base),d.dispPromInfo_before[E.card_knd_cd]=E)}for(var J in d.dispPromInfo_before)d.dispPromInfo.push(d.dispPromInfo_before[J])}}else{var I=0;if(d.isMatchLmt)for(var q=0;q<d.dispPromInfo_base.length;q++){var x=d.dispPromInfo_base[q];(!d.dispPromInfo_before[x.card_knd_cd]||x.aply_lmt_amt<=d.priceInfo.lowPrice&&x.prom_dscnt_prc<d.dispPromInfo_before[x.card_knd_cd].prom_dscnt_prc)&&(x.sort=I++,x.card_knd_nm=x.card_knd_nm.replace("카드",""),x.info=d.objPromDisc.getDispPromText(x,d.dispPromInfo_base),d.dispPromInfo_before[x.card_knd_cd]=x)}else for(var q=0;q<d.dispPromInfo_base.length;q++){var E=d.dispPromInfo_base[q];d.dispPromInfo_before[E.card_knd_cd]||(E.sort=I++,E.card_knd_nm=E.card_knd_nm.replace("카드",""),E.info=d.objPromDisc.getDispPromText_nomatch(E,d.dispPromInfo_base),d.dispPromInfo_before[E.card_knd_cd]=E)}for(var J in d.dispPromInfo_before)d.dispPromInfo.push(d.dispPromInfo_before[J])}}g(function(){var a=[{i:d.BasicData.goods_no,t:d.BasicData.product.goods_nm}];d.addWiderPlanetLog("Item",a)},3e3),i();var K=function(){var a="MW";d.appObj.isApp&&d.appObj.isAndroid?a="MA":d.appObj.isApp&&d.appObj.isIOS&&(a="MI");var b=b||[];b.push(["setVar","cuid","5dfabb12-dae3-4a56-a123-c097dadbca58"]),b.push(["setVar","device",a]),b.push(["setVar","itemId",d.BasicData.goods_no?d.BasicData.goods_no:""]),b.push(["setVar","userId",p.getCookie("MBRNO")?p.getCookie("MBRNO"):""]),b.push(["setVar","brandId","30"!=d.BasicData.goods_cmps_cd?d.BasicData.product.brnd_no:""]),b.push(["track","view"]),setTimeout(function(){!function(a,b){a=document.createElement("script"),a.type="text/javascript",a.async=!0,a.defer=!0,a.src=("https:"==document.location.protocol?"https":"http")+"://d1hn8mrtxasu7m.cloudfront.net/rblc/js/rblc-apne1.min.js",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)}()},0)};g(function(){K()},3e3)}).error(function(){d.loadingFail=!0,console.log("Data Error : 상품기본정보 로드 실패")})},d.objPromDisc={getPriceKr:function(a){if(!a||isNaN(a))return a;if(a.length>8||a%1e4!=0)return d.Fnproductview.getNumberFormat(a)+"원";var b=a.substr(0,a.length-4);return b+"만원"},getDispPromText_nomatch:function(a,b){var c="";return c=a.card_knd_nm+" "+a.fvr_val+"% ("+a.lmt_amt_kr+" 이상)"},getDispPromText:function(a,b){var c="";if(0==a.prom_dscnt_prc||"0"==a.prom_dscnt_prc)return c=a.card_knd_nm+" "+a.fvr_val+"% ("+a.lmt_amt_kr+" 이상)";c=a.card_knd_nm+" "+a.lmt_amt_kr+"↑ "+a.fvr_val+"%";var e=d.objPromDisc.getSecondItem(a,b);return e&&(c+=", "+e.lmt_amt_kr+"↑ "+e.fvr_val+"%"),c},getMatchItem:function(a,b){for(var c,e=0;e<b.length;e++)b[e].card_knd_nm==a.card_knd_nm&&(!c||b[e].aply_lmt_amt<=d.priceInfo.lowPrice&&b[e].prom_dscnt_prc<c.prom_dscnt_prc)&&(c=b[e]);return c},getDiscPrice:function(a){if(a.aply_lmt_amt>d.priceInfo.lowPrice)return 0;var b=d.priceInfo.lowPrice*a.fvr_val*.01;return a.max_fvr_val<b?d.priceInfo.lowPrice-a.max_fvr_val:d.priceInfo.lowPrice-b},getSecondItem:function(a,b){for(var c,d=0;d<b.length;d++)if(b[d].card_knd_cd==a.card_knd_cd&&b[d].aply_lmt_amt>a.aply_lmt_amt){if(!c){c=b[d];continue}c.aply_lmt_amt>b[d].aply_lmt_amt&&(c=b[d])}return c}},d.intFnc=function(a){return parseInt(a)},d.reqCheckList=function(){if("19"==d.BasicData.product.byr_age_lmt_cd){if(""==d.loginInfo.isAdult)return d.loginInfo.isLogin?d.goAdultSci():l.goToLogin(e,d,k.loginUrl+"?adultChk=Y"),!1;if(!d.loginInfo.isAdult)return alert("이 상품은 법률규정에 의하여 만 19세 이상 성인만 조회 및 구매가 가능합니다."),!1}},("localhost:8082"==location.host||"mo.lotte.com"==location.host)&&(a.scope=d),d.enableDate=function(a,b){var c=!1;return x>=s(a)&&x<s(b)&&(c=!0),c},d.goDeliveryMsg=function(a,b){location.href=d.baseLink("/product/m/product_list.do?"+a+"&tclick="+b)},d.movieSwipeTclick=function(a,b){a=d.swipeTclick+a,$(".dSwipeImg div.video_wrap > a.btn_move_volume").hasClass("mute")&&(a=d.swipeTclick+b),d.sendTclick(a)},d.moviePopTclick=function(a,b){a=d.popTclick+a,$(".lPrdTop div.video_wrap > a.btn_move_volume").hasClass("mute")&&(a=d.popTclick+b),d.sendTclick(a)}}]),d.controller("ProductDetailPage",["$scope","$window","Fnproductview",function(a,c,d){a.loadBasicData(),b.element(c).scrollTop(0),a.optionChange=function(a,b){},a.goBestFriendCoupon=function(b){var e=b+"&tclick=m_o_footer_banner";d.goUrl(c,a,e,null)}}]),d.directive("videoPoster",[function(){return{restrict:"A",link:function(a,c,d){d.videoPoster&&b.element(c).attr("poster",d.videoPoster)}}}]),d.directive("videoSource",[function(){return{restrict:"A",link:function(a,c,d){d.videoSource&&b.element(c).attr("src",d.videoSource)}}}]),d.directive("onFinishRender",function(a){return{restrict:"A",scope:!0,link:function(b,c,d){b.$last===!0&&a(function(a){b.$emit(d.onFinishRender),b.$apply()},0)}}}),d.directive("footerOptionbar",["$http","$window","$timeout","$location","$compile","LotteCommon","Fnproductview","LotteForm","LotteCookie","LotteLink","commInitData",function(d,e,f,g,h,i,j,k,l,m,n){return{templateUrl:"/lotte/resources_dev/product/m/footer_optionbar.html",replace:!0,link:function(f,g,h){function o(){var a,d,e,g=f.loginInfo.mbrNo+"_MO",h=0,i="",j=0,k=0,l="",m="",n=b.element(".titLocation");if(n.length>0&&n.scope().cateNaviList){var o=n.scope().cateNaviList;a=o.length,a>1&&o[1].cur_disp_no!=c&&(l=o[1].cur_disp_no)}a=f.orderList.length;for(var d=0;a>d;d++)e=f.orderList[d],j=e.ord_cnt,h=e.sale_price,k=e.org_sale_price,i=e.goods_no+"_"+e.goods_nm,m=d,p(g,h,i,j,k,l,m)}function p(a,b,c,d,e,f,g){
var h="https:"==location.protocol?"https:":"http:",i=new Image,j="10051",k=h+"//ntracker.nsm-corp.com";k+="/c/rcv.php?code=520&id="+j+"&trans="+encodeURI(a),k+="&value="+b+"&pc="+encodeURI(c)+"&pa="+d+"&pp="+e+"&pg="+encodeURI(f)+"&etc="+encodeURI(g),i.src=k}f.closeAlliancePopup=function(){f.chkAlliancePopupObj.flag=!1},f.allianceExcuteApp=function(){var a=f.chkAlliancePopupObj.deepLinkFlag?null:"http://m.lotte.com",b=f.chkAlliancePopupObj.referrer?f.chkAlliancePopupObj.referrer:null,c=f.chkAlliancePopupObj.tclick?f.chkAlliancePopupObj.tclick:null;m.appDeepLink("lotte",a,c,b)},f.google_map_url=i.pickMapUrl,g=g.find("#optionWrap"),f.tabFixed=!1,f.showBuyGift=!0,f.buygift=f.BasicData.product.buy_gift,f.holiday=f.BasicData.quick_dlv_holiday,f.qs_yn="N",f.buygift==c&&(f.buygift=null),null!=f.buygift&&(f.buygiftOptionBar="/event/m/eventSaunMain.do?"+f.baseParam+"&evt_no="+f.buygift.link+"&tclick=m_DC_ProdDetail_Clk_Lnk_4",f.showBuyGiftDetail="<a href='"+f.buygiftOptionBar+"'>"+f.buygift.txt2+"<img class='arrow' src='http://image.lotte.com/lotte/mo2015/angular/detail/arrow_buygift.png'></a>"),f.buyGift=function(){location.href="/event/m/eventSaunMain.do?"+f.baseParam+"&evt_no="+f.buygift.link+"&tclick=m_DC_ProdDetail_Clk_Lnk_3"},f.closeBuyGift=function(){f.showBuyGift=!1},f.tabFixedChange=function(a){f.tabFixed=a},"20"==f.BasicData.product.sale_stat_cd&&f.brieflyPop({target:"soldoutPop"}),"30"==f.BasicData.product.sale_stat_cd&&f.brieflyPop({target:"soldout2Pop"}),setTimeout(function(){f.$apply(function(){if(f.brch_shop_no="",f.dimAutoHeight=function(){var b=$(a).height()-$(".optionLayer").height()-50;$("#optionDim").css("height",b),setTimeout(function(){b=$(a).height()-$(".optionLayer").height()-50,$("#optionDim").css("height",b)},300)},f.smpDispYn="Y"==f.BasicData.product.smp_exchange_yn&&"Y"!=f.BasicData.product.smp_only_yn?"Y":"N","Y"==f.BasicData.product.smp_exchange_yn&&(f.deliSelect=!0,f.isSmpYn=!0,"Y"==f.BasicData.product.smp_only_yn?f.isDeliveryYn=!1:f.isDeliveryYn=!0),f.showDelivery=!1,f.totalDelivery_type="0",f.isAnySmp=!1,f.isDept=!1,f.isBtnDeli=!0,f.isBtnQuick=!1,0==f.BasicData.product.select_goods_list.total_count)("Y"==f.BasicData.product.smp_exchange_yn||"Y"==f.BasicData.product.crspk_psb_yn)&&(f.showDelivery=!0),"Y"!=f.BasicData.product.smp_exchange_yn||"01"!=f.BasicData.product.dlv_goods_sct_cd||f.BasicData.product.reserve_start||(f.isBtnQuick=!0),"Y"==f.BasicData.product.smp_only_yn&&(f.isBtnDeli=!1);else{var b,d;for(f.isBtnDeli=!1,b=0;b<f.BasicData.product.select_goods_list.total_count;b++)d=f.BasicData.product.select_goods_list.items[b],"1"!=d.delivery_type&&(f.showDelivery=!0,f.isAnySmp=!0,f.isBtnQuick=!0),"2"!=d.delivery_type&&(f.isBtnDeli=!0),""!=d.usm_goods_no&&null!=d.usm_goods_no&&(f.isDept=!0)}if(f.tempIndex,f.setTempIndex=function(a){f.tempIndex=a},f.smpSelectCheck=function(a){var b=!1;if(!f.orderTypeGift){var d=f.orderList[f.tempIndex];d.smp_shop_no!=c&&""!=d.smp_shop_no&&d.smp_shop_no==a&&(b=!0)}return b},"30"==f.BasicData.goods_cmps_cd)null!=f.BasicData.product.select_goods_list&&f.BasicData.product.select_goods_list.total_count>0&&(f.BasicData.product.select_goods_list.selectedItem="",f.BasicData.product.select_goods_list.displayName="상품선택");else if(null==f.BasicData.product.item_dtl){var e="",g=j.toNumber(f.BasicData.min_lmt_qty),h="N",i="",k="",l=f.BasicData.product.reserve_start?"Y":"N";f.addOrderList(u(null,f.BasicData.goods_no,null,null,f.BasicData.product.item_no,f.smpDispYn,g,f.priceInfo.lowPrice,f.BasicData.product.inv_qty,f.BasicData.product.mast_disp_no,f.BasicData.product.goods_cmps_cd,h,e,f.BasicData.min_lmt_qty,f.BasicData.max_lmt_qty,i,k,!1,f.BasicData.product.crspk_psb_yn,f.BasicData.product.smp_only_yn,f.BasicData.product.dept_main_inv_qty_sum,f.BasicData.product.dlv_goods_sct_cd,l))}else f.prodItemList=t(f.BasicData.goods_no,f.BasicData.product.item_dtl.items,f.BasicData.product.goods_nm,"N",f.BasicData.product.mast_disp_no,f.BasicData.product.goods_cmps_cd,f.BasicData.product.crspk_psb_yn,f.BasicData.product.dept_main_inv_qty_sum,f.BasicData.product.dlv_goods_sct_cd,l);if(f.selectedOptValue=[],null!=f.BasicData.product.item_dtl&&(f.selectedOptValue=new Array(f.BasicData.product.item_dtl.total_count)),null!=f.BasicData.product.item_dtl&&f.BasicData.product.item_dtl.total_count>1){f.optArr=new Array(f.BasicData.product.item_dtl.items[0].item.total_count);for(var m,n,o,p=0;p<f.optArr.length;p++){o=f.BasicData.product.item_dtl.items[0].item.items[p].opt_value,f.optArr[p]=0;for(var b=0;b<f.BasicData.product.item_dtl_stk_list.total_count;b++)m=f.BasicData.product.item_dtl_stk_list.items[b],n=m.opt_tval.split(" x "),o==n[0]&&(f.optArr[p]+=parseInt(m.inv_qty))}}else f.optArr=null})},0),f.rentalOnlyYn=!1,f.rentalOnlyYnNew=!1,"30"!=f.BasicData.product.ec_goods_artc_cd&&"31"!=f.BasicData.product.ec_goods_artc_cd||"Y"==f.BasicData.elotte_yn||(f.rentalOnlyYnNew=!0),f.btnCartShow=!1,f.btnWishShow=!0,f.btnAlarmShow=!0,f.btnOrderShow=!0;var q="1",r="2",s="13145";f.isShowCartComp=!1,f.isShowWishComp=!1,f.totalOrderCnt=0,f.totalOrderAmt=0,f.hasWishList=!1,f.orderList=[],f.orderSendInfo={};var t=function(a,b,c,d,e,f,g,h,i,j){if(null!=b){for(var k=0;k<b.length;k++)b[k].displayOn="on",b[k].displayName="("+b[k].name+") 선택",b[k].selectedItem="",b[k].master_disp_no=e,b[k].goods_cmps_cd=f,b[k].goods_no=a,b[k].dept_main_inv_qty=h,b[k].dlv_goods_sct_cd=i,b[k].rsv_sale_yn=j,null!=c&&(b[k].goods_nm=c),null!=d&&(b[k].smpDispYn=d),null==b[k].value_type&&(b[k].value_type="SELECTGOODS"),null!=g&&(b[k].crspk_psb_yn=g);if(1==b.length)for(var k=0;k<b[0].item.total_count;k++){var l=b[0].item.items[k];l.opt_cnt=l.opt_cnt,l.stc_item_no=l.item_no}}return b};f.selectOptionDepth=0,f.chgDisplayAttr=function(a){for(var b=0;b<f.prodItemList.length;b++)a==f.prodItemList[b].value_type?(f.selectOptionDepth=b,f.prodItemList[b].displayOn="on"):f.prodItemList[b].displayOn=""};var u=function(a,b,d,e,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var A=function(a){return(a==c||null==a)&&(a=""),a},B=f.getSelectedGoodsItem(b),C={};if(C.goods_nm=a,C.goods_no=b,C.item_nm=d,C.color_img_url=e,C.item_no=g,C.smp_yn=h,C.ord_cnt=i,C.inv_qty=null==l?9999:l,C.isAbleDelete=u,C.master_disp_no=m,C.goods_cmps_cd=n,C.smartOrd=o,C.smp_prod_yn=o,C.dept_main_inv_qty=x,C.dlv_goods_sct_cd=y,C.rsv_sale_yn=z,null==B?(C.img_url="",C.org_sale_price=k,C.sale_price=i*k,C.inst_cpn_aply_unit_price=0,C.immed_pay_dscnt_amt=0,C.min_lmt_qty=j.toNumber(q),C.max_lmt_qty=Number(C.inv_qty)>Number(r)?j.toNumber(r):j.toNumber(C.inv_qty),C.crspk_psb_yn=v,C.smp_only_yn=w,C.smp_psb_yn=f.BasicData.product.smp_psb_yn):(C.goods_nm=B.goods_nm,C.img_url=B.img_url,C.org_sale_price=B.sale_prc,C.inst_cpn_aply_unit_price=B.inst_cpn_aply_unit_price,C.immed_pay_dscnt_amt=B.immed_pay_dscnt_amt,C.sale_price=i*(B.sale_prc-B.inst_cpn_aply_unit_price-B.immed_pay_dscnt_amt),C.min_lmt_qty=j.toNumber(B.min_lmt_qty),C.max_lmt_qty=Number(C.inv_qty)>Number(B.max_lmt_qty)?j.toNumber(B.max_lmt_qty):j.toNumber(C.inv_qty),C.crspk_psb_yn=B.crspk_psb_yn,C.smp_only_yn=B.smp_only_yn,C.smp_psb_yn=B.smp_psb_yn),C.smp_shop_no=t,C.smp_entr_no=s,null!=B&&(C.item_opt_list=A(B.item_opt_list),C.buy_term=A(B.buy_term),C.is_ecoupon=A(B.is_ecoupon),C.delivery_type=A(B.delivery_type)),null!=f.BasicData.product.item_opt_list){var D={};D.total_count=f.BasicData.product.item_opt_list.total_count,D.items=[];for(var E=0;E<D.total_count;E++)D.items.push({item_opt_name:f.BasicData.product.item_opt_list.items[E].item_opt_name,item_opt_type:f.BasicData.product.item_opt_list.items[E].item_opt_type,item_opt_value:""});C.item_opt_list=D}return C};f.getOptObj=function(a){var b={};if(b.inv_qty="0",b.opt_tval="",b.color_img_url="",b.item_no="",b.goods_no="",b.dlv_goods_sct_cd=f.BasicData.product.dlv_goods_sct_cd,b.rsv_sale_yn=f.BasicData.product.reserve_start?"Y":"N",f.goodsOptData!=c&&(b.dlv_goods_sct_cd=f.goodsOptData.dlv_goods_sct_cd,b.rsv_sale_yn=f.goodsOptData.rsv_sale_yn),"30"==f.BasicData.product.goods_cmps_cd)if(f.goodsOptData.item_dtl.total_count>0)for(var d=0;d<f.goodsOptData.item_dtl.items[0].item.total_count;d++){var e=f.goodsOptData.item_dtl.items[0].item.items[d];if(e.item_no==a){b.inv_qty=e.opt_cnt,b.opt_tval=e.opt_value,b.color_img_url=e.color_img_url,b.item_no=e.item_no,b.goods_no=f.goodsOptData.goods_no,b.dept_main_inv_qty=e.dept_main_inv_qty;break}}else b.item_no="0",b.goods_no=f.goodsOptData.goods_no;else if(null!=f.BasicData.product.item_dtl&&1==f.BasicData.product.item_dtl.total_count)for(var d=0;d<f.BasicData.product.item_dtl_stk_list.total_count;d++){var e=f.BasicData.product.item_dtl_stk_list.items[d];if(e.item_no==a){b.inv_qty=e.inv_qty,b.opt_tval=e.opt_tval,b.color_img_url=e.color_img_url,b.item_no=e.item_no,b.goods_no=e.goods_no,b.dept_main_inv_qty=e.dept_main_inv_qty;break}}else for(var d=0;d<f.BasicData.product.item_dtl_stk_list.total_count;d++){var e=f.BasicData.product.item_dtl_stk_list.items[d];if(e.opt_val_cd==a){b.inv_qty=e.inv_qty,b.opt_tval=e.opt_tval,b.color_img_url=e.color_img_url,b.item_no=e.item_no,b.goods_no=e.goods_no,b.dept_main_inv_qty=e.dept_main_inv_qty;break}}return b},f.deliSelect=!1,f.deliSelect_li_click=function(a){if(!f.isAllSelect())return void alert("상품정보를 먼저 선택해 주세요.");var b=!1,c="";if(a==q){var e=j.getObjListKey(f.orderList,"smartOrd","Y");null!=e&&(b=!0,c="두개 이상의 상품 주문시, 처음 선택한 상품과 동일한 배송방법(택배)으로만 주문 가능합니다.")}else{var e=j.getObjListKey(f.orderList,"smartOrd","N");null!=e&&(b=!0,c="두개 이상의 상품 주문시, 처음 선택한 상품과 동일한 배송방법(스마트픽)으로만 주문 가능합니다.")}if(b)return void alert(c);if(f.deliSelected=a,a==q){if(g.find(".btnDelivery").addClass("on"),g.find(".btnSmartpick").removeClass("on"),null==f.BasicData.product.item_dtl){if(0==f.orderList.length){var h="",k=j.toNumber(f.BasicData.min_lmt_qty),l="",m="",n="N";f.addOrderList(u(null,f.BasicData.goods_no,null,null,f.BasicData.product.item_no,f.smpDispYn,k,f.priceInfo.lowPrice,f.BasicData.product.inv_qty,f.BasicData.product.mast_disp_no,f.BasicData.product.goods_cmps_cd,n,h,f.BasicData.min_lmt_qty,f.BasicData.max_lmt_qty,l,m,!1,f.BasicData.product.smp_only_yn))}}else f.isAllSelect()&&w(!1,null);f.deliSelect=!1}else{var o={};if("30"==f.BasicData.goods_cmps_cd?o.goods_no=f.BasicData.product.select_goods_list.selectedItem:o.goods_no=f.BasicData.goods_no,null!=f.prodItemList){var p=w(!0,null);null!=p?o.item_no=p.item_no:o.item_no=f.BasicData.product.item_no}else o.item_no=f.BasicData.product.item_no;o.smp_prod_yn="Y",d.get(i.smartpickSmartpickBookingData,{params:o}).success(function(a){var b=j.getObjListKey(a.smartpick_booking.goods_list.items,"goods_no",o.goods_no);null!=b&&null!=b.smp_brch_list&&b.smp_brch_list.total_count>0?f.smartpickBookingBrch=b.smp_brch_list:"Y"==f.BasicData.product.smp_only_yn?alert("스마트픽 가능지점이 없습니다"):(alert("스마트픽 가능지점이 없습니다."),f.deliSelect=!1,f.deliSelected=q,w(!1,null))}).error(function(){console.log("Data Error : 스마트픽 지점정보 로드 실패")}),g.find(".btnDelivery").removeClass("on"),g.find(".btnSmartpick").addClass("on")}},f.myshopFlag=function(a,b){var c="";return a==b&&(c="단골지점 : "),c},f.inputNumber=!1,f.deliSelect2=!1,f.close_smpLayer=function(){f.inputNumber=!1,f.deliSelect2=!1,$("body").removeClass("fixBody")},f.ok_smpLayer=function(){f.inputNumber=!1;for(var a="",b=!0,d=!1,e=!1,g=0;g<f.smpData.goods_list.total_count;g++)if($("#smartpickSpot0"+g+":checked").attr("data-goods_no")!=c)if(a=$("#brch_area_"+g).val(),e="Y"==f.smpData.goods_list.items[g].crspk_psb_yn?!0:!1,d=1==$("#mart_a"+g+":checked").length?!1:!0,""==a)if(f.orderList[g].disable!=c&&1==f.orderList[g].disable);else{if(!e||!d){alert("지점을 선택해 주세요."),b=!1,$(".selList > li").eq(g).removeClass("disable");break}if(f.smpData.goods_list.items[g].mart_name==c){alert("지점을 선택해 주세요."),b=!1,$(".selList > li").eq(g).removeClass("disable");break}f.orderList[g].crspk_yn="Y",f.orderList[g].smartOrd="Y",f.orderList[g].smp_prod_yn="Y",f.orderList[g].mart_name=f.smpData.goods_list.items[g].mart_name,f.orderList[g].crspk_corp_cd=f.smpData.goods_list.items[g].crspk_corp_cd,f.orderList[g].crspk_corp_str_sct_cd=f.smpData.goods_list.items[g].crspk_corp_str_sct_cd,f.orderList[g].crspk_str_no=f.smpData.goods_list.items[g].crspk_str_no,f.orderList[g].disable=!1,$(".selList > li").eq(g).removeClass("disable")}else a==c?(e&&d&&(f.orderList[g].crspk_yn="Y",f.orderList[g].smartOrd="Y",f.orderList[g].smp_prod_yn="Y",f.orderList[g].mart_name=f.smpData.goods_list.items[g].mart_name,f.orderList[g].crspk_corp_cd=f.smpData.goods_list.items[g].crspk_corp_cd,f.orderList[g].crspk_corp_str_sct_cd=f.smpData.goods_list.items[g].crspk_corp_str_sct_cd,f.orderList[g].crspk_str_no=f.smpData.goods_list.items[g].crspk_str_no),$(".selList > li").eq(g).removeClass("disable")):(e&&d?(f.orderList[g].crspk_yn="Y",f.orderList[g].smartOrd="Y",f.orderList[g].smp_prod_yn="Y",f.orderList[g].mart_name=f.smpData.goods_list.items[g].mart_name,f.orderList[g].crspk_corp_cd=f.smpData.goods_list.items[g].crspk_corp_cd,f.orderList[g].crspk_corp_str_sct_cd=f.smpData.goods_list.items[g].crspk_corp_str_sct_cd,f.orderList[g].crspk_str_no=f.smpData.goods_list.items[g].crspk_str_no):(f.orderList[g].crspk_yn="N",f.orderList[g].smp_shop_no=a,f.orderList[g].smartOrd="Y",f.orderList[g].smp_prod_yn="Y"),f.orderList[g].disable=!1,$(".selList > li").eq(g).removeClass("disable"));else 0==f.BasicData.product.select_goods_list.total_count&&0==f.BasicData.product.item_dtl_stk_list.total_count?f.orderList[g].smp_shop_no="":($(".selList > li").eq(g).addClass("disable"),f.orderList[g].disable=!0,f.orderList[g].smp_shop_no="");b&&(f.deliSelect2=!1,$("body").removeClass("fixBody"))},f.deliSelect_layer_cov=function(a){return"#method11"!=a||f.isQuick?void(1==$(a+":disabled").length&&alert("2개 이상 상품 주문하실 경우 택배 상품끼리 또는 롯데 스마트픽 상품끼리 주문 가능합니다.")):(A(),!1)},f.deliSelect_layer=function(a){if("1"==a){f.sendTclick("m_DC_ProdDetail_Clk_Btn_6"),f.qs_yn="N";for(var b=0;b<f.orderList.length;b++)f.orderList[b].smp_shop_no="",f.orderList[b].smartOrd="N",f.orderList[b].smp_prod_yn="N",f.orderList[b].disable=!1;$(".selList > li").removeClass("disable")}else if("3"==a)if(f.orderList!=c&&f.orderList.length>0){var d=A();if("deli"==d||"main"==d)return!1;$("body").addClass("fixBody"),f.inputNumber=!0,f.quickPop=!0,f.qs_yn="Y";for(var b=0;b<f.orderList.length;b++)f.orderList[b].smp_shop_no="",f.orderList[b].smartOrd="N",f.orderList[b].smp_prod_yn="N",f.orderList[b].disable=!1}else alert("상품정보를 먼저 선택해 주세요.");else"2"==a&&($("body").addClass("fixBody"),f.inputNumber=!0,f.smartPop=!0)},f.myshopFlag=function(a,b){var c="";return a==b&&(c="단골지점 : "),c},f.selLayer_optClick=function(a,b){return f.orderTypeGift&&f.totalOrderCnt>0?void("auto"!=b&&alert("옵션은 1개만 선택 가능합니다.")):void(f.rentalOnlyYnNew&&f.orderList.length>0?alert("렌탈상품은 1개씩 상담신청할 수 있습니다. \n이미 선택한 상품 상담완료 또는 삭제후 시도해주세요."):(g.addClass("option"),f.chgDisplayAttr(a),f.isShowOption=!0,f.isShowGoods=!1))},f.selLayer_prodClick=function(a){return f.orderTypeGift&&f.totalOrderCnt>0&&null==f.BasicData.product.item_dtl_stk_list.items?void("auto"!=a&&alert("단품은 1개만 선택 가능합니다.")):(g.addClass("option"),f.isShowOption=!1,void(f.isShowGoods=!0))},f.autoOpenOpt=function(a){f.BasicData.product.select_goods_list.total_count>0?"SELECTGOODS"==a?f.selLayer_optClick(a):f.selLayer_prodClick("auto"):f.prodItemList!=c?f.selLayer_optClick(f.prodItemList[a].value_type,"auto"):(z(),f.boldOptionBorder())},f.optionLayerYn=!1;var v=!0;f.closeOptionLayer=function(){v=!1,f.btnOptionClose_click(),setTimeout(f.btnOrder_click(),300)},f.orderTypeGift=!1,f.btnOrderGift_click=function(){f.orderTypeGift||(f.deliSelect_layer("1"),(null!=f.BasicData.product.select_goods_list.items||null!=f.BasicData.opt_list||null!=f.BasicData.product.item_dtl)&&(f.orderList=[],f.totalOrderCnt=0)),f.orderTypeGift=!0,f.btnOrder_click()},f.btnOrderNormal_click=function(a){!f.orderTypeGift||null==f.BasicData.product.select_goods_list.items&&null==f.BasicData.opt_list&&null==f.BasicData.product.item_dtl||(f.orderList=[],f.totalOrderCnt=0),f.orderTypeGift=!1,f.btnOrder_click(a)},f.btnOrder_click=function(a){pticketCheck(0,n.query.goods_no,function(b){b||f.btnOrder_click2(a)})},f.btnOrder_click2=function(a){if(f.orderFlag){if(f.orderTypeGift?f.sendTclick("m_DC_ProdDetail_Gift_Main_btn"):"normal"==a?f.sendTclick("m_DC_ProdDetail_Clk_Btn_buy"):f.sendTclick("m_DC_ProdDetail_Clk_Btn_2"),$(".layerPop.detailInfoPop").length>0&&v)if(f.orderTypeGift&&f.totalOrderCnt>0);else{f.prodItemList=[],f.BasicData.product.select_goods_list.selectedItem="",f.BasicData.product.select_goods_list.displayName="상품선택";var b=$(".layerPop.detailInfoPop").attr("productIndex"),e=f.BasicData.product.select_goods_list.items[b];f.BasicData.product.item_dtl_stk_list.total_count>0?f.ncGoodsSelected(e.goods_no):d.get(i.productSelectGoodsOptInfoData,{params:{goods_no:e.goods_no}}).success(function(a){f.ncGoodsSelected(e.goods_no)})}if(f.optionLayerYn){if(f.chkAppOnlyObj.flag){if(f.appObj.isApp)"5"==(l.getCookie("MBRSCTCD")+"").trim()?alert("간편계정 회원의 경우 구매불가합니다.\nLPOINT 통합회원 가입 후 구매해주세요."):f.buy();else if(confirm(f.chkAppOnlyObj.alertMsg)){var h=f.chkAppOnlyObj.deepLinkFlag?null:"http://m.lotte.com",j=f.chkAppOnlyObj.referrer?f.chkAppOnlyObj.referrer:null,k=f.chkAppOnlyObj.tclick?f.chkAppOnlyObj.tclick:null;m.appDeepLink("lotte",h,k,j)}}else f.buy();return}if(g.addClass("on"),f.optionLayerYn=!0,f.btnCartShow=!0,f.btnWishShow=!1,v)f.autoOpenOpt(0);else{v=!0;var n=0;if(f.prodItemList!=c){for(var o=0;o<f.prodItemList.length;o++)if(""==f.prodItemList[o].selectedItem){n=o;break}0==f.BasicData.product.item_dtl_stk_list.total_count&&f.BasicData.product.select_goods_list.total_count>0&&n++}$(".orderLayerWrap .selLayer").eq(n).length>0&&($(".selLayer").removeClass("nextSelect"),$(".orderLayerWrap .selLayer").eq(n).addClass("nextSelect"))}}},f.btnOrder_wine_click=function(){f.buy()},f.btnCart_click=function(){pticketCheck(0,n.query.goods_no,function(a){a||f.btnCart_click2()})},f.btnCart_click2=function(){if(!f.orderTypeGift||null==f.BasicData.product.select_goods_list.items&&null==f.BasicData.opt_list||(f.orderList=[],f.totalOrderCnt=0),f.orderTypeGift=!1,$("#method11").is(":checked")&&!A())return!1;if(f.sendTclick("m_DC_ProdDetail_Clk_Btn_4"),$(".layerPop.detailInfoPop").length>0&&v){f.prodItemList=[],f.BasicData.product.select_goods_list.selectedItem="",f.BasicData.product.select_goods_list.displayName="상품선택";var a=$(".layerPop.detailInfoPop").attr("productIndex"),b=f.BasicData.product.select_goods_list.items[a];f.BasicData.product.item_dtl_stk_list.total_count>0?f.ncGoodsSelected(b.goods_no):d.get(i.productSelectGoodsOptInfoData,{params:{goods_no:b.goods_no}}).success(function(a){f.ncGoodsSelected(b.goods_no)}),f.sendBuzzni&&f.sendBuzzni("cart",[n.query.goods_no])}return f.optionLayerYn?void f.cartAdd():(g.addClass("on"),f.optionLayerYn=!0,f.btnWishShow=!1,void(v?f.autoOpenOpt(0):v=!0))},f.btnWish_click=function(){f.sendTclick("m_DC_ProdDetail_Clk_Btn_3"),f.wishListAdd()},f.btnSmart_click=function(a,b){f.sendTclick("m_DC_ProdDetail_Clk_Btn_5"),null==b?f.StockRechargeCall(a,f.BasicData.product.item_no):f.StockRechargeCall(a,b)},f.datePickerState="",f.datePickerYn=!1,f.datePickerOpen=function(a){f.datePickerYn=!0,a&&(f.datePickerState=a.target,f.datePickerObj=a)},f.datePickerClose=function(){f.datePickerYn=!1},f.btnOptionClose_click=function(){g.removeClass("on").removeClass("option"),f.optionLayerYn=!1,f.datePickerYn=!1,f.btnCartShow=!1,f.btnWishShow=!0},f.orderFlag=!0,f.ncGoodsSelected=function(a){g.removeClass("option"),f.orderFlag=!1;var b=f.getSelectedGoodsItem(a);f.BasicData.product.select_goods_list.selectedItem=a,f.BasicData.product.select_goods_list.displayName=b.goods_nm,d.get(i.productSelectGoodsOptInfoData,{params:{goods_no:b.goods_no}}).success(function(c){if(f.goodsOptData=c.select_goods_opt_info,f.goodsOptData.goods_no=b.goods_no,f.isGoodsOptData=!0,null==f.goodsOptData.item_dtl.items||null==f.goodsOptData.item_dtl.items[0].item.items[0].opt_value){if(!f.deliSelect){var d=b.img_url,e=j.toNumber(f.goodsOptData.min_lmt_qty),g="N",h="",i="",k=null!=f.goodsOptData.item_dtl.items?f.goodsOptData.item_dtl.items[0].item.items[0].dept_main_inv_qty:!1;f.addOrderList(u(f.goodsOptData.goods_nm,a,null,null,f.BasicData.product.item_no,f.smpDispYn,e,f.goodsOptData.sale_prc,f.goodsOptData.inv_qty,f.goodsOptData.master_disp_no,f.goodsOptData.goods_cmps_cd,g,d,f.goodsOptData.min_lmt_qty,f.goodsOptData.max_lmt_qty,h,i,!0,f.BasicData.product.crspk_psb_yn,f.BasicData.product.smp_only_yn,k,f.goodsOptData.dlv_goods_sct_cd,f.goodsOptData.rsv_sale_yn)),f.boldOptionBorder(),z()}}else f.prodItemList=t(b.goods_no,f.goodsOptData.item_dtl.items,f.goodsOptData.goods_nm,"N",f.goodsOptData.master_disp_no,f.goodsOptData.goods_cmps_cd,b.crspk_psb_yn,k,f.goodsOptData.dlv_goods_sct_cd,f.goodsOptData.rsv_sale_yn),f.autoOpenOpt("SELECTGOODS");f.orderFlag=!0}).error(function(){console.log("Data Error : 기획전형 상품 옵션정보 로드 실패"),f.orderFlag=!0})},f.ncChangeBrch=function(){if(""!=f.brch_shop_no){var a=j.getObjListKey(f.smartpickBookingBrch.items,"shop_no",f.brch_shop_no);null!=a&&w(!1,a.inv_qty)}},f.isAllSelect=function(){var a=!0;if(f.prodItemList!=c&&f.prodItemList.length>0)for(var b=0;b<f.prodItemList.length;b++)if(""==f.prodItemList[b].selectedItem){a=!1;break}return a},f.selOption_click=function(a,b,c){g.removeClass("option");for(var d=!1,e=!1,h=!1,i=0;i<f.prodItemList.length;i++)if(h&&(f.prodItemList[i].displayName="("+f.prodItemList[i].name+") 선택",f.prodItemList[i].selectedItem=""),a==f.prodItemList[i].value_type){h=!0,d=i==f.prodItemList.length-1,e=i==f.prodItemList.length-2;for(var j="",k=0;k<f.prodItemList[i].item.items.length;k++)b==f.prodItemList[i].item.items[k].item_no&&(j=f.prodItemList[i].item.items[k].opt_value,f.prodItemList[i].selectedItem=b);f.prodItemList[i].displayName="("+f.prodItemList[i].name+") "+j}var l=!1;if(e)for(var m="",i=0;i<f.prodItemList.length;i++){if(l)for(var k=0;k<f.prodItemList[i].item.items.length;k++)f.prodItemList[i].item.items[k].opt_cnt=f.getOptObj(m+f.prodItemList[i].item.items[k].item_no).inv_qty,f.prodItemList[i].item.items[k].dept_main_inv_qty=f.getOptObj(m+f.prodItemList[i].item.items[k].item_no).dept_main_inv_qty,i==f.prodItemList.length-1&&(f.prodItemList[i].item.items[k].stc_item_no=f.getOptObj(m+f.prodItemList[i].item.items[k].item_no).item_no);else m+=f.prodItemList[i].selectedItem+" x ";a==f.prodItemList[i].value_type&&(l=!0)}if(f.subOpt=[],d)w(!1,null),f.boldOptionBorder();else{var n=parseInt(a.substr(4,1));if(f.selectedOptValue[n-1]=j,1==n){var o=f.prodItemList[1].item.items;f.subOpt=new Array(o.length);for(var p,q,r=0;r<o.length;r++){f.subOpt[r]=0,f.selectedOptValue[1]=o[r].opt_value;for(var i=0;i<f.BasicData.product.item_dtl_stk_list.total_count;i++)p=f.BasicData.product.item_dtl_stk_list.items[i],q=p.opt_tval.split(" x "),f.selectedOptValue[0]==q[0]&&f.selectedOptValue[1]==q[1]&&(f.subOpt[r]+=parseInt(p.inv_qty))}}if(2==n){var o=f.prodItemList[2].item.items;f.subOpt=new Array(o.length);for(var p,q,r=0;r<o.length;r++){f.subOpt[r]=0,f.selectedOptValue[2]=o[r].opt_value;for(var i=0;i<f.BasicData.product.item_dtl_stk_list.total_count;i++)p=f.BasicData.product.item_dtl_stk_list.items[i],q=p.opt_tval.split(" x "),f.selectedOptValue[0]==q[0]&&f.selectedOptValue[1]==q[1]&&f.selectedOptValue[2]==q[2]&&(f.subOpt[r]+=parseInt(p.inv_qty))}}f.autoOpenOpt(n)}z()},f.boldOptionBorder=function(){$(".selLayer").removeClass("nextSelect"),$(".orderLayerWrap .selLayer").eq(0).addClass("nextSelect")};var w=function(a,b){var d="",e="",g="",h="",i="",k="",l="",m=!0,n="";if(f.prodItemList!=c)for(var o=0;o<f.prodItemList.length;o++){if(""==f.prodItemList[o].selectedItem){m=!1;break}d+="SELECTGOODS"==f.prodItemList[o].value_type?f.prodItemList[o].selectedItem:f.prodItemList[o].selectedItem+" x ",e=f.prodItemList[o].goods_no,g=f.prodItemList[o].goods_nm,h=f.prodItemList[o].smpDispYn,i=f.prodItemList[o].master_disp_no,k=f.prodItemList[o].goods_cmps_cd,l=f.prodItemList[o].crspk_psb_yn,n=f.prodItemList[o].smp_only_yn}else e=f.BasicData.goods_no,g=f.BasicData.product.goods_nm,h=f.smpDispYn,i=f.BasicData.product.mast_disp_no,k=f.BasicData.goods_cmps_cd,l=f.BasicData.product.crspk_psb_yn,n=f.BasicData.product.smp_only_yn;if(m){var p="",q=f.getSelectedGoodsItem(null);null!=q&&q.img_url!=c&&(p=q.img_url),d.length>=3&&d.indexOf("x")>=0&&(d=d.substr(0,d.length-3));var s=f.getOptObj(d),t=f.deliSelected==r?"Y":"N",v=j.toNumber(f.BasicData.min_lmt_qty),w=s.inv_qty,x=s.dept_main_inv_qty,y=s.dlv_goods_sct_cd,z=s.rsv_sale_yn,A="",B="";if("Y"==t&&null!=b&&(w=b,null!=f.brch_shop_no)){var C=j.getObjListKey(f.smartpickBookingBrch.items,"shop_no",f.brch_shop_no);null!=C&&(A=C.brch_entr_no,B=C.shop_no)}if(a)return u(g,e,s.opt_tval,s.color_img_url,s.item_no,h,v,f.priceInfo.lowPrice,w,i,k,t,p,f.BasicData.min_lmt_qty,f.BasicData.max_lmt_qty,A,B,!0,l,n);var D=!1;(f.prodItemList!=c&&null!=f.prodItemList&&f.prodItemList.length>0||null!=f.BasicData.product.select_goods_list.items)&&(D=!0),f.addOrderList(u(g,e,s.opt_tval,s.color_img_url,s.item_no,h,v,f.priceInfo.lowPrice,w,i,k,t,p,f.BasicData.min_lmt_qty,f.BasicData.max_lmt_qty,A,B,D,l,n,x,y,z))}};f.selPrdDel_click=function(a,b){f.orderList.splice(),f.totalDelivery_type="0";for(var d=f.orderList.length;d--;)f.orderList[d].goods_no==a&&f.orderList[d].item_no==b&&f.orderList.splice(d,1);for(d=f.orderList.length;d--;)f.orderList[d].delivery_type!=c&&("1"==f.orderList[d].delivery_type?f.totalDelivery_type="1":"2"==f.orderList[d].delivery_type&&(f.totalDelivery_type="2"));f.check_enableSmartpick(),z(),f.addOrderList(null)},f.check_enableSmartpick=function(){if("0"==f.totalDelivery_type){for(var a=[0,0],b=0;b<f.orderList.length;b++)if("N"==f.orderList[b].crspk_psb_yn&&"Y"==f.orderList[b].smp_psb_yn)a[0]+=1;else if("Y"==f.orderList[b].crspk_psb_yn&&"N"==f.orderList[b].smp_psb_yn)a[1]+=1;else if("N"==f.orderList[b].crspk_psb_yn&&"N"==f.orderList[b].smp_psb_yn){f.totalDelivery_type="1";break}a[0]>0&&a[1]>0&&(f.totalDelivery_type="1")}"1"==f.totalDelivery_type?($("#method9").prop("checked",!0),f.qs_yn="N"):"2"==f.totalDelivery_type&&($("#method10").prop("checked",!0),f.qs_yn="N")},f.getSelectedOrderItem=function(a,b){for(var d,e=f.orderList.length;e--;)if(b==c||null==b||""==b){if(f.orderList[e].goods_no==a){d=f.orderList[e];break}}else if(f.orderList[e].goods_no==a&&f.orderList[e].item_no==b){d=f.orderList[e];break}return d},f.getSelectedGoodsItem=function(a){var b=null;if(null!=f.BasicData.product.select_goods_list)for(var c=0;c<f.BasicData.product.select_goods_list.total_count;c++){var d=f.BasicData.product.select_goods_list.items[c];if(null==a){if(""!=d.selectedItem){b=d;break}}else if(d.goods_no==a){b=d;break}}return b},f.addOrderList=function(a){var b=!0,d=!0,e=0,h=0;if(null!=a&&f.orderList!=c&&f.orderList.length>0)for(var i=0;i<f.orderList.length;i++)if(f.orderList[i].goods_no==a.goods_no&&f.orderList[i].item_no==a.item_no){b=!1,f.orderList[i].disable!=c&&1==f.orderList[i].disable&&(f.orderList[i].disable=!1,$(".selList > li").eq(i).removeClass("disable"),d=!1);break}if(null!=a&&b)f.orderList.push(a);else if(null!=a&&d)return null!=f.prodItemList?void alert("이미 선택된 옵션입니다."):void alert("이미 선택된 상품입니다.");var i,j,k=0;for(f.totalDelivery_type="0",f.onlyEcoupon=!1,i=0;i<f.orderList.length;i++)j=f.orderList[i],e+=j.ord_cnt,h+=j.sale_price,"1"==j.delivery_type?(f.totalDelivery_type="1",j.is_ecoupon&&(f.totalDelivery_type="2",k++)):"2"==j.delivery_type&&(f.totalDelivery_type="2");if(f.check_enableSmartpick(),f.totalOrderCnt=e,f.totalOrderAmt=h,"30"==f.BasicData.goods_cmps_cd)f.BasicData.product.select_goods_list.selectedItem="",f.BasicData.product.select_goods_list.displayName="상품선택",f.prodItemList=[];else if(null!=f.BasicData.product.item_dtl){var l=f.BasicData.product.reserve_start?"Y":"N";f.prodItemList=t(f.BasicData.goods_no,f.BasicData.product.item_dtl.items,f.BasicData.product.goods_nm,"N",f.BasicData.product.mast_disp_no,f.BasicData.product.goods_cmps_cd,f.BasicData.product.crspk_psb_yn,f.BasicData.product.dept_main_inv_qty_sum,f.BasicData.product.dlv_goods_sct_cd,l)}f.deliSelected=null,g.find(".btnDelivery").removeClass("on"),g.find(".btnSmartpick").removeClass("on")},f.setOptsQty=function(a,b,c,d,e){var g=f.getSelectedOrderItem(a,b);if("undefined"==typeof g.ord_cnt)g.ord_cnt=g.max_lmt_qty;else if(null==g.ord_cnt){if("Y"==d)return;g.ord_cnt=g.min_lmt_qty}if(g.ord_cnt<1&&(g.ord_cnt=1),g.inv_qty<g.ord_cnt)return void("Y"==e?alert("지점 보유 재고가 부족합니다."):alert("보유 재고가 부족합니다."));if(null!=c){if(0>c&&g.min_lmt_qty>=g.ord_cnt)return alert("구매 최소 수량은 "+g.min_lmt_qty+"개 입니다."),void(g.ord_cnt=g.min_lmt_qty);if(c>0&&g.max_lmt_qty<=g.ord_cnt)return alert("구매 최대 수량은 "+g.max_lmt_qty+"개 입니다."),void(g.ord_cnt=g.max_lmt_qty);f.orderTypeGift&&g.ord_cnt>19&&1==c&&(alert("선물주문은 1회에 20명까지만 동시 전달이 가능합니다."),g.ord_cnt=20,g.max_lmt_qty=20),g.ord_cnt=c>0?g.ord_cnt+1:g.ord_cnt-1<1?1:g.ord_cnt-1}return $("#method11").is(":checked")&&!A(g.ord_cnt)?!1:(g.sale_price=(g.org_sale_price-g.inst_cpn_aply_unit_price-g.immed_pay_dscnt_amt)*g.ord_cnt,void f.addOrderList(null))},f.buy=function(){if($("#method11").is(":checked")&&!A())return!1;var b=(f.BasicData.product.dlv_goods_sct_cd,f.BasicData.product.delivery_info),c=(b.replace("순차적","주문순서대로"),f.BasicData.product.entr_no==s),d=(j.isEmpty(f.BasicData.product.reserve_start)?!1:!0,f.cartCheckResult("buy"));if(null!=d){if(""!=d)return void alert(d);if(!f.orderTypeGift||1==f.orderList.length)if($("#stayLoading").show(),c){var e=f.orderSendInfo.goods_no,h=f.orderSendInfo.item_no,l=f.orderSendInfo.ord_qty;f.imall_prod_chk("buy",e,h,l)}else{var m=null!=f.orderSendInfo.smartOrd&&f.orderSendInfo.smartOrd.indexOf("Y")>=0?!0:!1;m=$("#method10:checked").length>0;var n,o=g.find("#frm_send");if(f.loginInfo.isLogin)if("Y"==f.BasicData.smp_wine_yn)f.orderSendInfo.smartOrd="Y",n=i.secureUrl+"/product/m/product_wine_buy_view.do?"+f.baseParam,n+="&mastDispNo="+f.BasicData.product.mast_disp_no,n+="&goods_no="+f.BasicData.goods_no,n+="&smp_tp_cd="+f.BasicData.product.smp_tp_cd,"Y"==f.BasicData.spick_app_yn&&(n+="&spick_app_yn=Y");else if(m)o=g.find("#frm_smart_send"),n=i.baseUrl+"/smartpick/m/smartpick_booking.do?"+f.baseParam+"&gno=direct",i.isTestFlag&&(n="/smartpick/m/smartpick_booking_dev.html?"+f.baseParam),"Y"==f.BasicData.product.spick_app_yn&&(n+="&spick_app_yn=Y");else if(f.rentalOnlyYnNew)o=g.find("#frm_rent_send"),n=i.secureUrl+"/product/m/product_rent.do?"+f.baseParam+"&tclick=";else{j.getTclickCd(f.BasicData.elotte_yn,"selectorder");n=i.secureUrl+"/order/m/order_form.do?"+f.baseParam}else n=i.loginUrl+"?"+f.baseParam+"&fromPg="+LOTTE_CONSTANTS.ONENONE_BUY_LOGIN+"&smp_buy_yn="+(m?"Y":"N")+"&minority_yn="+f.BasicData.minority_limit_yn+"&targetUrl="+encodeURIComponent(a.location.href,"UTF-8"),f.rentalOnlyYnNew&&(o=g.find("#frm_rent_send"),n=i.loginUrl+"?"+f.baseParam+"&fromPg="+LOTTE_CONSTANTS.ONENONE_BUY_LOGIN+"&isRental=Y&smp_buy_yn=N&minority_yn="+f.BasicData.minority_limit_yn+"&targetUrl="+encodeURIComponent(a.location.href,"UTF-8")),m&&(o=g.find("#frm_smart_send")),f.orderTypeGift&&(n=i.loginUrl+"?"+f.baseParam+"&fromPg="+LOTTE_CONSTANTS.ONENONE_BUY_LOGIN+"&fromGift=1&isRental=N&smp_buy_yn=N&minority_yn="+f.BasicData.minority_limit_yn+"&targetUrl="+encodeURIComponent(a.location.href,"UTF-8"));n+="&tclick=m_RDC_ProdDetail_Clk_smartpick",f.orderSendInfo.back_url=encodeURIComponent(a.location.href,"UTF-8"),o.attr("action",n),k.FormSubmit(o)}}},f.cartAdd=function(){var b=f.cartCheckResult("cart");if(null!=b){if(""!=b)return void alert(b);var c=f.BasicData.product.entr_no==s;if(c){var d=f.orderSendInfo.goods_no,e=f.orderSendInfo.item_no,h=f.orderSendInfo.ord_qty;f.imall_prod_chk("cart",d,e,h)}else{var j=null!=f.orderSendInfo.smartOrd&&f.orderSendInfo.smartOrd.indexOf("Y")>=0?!0:!1;if(j=$("#method10:checked").length>0){var l=g.find("#frm_smart_send"),m=i.baseUrl+"/smartpick/m/smartpick_booking.do?"+f.baseParam;m+="&url_div=C","Y"==f.BasicData.product.spick_app_yn&&(m+="&spick_app_yn=Y"),m+="&tclick=m_DC_ProdDetail_Clk_Btn_4",f.orderSendInfo.back_url=encodeURIComponent(a.location.href,"UTF-8"),l.attr("action",m),k.FormSubmit(l)}else f.cartAddProc()}}},f.cartAddProc=function(){k.FormSubmitForAjax(i.cartCartInsData,f.orderSendInfo).success(function(a){
f.btnOptionClose_click(),f.brieflyPop({target:"cartPop"}),(null!=f.BasicData.product.select_goods_list.items||null!=f.BasicData.opt_list||null!=f.BasicData.product.item_dtl)&&(f.orderList=[],f.totalOrderCnt=0);try{b.element(e).trigger("refreshCartCount")}catch(c){}f.sendBuzzni&&f.sendBuzzni("cart",[n.query.goods_no])}).error(function(a){console.log(a),a.error.response_code==LOGIN_EXCEPTION?(alert(a.error.response_msg),j.goToLogin(e,f,i.loginUrl)):"M000200"==a.error.response_code?alert(a.error.response_msg):(alert("프로그램 오류로 인해 처리되지 않았습니다."),console.log("[Error]Cart Save Fail",a.error.response_msg))}),o()},f.wishListAdd=function(){return f.loginInfo.isLogin?(f.orderSendInfo.ord_qty="1",f.orderSendInfo.dno=f.reqParam.curDispNo,f.orderSendInfo.goods_no=f.BasicData.goods_no,f.orderSendInfo.mc="1",f.orderSendInfo.item_no="0",f.orderSendInfo.master_goods_yn="Y",void k.FormSubmitForAjax(i.wishWishInsData,f.orderSendInfo).success(function(a){f.brieflyPop({target:"wishPop"}),f.hasWishList=!0}).error(function(a){"1001"==a.error.response_code?alert("이미 담은 상품입니다."):a.error.response_code==LOGIN_EXCEPTION?(alert("로그인이 필요한 서비스입니다."),j.goToLogin(e,f,i.loginUrl)):alert("프로그램 오류로 인해 처리되지 않았습니다.")})):void j.goToLogin(e,f,i.loginUrl)};var x=function(a){return a==c&&(a=""),a},y=function(){var a="",b="",d="",e="",g="",h="",i="",j="",k="",l="",m="",n="",o="",p="",q="",r="",s="",t="",u="",v="",w="",y="",z="",A="",B="",C="",D="",E="",F="",G="",H="";if(null!=f.orderList)for(var I=0,J=0;J<f.orderList.length;J++){var K=0!=J?LOTTE_CONSTANTS.SPLIT_GUBUN_1:"",L=f.orderList[J];if("Y"==f.BasicData.smp_wine_yn||!$(".selList > li").eq(J).hasClass("disable")&&(L.delivery_type==c||"1"==L.delivery_type||""!=L.smp_shop_no||2!=$(".radio01:checked").val())||$("#method10:checked").length>0){if(0==I&&(K="",I=1),a+=K+L.goods_no,b+=K+L.item_no,d+=K+L.goods_cmps_cd,e+=K+L.ord_cnt,g+=K,L.item_opt_list!=c&&null!=L.item_opt_list.items&&L.item_opt_list.items!=c)for(var M=0;M<L.item_opt_list.total_count;M++){var N=L.item_opt_list.items[M];N.item_opt_value.replace(/-/gi,"");M>0&&(g+=LOTTE_CONSTANTS.SPLIT_GUBUN_3),g+=N.item_opt_type,g+=":"+N.item_opt_name,g+=":"+N.item_opt_value}r+=K,h+=K+f.reqParam.curDispNo,i+=K+f.BasicData.disp_no_sct_cd,j+=K+"N",k+=K,l+=K+"0",m+=K+L.master_disp_no,n+=K,o+=K,p+=K+L.smp_shop_no,q+=K,s+=K,t+=K+f.op_goods_no,u+=K,v+=K+L.smartOrd,w+=K+L.smp_prod_yn,y+=K+L.smp_entr_no,z+=K+L.smp_shop_no,A+=K+L.is_ecoupon,C+=K+x(L.crspk_yn),D+=K+x(L.crspk_psb_yn),E+=K+x(L.crspk_corp_cd),F+=K+x(L.crspk_corp_str_sct_cd),G+=K+x(L.crspk_str_no),H+=K+x(L.mart_name),B+=K+x(L.smp_only_yn)}}var O=f.orderSendInfo;O.goods_no=a,O.item_no=b,O.goods_cmps_cd=d,O.goods_choc_desc=g,O.ord_qty=e,O.infw_disp_no=h,O.infw_disp_no_sct_cd=i,O.master_goods_yn=j,O.cart_sn=k,O.cmps_qty=l,O.mast_disp_no=m,O.shop_memo_tp_cd=n,O.shop_memo_cont=o,O.smp_vst_shop_no=p,O.smp_vst_rsv_dtime=q,O.conr_no=r,O.std_goods_no=t,O.smp_tp_cd=s,O.smp_deli_loc_sn=u,O.smartOrd=v,O.smp_prod_yn=w,O.smp_entr_no=y,O.smp_shop_no=z,O.is_ecoupon=A,f.rentalOnlyYnNew&&(O.entr_no=f.BasicData.product.entr_no,O.pImg=f.BasicData.product.img_url0,O.pTitle=f.BasicData.product.mgoods_nm,O.pPrice=f.BasicData.product.sale_prc),O.crspk_yn=C,O.crspk_psb_yn=D,O.crspk_corp_cd=E,O.crspk_corp_str_sct_cd=F,O.crspk_str_no=G,O.crspk_store=H,O.smp_only_yn=B,O.qs_yn=f.qs_yn};f.cartCheckResult=function(a){var b="";if("N"==f.BasicData.order_yn)return void alert("롯데닷컴 정회원만 주문/결제가 가능합니다. 정회원 신청은 롯데닷컴 웹사이트를 이용해 주세요.");if(null!=f.BasicData.product.select_goods_list&&f.BasicData.product.select_goods_list.total_count>0&&""==f.BasicData.product.select_goods_list.selectedItem){if(0==f.orderList.length)return"상품을 선택해 주세요";if(f.showDelivery&&0==$(".deliSelect").find("input:checked").length&&!f.orderTypeGift)return"배송방법을 선택해 주세요";if($("#method10:checked").length>0){for(var d=0,g=0;g<f.orderList.length;g++)f.orderList[g].disable!=c&&1==f.orderList[g].disable&&d++;if(d==f.orderList.length)return"상품을 선택해 주세요"}}else if("Y"==f.BasicData.product.smp_exchange_yn||"Y"==f.BasicData.product.crspk_psb_yn){if(!f.isAllSelect()&&0==f.orderList.length)return"상품정보를 먼저 선택해 주세요.";if(f.showDelivery){if(0==$(".deliSelect").find("input:checked").length&&!f.orderTypeGift)return"배송방법을 선택해 주세요";if($("#method10:checked").length>0){for(var d=0,g=0;g<f.orderList.length;g++)f.orderList[g].disable!=c&&1==f.orderList[g].disable&&d++;if(d==f.orderList.length)return"상품을 선택해 주세요"}}}if("wish"!=a){if(f.orderList==c||0==f.orderList.length){if(!f.isAllSelect())return b=null!=f.BasicData.product.select_goods_list&&f.BasicData.product.select_goods_list.total_count>0&&""==f.BasicData.product.select_goods_list.selectedItem?"상품을 선택해 주세요":"옵션을 선택해 주세요"}else if("buy"==a)for(var g=0;g<f.orderList.length;g++){var h=f.orderList[g].ord_cnt;if("443808"==f.BasicData.product.entr_no&&(parseInt(h)>30||parseInt(h)*parseInt(f.BasicData.product.sale_prc)>15e5))return b="망고 상품의 경우 구매수량이 30개 이상 혹은 판매금액이 150만원 이상인 경우 구매가 제한되오니 구매를 원하시면 나눠서 구매해주세요!"}var k,g,l,m,n="";for(k=0;k<f.orderList.length;k++)if(null!=f.orderList[k].item_opt_list&&f.orderList[k].item_opt_list!=c){for(g=0;g<f.orderList[k].item_opt_list.total_count;g++)if(l=f.orderList[k].item_opt_list.items[g],l.item_opt_value==c||""==l.item_opt_value){m=l.item_opt_name,j.isEmpty(m)&&(m="옵션"),n=m+"을(를) 입력해주세요.";break}if(""!=n)return n}}if("Y"==f.BasicData.smp_wine_yn){if(!f.loginInfo.isLogin)return alert("본 상품은 19세 미만의 청소년 예약 불가한 상품으로 확인 절차를 위하여 로그인이 필요합니다."),j.goToLogin(e,f,i.loginUrl),null;if(parseInt(f.BasicData.mbr_age,"10")<19)return b="본 상품은 19세 미만의 청소년은 예약이 불가능합니다."}if(y(),"wish"==a&&""==orderSendInfo.goods_no)if("30"==f.BasicData.product.goods_tp_cd){for(var o="",g=0;f.BasicData.product.select_goods_list.total_count;g++){var l=f.BasicData.product.select_goods_list.items[g];if(""!=l.selectedItem){o=l.goods_no;break}}if(""==o)return b="상품을 선택해 주세요";orderSendInfo.goods_no=o}else orderSendInfo.goods_no=f.BasicData.goods_no;return b},f.imall_prod_chk=function(b,c,e,h){d({url:i.productImallStockCheckData,method:"GET",async:!1,cache:!1,headers:{Accept:"application/json",Pragma:"no-cache"},params:{ord_qty:h,goods_no:c,item_no:e}}).success(function(c){if("cart"==b)f.cartAddProc();else{var d;if(f.loginInfo.isLogin){var e=j.getTclickCd(f.BasicData.elotte_yn,"select_buynow");d=i.secureUrl+"/order/m/order_form.do?"+f.baseParam+"&tclick="+e+"&imallYN=Y"}else d=i.loginUrl+"?"+f.baseParam+"&fromPg="+LOTTE_CONSTANTS.IMALL_BUY_LOGIN+"&minority_yn="+f.BasicData.minority_limit_yn+"&smp_prod_yn=N&targetUrl="+encodeURIComponent(a.location.href,"UTF-8")+"&imallYN=Y";var h=g.find("#frm_send");h.attr("action",d),k.FormSubmit(h)}}).error(function(a){"1000"==a.error.response_code?alert(a.error.response_msg):alert("죄송합니다. 잠시 후 다시 이용해 주세요."),$("#stayLoading").hide()})},f.StockRechargeCall=function(a,b){var c="";return 1!=f.loginInfo.isLogin?(alert("로그인을 해주세요."),void j.goToLogin(e,f,i.loginUrl)):(c=f.loginInfo.mbrNo,void d.get("/json/system/restock_alram.json",{params:{mbr_no:c,goods_no:a,spdp_goods_no:"",item_no:b,channel:"1"}}).success(function(a){"0000"==a.RESPONSE_CODE?(f.btnOptionClose_click(),f.brieflyPop({target:"alarmPop",phone:a.PHONE})):"1001"==a.RESPONSE_CODE?alert("상품정보가 없습니다."):"1003"==a.RESPONSE_CODE?alert("신청 정보가 이미 존재 합니다."):"1004"==a.RESPONSE_CODE?(alert("로그인을 해주세요."),j.goToLogin(e,f,i.loginUrl)):alert("상품정보가 없습니다.")}).error(function(a){"1001"==a.error.response_code?alert("상품정보가 없습니다."):a.error.response_code==LOGIN_EXCEPTION?(alert("로그인을 해주세요."),j.goToLogin(e,f,i.loginUrl)):alert("프로그램 오류로 인해 처리되지 않았습니다.")}))},f.lgFashionStockMng=function(a,b,c){$("#frm_send input[name=itemno]:hidden").val(),$("#frm_send input[name=order_qty]:hidden").val();d.get(i.productLgStockCheckData,{params:{ord_qty:$("#frm_send input[name=order_qty]:hidden").val(),goods_no:f.BasicData.goods_no,item_no:opt_value,entr_no:f.BasicData.product.entr_no}}).success(function(a){f.buy()}).error(function(a){"1000"==a.error.response_code?alert(a.error.response_msg):alert("죄송합니다. 잠시 후 다시 이용해 주세요.")})},f.show_map=function(a,b,c){martIndex=a,f.smpData.goods_list.items[a].crspk_corp_cd!=c&&(f.smpData.goods_list.items[a].crspk_corp_cd=c,f.smpData.goods_list.items[a].mart_name=""),$("#searchMartPop > iframe").attr("src",f.google_map_url+"?store_div="+b),$("#searchMartPop").show()},f.isQuick=!0,f.quickPop=!1;var z=function(a){f.isQuick=!1;var b=j.toTimeString(new Date,"HHMNSS"),d=0;if(f.holiday)return $("#method11").prop("checked",!1),"holi";if("090000">b||b>"163000")return $("#method11").prop("checked",!1),"time";var e=f.orderList;if(e.length){for(var g=0;g<e.length;g++){var h=e[g];if(h.dept_main_inv_qty==c||"01"!=h.dlv_goods_sct_cd||"Y"==h.rsv_sale_yn||"1"==h.delivery_type)return $("#method11").prop("checked",!1),"deli";if(0==h.dept_main_inv_qty)return $("#method11").prop("checked",!1),"main";if($("#method11").is(":checked")&&h.dept_main_inv_qty<h.ord_cnt){if(f.isQuick=!0,f.orderList[g].ord_cnt=h.dept_main_inv_qty,a!=c)return h.dept_main_inv_qty;h.sale_price=(h.org_sale_price-h.inst_cpn_aply_unit_price-h.immed_pay_dscnt_amt)*h.ord_cnt,d++}}if(d)return"qty"}f.isQuick=!0},A=function(a){var b,d=z(a);if(d==c)return!0;switch(d){case"holi":b="공휴일 및 롯데백화점 본점 휴무일,\n배송마감일에는\n퀵 배송 주문이 불가합니다.";break;case"time":b="퀵 배송 주문은 09:00 ~ 16:30에만 가능합니다.";break;case"deli":b="선택하신 상품 중, 퀵 배송 받을 수 없는\n상품이 포함되어 있습니다.";break;case"main":b="롯데백화점 본점 스마트픽 상품만\n퀵 배송 받을 수 있습니다.";break;case"qty":b="퀵 배송 가능한 최대 구매 수량을\n초과하였습니다.",f.addOrderList(null);break;default:b="퀵배송 가능한 최대 구매 수량은 "+d+"개입니다."}return alert(b),d};f.close_quickPop=function(){f.inputNumber=!1,f.quickPop=!1,$("body").removeClass("fixBody")},f.close_smartPop=function(){f.inputNumber=!1,f.smartPop=!1,$("body").removeClass("fixBody")}}}}]),d.directive("productFormInfo",["$window","$location",function(a,b){return{templateUrl:"/lotte/resources_dev/product/m/productFormInfo.html",replace:!0,link:function(a,b,c){}}}]),d.directive("productSendForm",["$window","$location",function(a,b){return{templateUrl:"/lotte/resources_dev/product/m/product_send_form.html",replace:!0,link:function(a,b,c){}}}]),d.directive("productCompareList",["$window","$http","LotteCommon","Fnproductview",function(a,b,c,d){return{templateUrl:"/lotte/resources_dev/product/m/product_compare_list.html",replace:!0,link:function(e,f,g){e.Fnproductview=d,e.ProdCompList=[],e.isProdCompList=!1,b.get(c.productCompareModelProduct,{params:{goods_no:e.BasicData.goods_no,brnd_no:e.BasicData.product.brnd_no,model_no:e.BasicData.product.model_no}}).success(function(a){if(e.ProdCompList=a.max.same_product.items,null!=e.ProdCompList&&a.max.same_product.total_count>0){e.isProdCompList=!0;for(var b=0;b<e.ProdCompList.length;b++)e.ProdCompList[b].final_prc=d.toNumber(e.ProdCompList[b].sale_prc)-(d.toNumber(e.ProdCompList[b].inst_cpn_aply_unit_price)+d.toNumber(e.ProdCompList[b].immed_pay_dscnt_amt))}}).error(function(){console.log("Data Error : productCompareList 실패")}),e.goProduct_view=function(b){var d=c.productviewUrl+"?goods_no="+b+"&"+e.baseParam;null!=e.reqParam.curDispNoSctCd&&(d+="&curDispNoSctCd="+e.reqParam.curDispNoSctCd),null!=e.reqParam.curDispNo&&(d+="&curDispNo="+e.reqParam.curDispNo),d+="&tclick=m_DC_ProdDetail_Swp_Rel_A"+(this.$index+1),a.location.href=d}}}}]),d.directive("productInfoPrice",["$window","$http","Fnproductview","LotteCommon",function(a,b,c,d){return{templateUrl:"/lotte/resources_dev/product/m/product_info_price.html",replace:!0,link:function(e,f,g){e.priceInfoTp="","Y"==e.BasicData.product.prc_dif_view_yn?e.priceInfoTp="00":"30"!=e.BasicData.product.ec_goods_artc_cd&&"31"!=e.BasicData.product.ec_goods_artc_cd||"Y"==e.BasicData.elotte_yn?e.priceInfoTp="02":e.priceInfoTp="01","Y"==e.BasicData.smp_wine_yn&&(e.priceInfoTp="03"),e.goPromotionList=function(b){c.goUrl(a,e,b+"&tclick=m_DC_ProdDetail_Clk_Ban_"+(this.$index+1),"benefit")},e.brch_cpn_down=function(f){e.reqParam.prom_no=f,b.get(d.couponRegCouponData,{params:e.reqParam}).success(function(a){}).error(function(b){console.log("Data Error : Download 실패"),b.error.response_code==LOGIN_EXCEPTION?(alert("로그인이 필요한 서비스입니다."),c.goToLogin(a,e,d.loginUrl)):alert("프로그램 오류로 인해 처리되지 않았습니다.")})}}}}]),d.directive("productDetailHtml",["$http","$timeout","LotteCommon","Fnproductview",function(a,b,c,d){return{link:function(b,d,e){a.get(c.productProductDetailData,{params:b.reqParam}).success(function(a){b.DetailData=a.max.dtl_info_fcont,b.isDetailData=!0,d.html(b.DetailData)}).error(function(){console.log("Data Error : 상품상세정보 로드 실패")})}}}]),d.directive("bigDealInfo",["Fnproductview",function(a){return{template:"<div class='bigDealState' ng-if='isEndTime || isSaleCnt'><span class='bigDealTime' ng-if='isEndTime && !BasicData.product.find_much'><span>{{remainTime}}</span> 남음</span><span class='bigDealBuy' ng-if='BasicData.product.genie_sale_cnt != null && BasicData.product.genie_sale_cnt > 0'><span>{{BasicData.product.genie_sale_cnt | number:0}}개</span> 구매중</span></div>",link:function(b,d,e){b.isEndTime=!1,b.isSaleCnt=!1,b.BasicData.product.genie_sale_cnt>0&&(b.isSaleCnt=!0),null!=b.BasicData.product.genie_disp_end_dtime&&b.BasicData.product.genie_disp_end_dtime.length>=12&&"9999"!=b.BasicData.product.genie_disp_end_dtime.substring(0,4)&&a.getHourInterval(c,b.BasicData.product.genie_disp_end_dtime)<6&&(b.isEndTime=!0,b.remainTime=a.getMinuteIntervalStr(c,b.BasicData.product.genie_disp_end_dtime))}}}]),d.directive("productInfoNormal",["Fnproductview","$window","$http","LotteCommon",function(a,d,e,f){return{templateUrl:"/lotte/resources_dev/product/m/product_info_normal.html",link:function(g,h,i){g.Fnproductview=a,g.goBrandShjop=function(b,e){var f=b+"?curDispNo="+g.BasicData.product.brnd_disp_shop_no+"&upBrdNo="+g.BasicData.product.upr_brnd_no;e!=c&&(f+="&dispCnt="+e),"255"==g.BasicData.product.brnd_no&&(f="/category/m/prod_list.do?c&curDispNo=5036840&isWine=Y&isComm=Y&title=샤넬&c=mlotte"),f+="&tclick=m_DC_ProdDetail_Clk_Lnk_1",a.goUrl(d,g,f,"brandshop")},g.goPeopleBuy=function(){if($(".titLocation").removeClass("on"),g.sendTclick("m_DC_ProdDetail_Clk_Btn_1"),$(".peopleBuy").position()==c)$("body").animate({scrollTop:"500px"},500,"swing",function(){setTimeout(function(){$(".peopleBuy").length>0?$("body").animate({scrollTop:$(".peopleBuy").position().top-45},300):$("body").animate({scrollTop:$("#footer").position().top},300)},1e3)});else{var a=$(".peopleBuy").position().top;"fixed"==$("#head_sub").css("position")&&(a-=$("#head_sub").height()),b.element(d).scrollTop(a)}},g.fn_RentalOnly=function(b){e.get(f.productRegistRentalPoint,{params:g.reqParam}).success(function(a){g.helpLayer({target:"rentalOnly",lmoney:b})}).error(function(b){console.log("Data Error : Download 실패"),b.error.response_code==LOGIN_EXCEPTION?(alert("로그인이 필요한 서비스입니다."),a.goToLogin(d,g,f.loginUrl)):g.helpLayer({target:"rentalOnlyError",response_msg:b.error.response_msg})})},h.find(".titTop").height(19)}}}]),d.directive("productInfoChanel",["Fnproductview","$window","LotteCommon","$timeout",function(a,b,c,d){return{templateUrl:"/lotte/resources_dev/product/m/product_info_chanel.html",link:function(b,c,d){if(b.Fnproductview=a,b.BasicData.product.colors.items.length>0){b.ColorNo="",b.ColorClick=function(a,c,d){b.ColorNo==a.color_no?b.ColorNo=[]:b.ColorNo=a.color_no,b.sendTclick("m_DC_ProdDetail_Swp_Color_idx0"+(d+1))};var e=null!=b.BasicData.product.colors.items?b.BasicData.product.colors.items.length:0,f=[];if(b.BasicData.product.colors.items&&e>0){var g=0,h=-1;for(g;e>g;g++)g%6==0&&(h++,f[h]=[]),f[h].push(b.BasicData.product.colors.items[g]);b.chanelColorData=f}else b.chanelColorData=null}}}}]),d.directive("productInfoWine",["Fnproductview","$window",function(a,c){return{templateUrl:"/lotte/resources_dev/product/m/product_info_wine.html",link:function(d,e,f){d.Fnproductview=a,d.contryImg="",b.forEach(d.BasicData.product,function(a,b){"img_url"!=b&&0==b.indexOf("img_url")&&null!=d.BasicData.product[b]&&""!=d.BasicData.product[b]&&(d.contryImg=d.BasicData.product[b].replace("_280","_280"))}),d.goGuideInfo=function(){var b="/smartpick/vine_guide.do";a.goUrl(c,d,b,null)},d.wineGuide=!1,d.wineInfoFoot=!1,d.wineFootOpen=function(){d.wineInfoFoot=!d.wineInfoFoot,d.wineInfoFoot&&setTimeout(function(){$(".wineGuideLayer").animate({scrollTop:"1000px"},300)},500)}}}}]),d.directive("cateNavi",["$http","$window","Fnproductview","LotteCommon","LotteStorage",function(a,c,d,e,f){return{link:function(g,h,i){g.goCateList=function(a,e,f){if("00"!=a){var h;if("01"==a);else if("02"==a){g.showSideCtgHeader();var i=b.element(".categorySet dl.menu").find("dt");i.each(function(){var a=$(this);return a.attr("data-ctgno")!=e||a.parent().hasClass("active")?void 0:(setTimeout(function(){a.click()},1e3),!1)})}else"03"==a?(h="/category/m/cate_mid_list_anglr.do?curDispNo="+e,h+="&tclick=m_DC_ProdDetail_Clk_CateLayer_Flt1_1",d.goUrl(c,g,h,"brandshop")):"04"==a&&(h="/category/m/new_prod_list.do?disp_no="+e+"&title="+f,h+="&tclick=m_DC_ProdDetail_Clk_CateLayer_Flt1_2",d.goUrl(c,g,h,"brandshop"))}},g.cateNaviList=[],g.isCateNaviData=!1,a.get(e.productCateNavi,{params:g.reqParam}).success(function(a){if(g.CateNaviData=a.result,null!=g.CateNaviData){g.isCateNaviData=!0;var b="00";if(""!=g.CateNaviData.disp_lrg_no&&"0"!=g.CateNaviData.disp_lrg_no){b="01";var c={disp_nm:g.CateNaviData.disp_lrg_nm,move_tp:b,disp_no:g.CateNaviData.disp_lrg_no};""!=c.disp_nm&&g.cateNaviList.push(c)}if(""!=g.CateNaviData.disp_mid_no){b="02";var c={disp_nm:g.CateNaviData.disp_mid_nm,move_tp:b,cur_disp_no:g.CateNaviData.disp_mid_no};g.cateNaviList.push(c)}if(""!=g.CateNaviData.disp_sml_no){b="03";var c={disp_nm:g.CateNaviData.disp_sml_nm,move_tp:b,cur_disp_no:g.CateNaviData.disp_sml_no};g.cateNaviList.push(c)}if(""!=g.CateNaviData.disp_thn_no){b="04";var c={disp_nm:g.CateNaviData.disp_thn_nm,move_tp:b,cur_disp_no:g.CateNaviData.disp_thn_no};g.cateNaviList.push(c)}var d=g.cateNaviList[g.cateNaviList.length-1],e="/category/m/";"03"==d.move_tp?e+="cate_mid_list_anglr.do?tclick=m_DC_ProdDetail_Clk_CateLayer_Flt1_1&curDispNo="+d.cur_disp_no:"04"==d.move_tp&&(e+="new_prod_list.do?tclick=m_DC_ProdDetail_Clk_CateLayer_Flt1_2&disp_no="+d.cur_disp_no+"&title="+d.disp_nm),f.setSessionStorage("lastItemCateLink",e)}}).error(function(){console.log("Data Error : 상품상세 네비게이션  로드 실패")})}}}]),d.directive("popPreCalculator",["$window","$http","$timeout","LotteCommon","Fnproductview",function(a,d,e,f,g){return{templateUrl:"/lotte/resources_dev/product/m/pop_pre_calculator.html",replace:!0,link:function(e,h,i){e.L_POINT=LOTTE_CONSTANTS.ST_STD_CD_PAY_MEAN_CD_L_POINT,e.LOTTE_POINT=LOTTE_CONSTANTS.ST_STD_CD_PAY_MEAN_CD_LOTTE_POINT,e.DEPOSIT=LOTTE_CONSTANTS.ST_STD_CD_PAY_MEAN_CD_DEPOSIT,e.usePriceInfo={},e.usePriceInfo.ordAmt=0,e.usePriceInfo.totDeliAmt=0,e.usePriceInfo.dlv_fvr_val=0,e.usePriceInfo.cbDiscOption="",e.usePriceInfo.cbDupDiscOption="",e.usePriceInfo.cbDupDiscOption="",e.usePriceInfo.cbThirdDiscOption="",e.usePriceInfo.usel_point_yn=!1,e.usePriceInfo.usel_point=0,e.usePriceInfo.uselt_point_yn=!1,e.usePriceInfo.uselt_point=0,e.usePriceInfo.usedeposit_yn=!1,e.usePriceInfo.usedeposit=0,e.usePriceInfo.smpDcAmt=0,e.usePriceInfo.showProm=!1,e.cbDupDiscOption_desabled=!1,e.isBasicData&&(e.reqParam.item_no=e.BasicData.product.item_no),e.isPreCalculatorData=!1,e.layerPopup_st_disp=!1,e.closePopPreCalculator=function(){e.isPreCalculatorData&&e.dimmedClose(),e.isPreCalculatorData=!1,e.layerPopup_st_disp=!1},e.openPopPreCalculator=function(){return e.sendTclick("m_DC_ProdDetail_Clk_Pop_2"),e.loginInfo.isLogin?(e.dimmedOpen({target:"pop_calculator",callback:this.closePopPreCalculator}),e.layerPopup_st_disp=!0,void d.get(f.productAheadCaculation,{params:e.reqParam}).success(function(a){if(e.PreCalculatorData=a.max,e.isPreCalculatorData=!0,"Y"==e.PreCalculatorData.free_shipping_yn?e.deliveryTitleCd="01":e.PreCalculatorData.tot_deli_amt<1?e.deliveryTitleCd="02":e.PreCalculatorData.dlv_fvr_val>0?e.deliveryTitleCd="03":e.deliveryTitleCd="00",null!=e.PreCalculatorData.dis_list)for(var b=0;b<e.PreCalculatorData.dis_list.total_count;b++)e.PreCalculatorData.dis_list.items[b].opt_desabled=!1;if(null!=e.PreCalculatorData.dup_lis_list)for(var b=0;b<e.PreCalculatorData.dup_lis_list.total_count;b++)e.PreCalculatorData.dup_lis_list.items[b].opt_desabled=!1;if(null!=e.PreCalculatorData.third_dis_list)for(var b=0;b<e.PreCalculatorData.third_dis_list.total_count;b++)e.PreCalculatorData.third_dis_list.items[b].opt_desabled=!1;if(null!=e.PreCalculatorData.point_list)for(var b=0;b<e.PreCalculatorData.point_list.total_count;b++)e.PreCalculatorData.point_list.items[b].opt_desabled=!1;e.usePriceInfo.smpDcAmt=0,e.usePriceInfo.usedeposit_yn=!1,e.usePriceInfo.usel_point_yn=!1,e.usePriceInfo.cbThirdDiscOption="",e.usePriceInfo.cbDupDiscOption="",e.usePriceInfo.cbDiscOption="",e.usePriceInfo.useList=[],e.usePriceInfo.uselt_point_yn=!1,e.usePriceInfo.ordAmt=g.toNumber(e.PreCalculatorData.ord_amt),e.usePriceInfo.totDeliAmt=g.toNumber(e.PreCalculatorData.tot_deli_amt),e.setCalcPromInfoOrg(),e.usePriceInfo.totDeliAmt>0&&"N"==e.PreCalculatorData.free_shipping_yn&&(e.PreCalculatorData.dlv_fvr_val>0?(e.usePriceInfo.useList=[{title:"배송비",addTp:"+",addAmt:e.usePriceInfo.totDeliAmt,amtTitle:"원"},{title:"무료배송권",addTp:"-",addAmt:e.PreCalculatorData.dlv_fvr_val,amtTitle:"원"}],e.usePriceInfo.ordAmt=e.usePriceInfo.ordAmt+e.usePriceInfo.totDeliAmt-e.PreCalculatorData.dlv_fvr_val,e.usePriceInfo.dlv_fvr_val=g.toNumber(e.PreCalculatorData.dlv_fvr_val),e.fvrSelect=!0):(e.usePriceInfo.useList=[{title:"배송비",addTp:"+",addAmt:e.usePriceInfo.totDeliAmt,amtTitle:"원"}],e.usePriceInfo.ordAmt=e.usePriceInfo.ordAmt+e.usePriceInfo.totDeliAmt))}).error(function(b){console.log("Data Error : 상품미리계산기 로드 실패"),b.error.response_code==LOGIN_EXCEPTION?(alert("로그인이 필요한 서비스입니다."),g.goToLogin(a,e,f.loginUrl)):alert("미리계산기에 필요한 정보를 읽지 못하였습니다.")})):(alert("로그인이 필요한 서비스입니다."),void g.goToLogin(a,e,f.loginUrl))},e.getDisTpTitle=function(a){var b="원 적립";return"N"==a&&(b="점 할인"),b},e.chgUse_point=function(a,b){a==e.L_POINT&&(e.usePriceInfo.usel_point_yn?e.usePriceInfo.usel_point=b:e.usePriceInfo.usel_point=0),a==e.LOTTE_POINT&&(e.usePriceInfo.uselt_point_yn?e.usePriceInfo.uselt_point=b:e.usePriceInfo.uselt_point=0),a==e.DEPOSIT&&(e.usePriceInfo.usedeposit_yn?e.usePriceInfo.usedeposit=b:e.usePriceInfo.usedeposit=0),e.exec_calculation()};var j=function(a,b,c,d){var e={};return e.title=a,e.addTp=b,e.addAmt=c,e.amtTitle=d,e};e.calculator_init=function(a){var b,d,f,g=(new Array,new Array,"N"),h="0",i=0;switch("discount_one"==a?f=e.usePriceInfo.cbDiscOption:"discount_two"==a?f=e.usePriceInfo.cbDupDiscOption:"discount_three"==a&&(f=e.usePriceInfo.cbThirdDiscOption),f.toString().indexOf("|")>=0&&(b=f.split("|")),a){case"discount_one":if(e.usePriceInfo.cbDupDiscOption="",e.usePriceInfo.cbThirdDiscOption="",e.usePriceInfo.dup_amt=0,null!=e.PreCalculatorData.dup_lis_list&&e.PreCalculatorData.dup_lis_list.total_count>0)for(var j=0;j<e.PreCalculatorData.dup_lis_list.total_count;j++){var k=e.PreCalculatorData.dup_lis_list.items[j];if(null!=e.usePriceInfo.cbDiscOption)if(""!=f){if("27"==b[1])"25"!=k.prom_mdcl_cd&&(k.opt_desabled=!0);else if(k.opt_desabled=!0,d=e.PreCalculatorData.multi_prom,h="0"==b[2]?b[1]:b[2],"25"==k.prom_mdcl_cd)k.opt_desabled=!1;else if("30"==k.prom_mdcl_cd&&""!=k.card_knd_cd)(""==b[4]||b[4]==k.card_knd_cd)&&(k.opt_desabled=!1);else if(d!=c&&""!=d)for(var j=0;j<d.length;j++)if(d[j][0]==h&&d[j][1]==k.cpn_prom_no){k.opt_desabled=!1;break}}else k.opt_desabled=!1}if(null!=e.PreCalculatorData.third_dis_list&&e.PreCalculatorData.third_dis_list.total_count>0)for(var j=0;j<e.PreCalculatorData.third_dis_list.total_count;j++){var k=e.PreCalculatorData.third_dis_list.items[j];f!=c&&""!=f&&"27"==b[1]?"25"!=k.prom_mdcl_cd&&(k.opt_desabled=!0):k.opt_desabled=!1}e.setCalcPromInfoOrg();break;case"discount_two":var d,l="",h="0";if(e.usePriceInfo.cbThirdDiscOption="",""!=e.usePriceInfo.cbDiscOption&&(l=e.usePriceInfo.cbDiscOption.split("|")),b!=c&&"25"==b[1])i=0;else if(""==l){if(d=e.PreCalculatorData.single_prom.split("|"),d!=c&&""!=d&&b!=c)for(var j=0;j<d.length;j++){var m=d[j].split(",");if("0"==m[0]&&m[1]==b[2]){i=m[2];break}}}else if(d=e.PreCalculatorData.multi_prom.split("|"),h="0"==l[2]?l[1]:l[2],d!=c&&""!=d&&b!=c)for(var j=0;j<d.length;j++){var m=d[j].split(",");if(m[0]==h&&m[1]==b[2]){i=m[2],1>i&&(e.alert_2016("죄송합니다. 추가할인 불가능 상품입니다."),e.usePriceInfo.cbDupDiscOption="",e.cbDupDiscOption_desabled=!0);break}}e.usePriceInfo.dup_amt=i;break;case"discount_three":""!=f&&(e.usePriceInfo.lump_amt=b[0]);break;case"dlv_fvr_val":break;case"smp_dc_amt":}if("N"==g&&null!=e.PreCalculatorData.point_list&&e.PreCalculatorData.point_list.total_count>0)for(var j=0;j<e.PreCalculatorData.point_list.total_count;j++){var k=e.PreCalculatorData.point_list.items[j];k.point_div==e.L_POINT?e.usePriceInfo.usel_point_yn=!1:k.point_div==e.LOTTE_POINT?e.usePriceInfo.uselt_point_yn=!1:k.point_div==e.DEPOSIT&&(e.usePriceInfo.useable_point=!1),k.opt_desabled=!1,"discount_three"==a&&""!=f&&"35"==b[1]&&k.point_div!=e.DEPOSIT&&(k.opt_desabled=!0)}e.exec_calculation()},e.exec_calculation=function(){e.usePriceInfo.useList=[];var a="",b="",c="";if(e.usePriceInfo.ordAmt=g.toNumber(e.PreCalculatorData.ord_amt),e.usePriceInfo.totDeliAmt=g.toNumber(e.PreCalculatorData.tot_deli_amt),e.usePriceInfo.totDeliAmt>0&&"Y"==e.PreCalculatorData.free_shipping_yn&&(e.usePriceInfo.totDeliAmt=0),e.usePriceInfo.totDeliAmt>0&&(e.usePriceInfo.useList.push(j("배송비","+",e.usePriceInfo.totDeliAmt,"원")),e.usePriceInfo.ordAmt+=e.usePriceInfo.totDeliAmt),e.usePriceInfo.totDeliAmt>0&&e.usePriceInfo.dlv_fvr_val>0&&(e.usePriceInfo.useList.push(j("무료배송권","-",e.usePriceInfo.dlv_fvr_val,"원")),e.usePriceInfo.ordAmt-=e.usePriceInfo.dlv_fvr_val),""!=e.usePriceInfo.cbDiscOption){var a=e.usePriceInfo.cbDiscOption.split("|");"Y"!=a[3]&&parseInt(a[0])>0&&(e.usePriceInfo.ordAmt-=parseInt(a[0]),e.usePriceInfo.useList.push(j("25"==a[1]?"스마트픽":"할인금액","-",a[0],"원")))}if(""!=e.usePriceInfo.cbDupDiscOption){var a=e.usePriceInfo.cbDupDiscOption.split("|");"Y"!=a[3]&&parseInt(a[0])>0&&(e.usePriceInfo.ordAmt-=parseInt(a[0]),e.usePriceInfo.useList.push(j("25"==a[1]?"스마트픽":"할인금액","-",a[0],"원")))}if(""!=e.usePriceInfo.cbThirdDiscOption){var a=e.usePriceInfo.cbThirdDiscOption.split("|");"Y"!=a[3]&&parseInt(a[0])>0&&(e.usePriceInfo.ordAmt-=parseInt(a[0]),e.usePriceInfo.useList.push(j("일시불할인","-",a[0],"원")))}e.usePriceInfo.dup_amt>0&&(e.usePriceInfo.ordAmt-=e.usePriceInfo.dup_amt,e.usePriceInfo.useList.push(j("추가할인","-",e.usePriceInfo.dup_amt,"원"))),e.usePriceInfo.smpDcAmt>0&&(e.usePriceInfo.ordAmt-=e.usePriceInfo.smpDcAmt,e.usePriceInfo.useList.push(j("스마트픽할인","-",e.usePriceInfo.smpDcAmt,"원"))),""!=c&&(b+=e.usePriceInfo.third_contents);e.usePriceInfo.usel_point+e.usePriceInfo.uselt_point+e.usePriceInfo.usedeposit;if(e.usePriceInfo.usel_point_yn){var d=e.usePriceInfo.usel_point;e.usePriceInfo.ordAmt<d?(d=e.usePriceInfo.ordAmt,e.usePriceInfo.ordAmt=0):e.usePriceInfo.ordAmt-=d,d>0&&e.usePriceInfo.useList.push(j("L-money","-",d,"원"))}if(e.usePriceInfo.uselt_point_yn){var d=e.usePriceInfo.uselt_point;e.usePriceInfo.ordAmt<d?(d=e.usePriceInfo.ordAmt,e.usePriceInfo.ordAmt=0):e.usePriceInfo.ordAmt-=d,d>0&&e.usePriceInfo.useList.push(j("L.POINT","-",d,"원"))}if(e.usePriceInfo.usedeposit_yn){var d=e.usePriceInfo.usedeposit;e.usePriceInfo.ordAmt<d?(d=e.usePriceInfo.ordAmt,e.usePriceInfo.ordAmt=0):e.usePriceInfo.ordAmt-=d,d>0&&e.usePriceInfo.useList.push(j("보관금","-",d,"원"))}e.setCalcPromInfoOrg()},e.changeProm=function(){e.usePriceInfo.card_knd_nm=b.element("#cbPromOption option:selected").text();var a=e.usePriceInfo.cbPromOption.split("|");a.length>1&&(e.usePriceInfo.promAmt=e.usePriceInfo.ordAmt-e.usePriceInfo.ordAmt*a[0]*.01)},e.setCalcPromInfoOrg=function(){e.usePriceInfo.cbPromOption="",e.calcPromInfoOrg={};for(var a=e.BasicData.product.clm_dscnt_prom_items,b=0;b<a.length;b++){var c=a[b];c.aply_lmt_amt>e.usePriceInfo.ordAmt||e.calcPromInfoOrg[c.card_knd_cd]&&e.calcPromInfoOrg[c.card_knd_cd].fvr_val>=c.fvr_val||(e.calcPromInfoOrg[c.card_knd_cd]=c)}if(e.calcPromInfo={},e.usePriceInfo.cbDiscOption){var d=e.usePriceInfo.cbDiscOption.split("|");if(e.usePriceInfo.curCardCd=d[d.length-1],e.usePriceInfo.curCardCd)for(var f in e.calcPromInfoOrg)f===e.usePriceInfo.curCardCd&&(e.calcPromInfo[f]=e.calcPromInfoOrg[f]);else e.calcPromInfo=e.calcPromInfoOrg}else e.calcPromInfo=e.calcPromInfoOrg;Object.keys(e.calcPromInfo).length>0?e.usePriceInfo.showProm=!0:e.usePriceInfo.showProm=!1;var d=e.usePriceInfo.cbPromOption.split("|");d.length>1&&(e.usePriceInfo.promAmt=e.usePriceInfo.ordAmt-e.usePriceInfo.ordAmt*d[0]*.01)}}}}]),d.directive("imagelist",["$window","$location",function(a,b){return{templateUrl:"/lotte/resources_dev/product/m/imagelist.html",replace:!0,link:function(a,b,c){}}}]),d.directive("productVodInfo",["$window","$location",function(a,b){return{templateUrl:"/lotte/resources_dev/product/m/product_vod_info.html",replace:!0,link:function(a,b,c){}}}]),d.directive("smpDeskInfo",["$window","$location",function(a,b){return{templateUrl:"/lotte/resources_dev/product/m/smp_desk_info.html",replace:!0,link:function(a,b,c){}}}]),d.controller("ProductDetailCtrl",["$scope","$window","$http","$routeParams","$location","LotteCommon","Fnproductview","commInitData","LotteUtil","LotteStorage","StyleRecom",function(b,d,e,f,g,h,i,j,k,l,m){function n(a){$(a).addClass("on").siblings(".on").removeClass("on")}b.reqDetailParam={upCurDispNo:i.objectToString(j.query.upCurDispNo),dispDep:i.objectToString(j.query.dispDep),curDispNo:i.objectToString(j.query.curDispNo),goods_no:i.objectToString(j.query.goods_no),wish_lst_sn:i.objectToString(j.query.wish_lst_sn),cart_sn:i.objectToString(j.query.cart_sn),item_no:i.objectToString(j.query.item_no),genie_yn:i.objectToString(j.query.genie_yn),cn:i.objectToString(j.query.cn),cdn:i.objectToString(j.query.cdn),curDispNoSctCd:i.objectToString(j.query.curDispNoSctCd),tclick:i.objectToString(j.query.tclick),page:i.objectToString(j.query.page),sort:i.objectToString(j.query.sort),siteNo:i.objectToString(j.query.siteNo),usm_goods_no:i.objectToString(j.query.usm_goods_no),guestArrList:[]},b.reqDetailParamStr=b.baseParam,null!=b.reqDetailParam.curDispNoSctCd&&(b.reqDetailParamStr+="&curDispNoSctCd="+b.reqDetailParam.curDispNoSctCd),null!=b.reqDetailParam.curDispNo&&(b.reqDetailParamStr+="&curDispNo="+b.reqDetailParam.curDispNo),null!=b.reqDetailParam.goods_no&&(b.reqDetailParamStr+="&goods_no="+b.reqDetailParam.goods_no),null!=b.reqDetailParam.usm_goods_no&&(b.reqDetailParamStr+="&usm_goods_no="+b.reqDetailParam.usm_goods_no),b.productInfotabIdx=0,j.query.tabIdx!=c&&(b.productInfotabIdx=parseInt(j.query.tabIdx),"1"==b.productInfotabIdx&&(b.dimmedClose(),setTimeout(function(){$("body").animate({scrollTop:$(".detailInfoCnt").offset().top-85+"px"},500)},1e3))),"true"==l.getSessionStorage("qnaBack")&&(b.productInfotabIdx="2",b.dimmedClose(),setTimeout(function(){b.selectedItem=l.getSessionStorage("qnaguest"),b.show_tprdlist=!1,null!=b.BasicData.product.select_goods_list.items&&(b.select_product=b.BasicData.product.select_goods_list.items[l.getSessionStorage("qnaindex")],b.reqDetailParam.usm_goods_no=b.select_product.usm_goods_no),b.getFaqListPaging(0,b.selectedItem,"S"),$("body").animate({scrollTop:$(".detailInfoCnt").offset().top-85+"px"},500),l.setSessionStorage("qnaBack","")},1e3)),b.productInfotabUrl="",b.prdZoomImg="",b.SaleBestData="",b.CommentViewList=[],b.CommentViewCurrnetPage=1,b.mdNoticeAccordionYn=!0,b.mdTipAccordionYn=!0,b.FaqList=[],b.FaqListPage=1,b.goods_no_auto_set_yn="",b.imgDomainUrl;var o=k.getImagePath("");o.length>0&&(b.imgDomainUrl=o.substr(0,o.length-1)),b.loadingTabData=function(a){switch(b.sendTclick("m_DC_ProdDetail_Clk_tap_"+(a+1)),b.productInfotabIdx=a,a){case 0:b.productInfotabUrl=h.productProductDetailData;break;case 1:b.productInfotabUrl=h.commentCommentViewMobileData,b.BasicData.product.gift_check=!0,b.reqDetailParam.gift_review="N";break;case 2:b.productInfotabUrl=h.commentProductQuestListMobileData;break;case 3:b.productInfotabUrl=h.productProductItemInfoData}4>a&&(b.reqDetailParam.usm_goods_no=b.BasicData.product.usm_goods_no,
b.reqDetailParam.curDispNo=b.reqParam.curDispNo,b.reqDetailParam.item_no=b.reqParam.item_no,b.reqDetailParam.page=1,b.reqDetailParam.goods_no=b.BasicData.goods_no,b.reqDetailParam.goods_cmps_cd=b.BasicData.goods_cmps_cd,null!=b.BasicData.product.select_goods_list.items&&"30"==b.BasicData.goods_cmps_cd&&a>0&&(b.select_product=b.BasicData.product.select_goods_list.items[0],b.reqDetailParam.usm_goods_no=b.select_product.usm_goods_no,b.select_product.index=1,b.reqDetailParam.goods_no=b.select_product.goods_no,b.reqDetailParam.star=0,b.reqDetailParam.sort="L"),b.BasicData.disp_yn&&(b.reqDetailParam.disp_yn=b.BasicData.disp_yn),e.get(b.productInfotabUrl,{params:b.reqDetailParam}).success(function(c){switch(a){case 0:b.func_Tab0(a,c);break;case 1:b.func_Tab1(a,c);break;case 2:b.func_Tab2(a,c);break;case 3:b.func_Tab3(a,c)}}).error(function(){console.log("Data Error : 상품상세 정보 로드 실패 ",b.productInfotabUrl)})),b.SORT_NAMET={L:"최근상품평순",M:"영상상품평순",P:"사진상품평순",G:"높은평점순",B:"낮은평점순",R:"추천순"},b.show_tprdlist=!1,b.sort_tab_open=!1,b.sort_tab_open2=!1,b.sort_tab=!0,b.changeSorttab=function(a){a?a!=b.sort_tab?(b.sort_tab_open=!0,b.sort_tab_open2=!1):b.sort_tab_open=!b.sort_tab_open:a!=b.sort_tab?(b.sort_tab_open2=!0,b.sort_tab_open=!1):b.sort_tab_open2=!b.sort_tab_open2,b.sort_tab=a},b.toggleSelect=function(){b.show_tprdlist=!b.show_tprdlist},b.gotoPhotoReview=function(a,c){null!=b.BasicData.product.select_goods_list.items&&"30"==b.BasicData.goods_cmps_cd?location.href=h.photoreviewPage+"?usm_goods_no="+b.select_product.usm_goods_no+"&goods_no="+b.select_product.goods_no+"&id="+c+"&"+b.baseParam+"&tclick=m_DC_menu_5553646_Swp_Prd_idx0"+(c+1)+"_sort_F_40&goods_img="+b.share_img+"&totCnt="+b.PrdCommentData.photos.photos_more:location.href=h.photoreviewPage+"?usm_goods_no="+b.BasicData.product.usm_goods_no+"&goods_no="+b.reqParam.goods_no+"&id="+c+"&"+b.baseParam+"&tclick=m_DC_menu_5553646_Swp_Prd_idx0"+(c+1)+"_sort_F_40&goods_img="+b.share_img+"&totCnt="+b.PrdCommentData.photos.photos_more},b.selectedProduct=function(a,c){b.show_tprdlist=!1,b.select_product=a,b.reqDetailParam.usm_goods_no=b.select_product.usm_goods_no,b.select_product.index=c,b.getCommentViewListPaging(0,"S",a.goods_no)},b.selectedProduct2=function(a,c){b.show_tprdlist=!1,b.select_product=a,b.select_product.index=c,b.reqDetailParam.usm_goods_no=b.select_product.usm_goods_no,b.getFaqListPaging(0,a.goods_no,"S")},b.selectedProduct3=function(a,c){b.show_tprdlist=!1,b.select_product=a,b.select_product.index=c,b.productTabChange(3,a.goods_no)},0==b.BasicData.chanel_yn&&""==b.SaleBestData&&(b.func_SaleBestData(),setTimeout(function(){b.func_buyTogether()},1e3),setTimeout(function(){b.func_planBanner()},500)),b.styleFlag&&setTimeout(function(){b.func_styleRecom()},200),b.styleFlag&&setTimeout(function(){b.func_styleRecom()},200)},b.style_link=function(a,c){10>c&&(c="0"+c),location.href="/product/m/product_view.do?goods_no="+a.goods_no+"&"+b.baseParam+"&curDispNoSctCd=14&tclick=m_DC_ProdDetail_Swp_Rel_D"+c},b.foot_styleList=[],b.func_styleRecom=function(){var a=0;b.imageList.length>1&&(a=parseInt($(".currentNum").text())-1,"vod"==b.imageList[a].tp&&(a=1));var c=b.imageList[a].imgUrl.replace("_280","_550");m.detect(c,function(a){if(a.length>0){var c=a[0].category,d="A";1==c||8==c?d="F":b.loginInfo.isLogin&&b.loginInfo.genSctCd&&(d=b.loginInfo.genSctCd),m.search(a[0].id,d,[c],b.BasicData.product.styl_recomm_cat_grp_cd,function(a){var c=a.slice(0,12);b.foot_styleList=[];for(var d=0;d<c.length;d++)b.foot_styleList.push({goods_no:c[d].goodsNo,img_url:c[d].imgUrl,goods_nm:c[d].brandNm+" "+c[d].goodsNm,sale_prc:c[d].price2})})}})},b.func_Tab0=function(a,c){b.BasicData.product.md_ntc_fcont2=b.BasicData.product.md_ntc_fcont2.replace(/\<br(.*?)\>|\<p\>\&nbsp\;\<\/p\>|\<p\>\<br(.*?)\>\&nbsp\;\<\/p\>|null/g,""),setTimeout(function(){b.BasicData.product.md_ntc_fcont1=i.replaceAll(b.BasicData.product.md_ntc_fcont1,"&#34;","'"),b.BasicData.product.md_ntc_fcont1=i.replaceAll(b.BasicData.product.md_ntc_fcont1,"\r\n",""),$("#mdNoti2").html(b.BasicData.product.md_ntc_fcont1),b.BasicData.product.md_ntc_fcont2=i.replaceAll(b.BasicData.product.md_ntc_fcont2,"&#34;","'"),b.BasicData.product.md_ntc_fcont2=i.replaceAll(b.BasicData.product.md_ntc_fcont2,"\r\n",""),$("#mdNoti3").html(b.BasicData.product.md_ntc_fcont2)},300),c.result?(b.PrdExplainData=c.result,b.isPrdExplainData=!0,setTimeout(function(){null!=b.PrdExplainData.lwnd_sumr_fcont&&(b.PrdExplainData.lwnd_sumr_fcont=i.replaceAll(b.PrdExplainData.lwnd_sumr_fcont,"&#34;","'"),b.PrdExplainData.lwnd_sumr_fcont=i.replaceAll(b.PrdExplainData.lwnd_sumr_fcont,"\r\n",""),$("#lwnd_sumr_c").html(b.PrdExplainData.lwnd_sumr_fcont)),null!=b.PrdExplainData.uptn_sumr_fcont&&(b.PrdExplainData.uptn_sumr_fcont=i.replaceAll(b.PrdExplainData.uptn_sumr_fcont,"&#34;","'"),b.PrdExplainData.uptn_sumr_fcont=i.replaceAll(b.PrdExplainData.uptn_sumr_fcont,"\r\n",""),$("#uptn_sumr_c").html(b.PrdExplainData.uptn_sumr_fcont)),b.BasicData.product.select_goods_list.total_count>0&&null!=b.PrdExplainData.select_products&&b.brieflyPop({target:"optionPop"})},300),"50"==b.BasicData.goods_cmps_cd?b.scopeProductDetailDefault():"A"==b.PrdExplainData.spdp_shp_goods_tmpl_cd?(b.PrdExplainData.goods_no_auto_set_yn="Y",b.PrdExplainData.goods_info_auto_prt_yn="Y",b.scopeBasicDataChange(b.PrdExplainData,b.PrdExplainData.spdp_shp_goods_tmpl_cd),setTimeout(function(){for(var a=0;a<b.PrdExplainData.select_products.total_count;a++)null!=b.PrdExplainData.select_products.items[a].uptn_desc_fcont&&(b.PrdExplainData.select_products.items[a].uptn_desc_fcont=i.replaceAll(b.PrdExplainData.select_products.items[a].uptn_desc_fcont,"&#34;","'"),b.PrdExplainData.select_products.items[a].uptn_desc_fcont=i.replaceAll(b.PrdExplainData.select_products.items[a].uptn_desc_fcont,"\r\n",""),$("#det_up_"+a).html(b.PrdExplainData.select_products.items[a].uptn_desc_fcont)),null!=b.PrdExplainData.select_products.items[a].lwnd_desc_fcont&&(b.PrdExplainData.select_products.items[a].lwnd_desc_fcont=i.replaceAll(b.PrdExplainData.select_products.items[a].lwnd_desc_fcont,"&#34;","'"),b.PrdExplainData.select_products.items[a].lwnd_desc_fcont=i.replaceAll(b.PrdExplainData.select_products.items[a].lwnd_desc_fcont,"\r\n",""),$("#det_down_"+a).html(b.PrdExplainData.select_products.items[a].lwnd_desc_fcont))},500)):"B"==b.PrdExplainData.spdp_shp_goods_tmpl_cd?b.scopeBasicDataChange(b.PrdExplainData,b.PrdExplainData.spdp_shp_goods_tmpl_cd):b.scopeProductDetailDefault()):b.scopeProductDetailDefault()},b.scopeProductDetailDefault=function(){b.PrdExplainData=b.BasicData.product.dtl_info_fcont,b.isPrdExplainData=!0;var a=b.PrdExplainData.replace(/<script/gi,"<noscript").replace(/<\/script/gi,"</noscript");b.prdZoomImg=a,b.lodomain=h.productProductImgData+"?"+b.reqDetailParamStr,$("#detailLayout").html(a),$("#detailLayout").find("object").remove(),$("#detailLayout").find("embed").remove(),$("#detailLayout iframe").lotteMOPrdDetailWrapper({arrowTopPos:50}),$("#detailLayout #sizeGuideTable .tabel_list_wrap >table").lotteMOPrdDetailWrapper({arrowTopPos:50})},$.fn.lotteMOPrdDetailWrapper=function(b){var c=$.extend({wrapperGap:0,arrowAnimateTime:1e3,arrowMiddleFlag:!1,arrowTopPos:0},b);return this.each(function(){function b(){d(),g()}function d(){i.after(k),k.append(l.append(i),m,n),f(),e()}function e(){var a=l.scrollLeft();a>5?(m.stop().css("opacity",0).show().animate({opacity:1},p),k.addClass("left_scroll")):(k.removeClass("left_scroll"),m.hide()),a+5<s-l.width()?(n.stop().css("opacity",0).show().animate({opacity:1},p),k.addClass("right_scroll")):(k.removeClass("right_scroll"),n.hide())}function f(){return u==j.width()?!1:(u=j.width(),s=i.outerWidth(),t=i.outerHeight(),q?(m.css("top",t/2-m.height()/2),n.css("top",t/2-n.height()/2)):(m.css("top",r),n.css("top",r)),void(i.width()>u-o?(l.attr("style","max-width:100%;overflow-x:scroll;width:"+(u-o)+"px !important"),m.show(),n.show()):(l.removeAttr("style"),m.hide(),n.hide())))}function g(){j.on("resize",f),l.on("scroll",e)}var h=this,i=$(h),j=$(a),k=$('<div class="prddetail_scrollwrap"></div>'),l=$('<div class="prddetail_scrollbox"></div>'),m=$('<span class="scroll_arrow left">&lt;</span>'),n=$('<span class="scroll_arrow right">&gt;</span>'),o=c.wrapperGap,p=c.arrowAnimateTime,q=c.arrowMiddleFlag,r=c.arrowTopPos,s=0,t=0,u=0;b()})},b.scopeBasicDataChange=function(a,c){if(a)for(var d=b.BasicData.product.select_goods_list.items,e=(b.PrdExplainData,0),f=0;f<a.select_products.items.length;f++){var g=a.select_products.items[f];if(null!=d&&d.length>0){var h=i.getObjListKey(d,"goods_no",g.tgt_goods_no);h&&(g.sale_prc=h.sale_prc,g.immed_pay_dscnt_amt=h.immed_pay_dscnt_amt,"A"==c&&(g.spdp_shp_img_file_path_nm="",g.spdp_shp_img_file_nm=h.img_url0))}var j=[];if(null!=g.product_conts&&g.product_conts.total_count>0)for(var k=0;k<g.product_conts.total_count;k++){var l={};if(i.isEmpty(g.product_conts.items[k].img_file_2_nm)?l.img_disp_type="1":l.img_disp_type="2",l.idx=e,l.dtl_conts_sn=g.product_conts.items[k].dtl_conts_sn,l.img_file_desc=g.product_conts.items[k].img_file_1_desc,l.img_file_nm=g.product_conts.items[k].img_file_1_nm,l.img_file_path_nm=g.product_conts.items[k].img_file_1_path_nm,j.push(l),e+=1,!i.isEmpty(g.product_conts.items[k].img_file_2_nm)){var m={};m.img_disp_type="2",m.idx=e,m.dtl_conts_sn=g.product_conts.items[k].dtl_conts_sn,m.img_file_desc=g.product_conts.items[k].img_file_2_desc,m.img_file_nm=g.product_conts.items[k].img_file_2_nm,m.img_file_path_nm=g.product_conts.items[k].img_file_2_path_nm,j.push(m),e+=1}}a.select_products.items[f].img_conts_list=j}},b.func_Tab1=function(a,c){c.data_set.product_review||(c.data_set.stat=b.nullprObj()),b.PrdCommentData=c.data_set,b.isPrdCommentData=!0,b.CommentViewList=null!=c.data_set.product_review?c.data_set.product_review.items:[]},b.func_Tab2=function(a,c){b.FAQData=c.data_set,b.isFAQData=!0,b.FaqList=null!=c.data_set.product_quest?c.data_set.product_quest.items:[]},b.func_Tab3=function(a,c){b.ItemInfo=c.result,null!=b.BasicData.product.select_goods_list.items&&b.selectedProduct3(b.BasicData.product.select_goods_list.items[0],1)},b.prdZoom=function(){a.open({templateUrl:"/lotte/resources_dev/product/prdZoomPop.html",replace:!0,link:function(){}})},b.func_planBanner=function(){var a="http://rb-rec-api-apne1.recobell.io/rec/a101?size=10&cps=false&format=jsonp&cuid=fdd29847-94cd-480d-a0d9-16144485d58b&iids="+b.reqDetailParam.goods_no;$.ajax({type:"post",async:!0,url:a,dataType:"jsonp",success:function(a){var c=new Array;null!=a.results&&$(a.results).each(function(a,b){c.push(b.itemId)});var d={method:"get",url:h.prsn_list,params:{spdp_no_list:c.join(","),goods_no:b.reqDetailParam.goods_no}};e(d).success(function(a){b.prsnData=a.banner_list})}})},b.buyTogether1=[],b.buyTogether2=[],b.func_buyTogether=function(a){var c="http://rb-rec-api-apne1.recobell.io/rec/a005?size=10&cps=false&format=jsonp&cuid=fdd29847-94cd-480d-a0d9-16144485d58b&iids="+b.reqDetailParam.goods_no;$.ajax({type:"post",async:!0,url:c,dataType:"jsonp",success:function(a){if(null!=a.results&&a.results.length>0){var c="";$(a.results).each(function(a,b){a>0&&(c+=","),c+=b.itemId}),b.reqDetailParam2={latest_prod:c,isSearch:"Y"},e.get("/json/main/main_latest_prod.json",{params:b.reqDetailParam2}).success(function(a){for(var c=a.latest_prod.items,d=0;d<c.length&&6>d;d++)3>d?b.buyTogether1.push(c[d]):b.buyTogether2.push(c[d])}).error(function(){console.log("Data Error : saleBestData로드 실패")})}},error:function(a,b,c){console.log("Data Error : func_buyTogether 로드 실패")}})},0==b.BasicData.chanel_yn&&(b.func_SaleBestData=function(a){var c="http://rb-rec-api-apne1.elasticbeanstalk.com/rec/a002?size=10&cps=false&format=jsonp&cuid=fdd29847-94cd-480d-a0d9-16144485d58b&iids="+b.reqDetailParam.goods_no;$.ajax({type:"post",async:!0,url:c,dataType:"jsonp",success:function(a){var c=new Array,d=new Array;null!=a.results&&a.results.length>0&&($(a.results).each(function(a,b){c.push(b.itemId)}),d=i.logrecom_type_view_jsonp({items:c}),b.reqDetailParam.goodsRelList=d,b.reqDetailParam.disp_no=b.BasicData.product.mast_disp_no,e.get(h.productProductSalebestData,{params:b.reqDetailParam}).success(function(a){b.SaleBestData=a.max,SaleBestDataCopy=b.SaleBestData.buybest.items}).error(function(){console.log("Data Error : saleBestData로드 실패")}))},error:function(a,c,d){b.reqParam.disp_no=b.BasicData.product.mast_disp_no,e.get(h.productProductSalebestData,{params:b.reqParam}).success(function(a){b.SaleBestData=a.max}).error(function(){console.log("Data Error : saleBestData로드 실패")})}})}),b.recomm_click=function(a){b.loginInfo.isLogin?e.get("/json/comment/comment_recomm_write.json?gdas_no="+a.gdas_no+"&goods_no="+b.reqDetailParam.goods_no).success(function(b){"reg_success"==b.result?(alert("추천하셨습니다."),a.recomm_cnt+=1,$("#recomm_"+a.gdas_no).addClass("on")):"reg_clv_success"==b.result?(alert("추천하셨습니다.\n클로버 20개 적립되었습니다.\nID당 1일 3회까지 지급됩니다."),a.recomm_cnt+=1,$("#recomm_"+a.gdas_no).addClass("on")):"reg_duplicate"==b.result?alert("이미 추천하셨습니다."):"reg_mywrit"==b.result?alert("본인이 작성한 상품평에는 추천하실 수 없습니다."):alert("다시 한번 시도해주시기 바랍니다.")}):i.goToLogin(d,b,h.loginUrl)},b.reqDetailParam.sort="L",b.c_star={v0:!0,v5:!1,v4:!1,v3:!1,v2:!1,v1:!1},b.c_star_title="별점전체",b.getCommentViewListPaging=function(a,d,f){if(a*=1,"P"==d||"L"==d||"G"==d||"B"==d||"R"==d||"M"==d)b.reqDetailParam.sort=d;else if(0==d)b.c_star.v0=!0,b.reqDetailParam.star="0",b.c_star_title="별점 전체",b.c_star.v5=!1,b.c_star.v4=!1,b.c_star.v3=!1,b.c_star.v2=!1,b.c_star.v1=!1;else if(1==d||2==d||3==d||4==d||5==d){b.c_star.v0=!1;var g="",i=0,j="별점 ";b.c_star.v1&&(g+="1_",j+="1점+",i++),b.c_star.v2&&(g+="2_",j+="2점+",i++),b.c_star.v3&&(g+="3_",j+="3점+",i++),b.c_star.v4&&(g+="4_",j+="4점+",i++),b.c_star.v5?(g+="5",j+="5점",i++):(g=g.substr(0,g.length-1),j=j.substr(0,j.length-1)),0==i&&(g="0",j="별점 전체",b.c_star.v0=!0),b.c_star_title=j,b.reqDetailParam.star=g}0==a&&(b.CommentViewList=[]),b.CommentViewCurrnetPage=a+1,b.reqDetailParam.page=b.CommentViewCurrnetPage,"S"==d&&(b.reqDetailParam.goods_no=f),"S2"==d&&(b.sort_tab=!0,b.sort_tab_open=!1,b.sort_tab_open2=!1),b.BasicData.product.gift_check==c||1==b.BasicData.product.gift_check?b.reqDetailParam.gift_review="N":b.reqDetailParam.gift_review="Y",e.get(h.commentCommentViewMobileData,{params:b.reqDetailParam}).success(function(a){try{var c=a.data_set;if(c.product_review)for(var d=0;d<c.product_review.items.length;d++)b.CommentViewList.push(c.product_review.items[d]);else null==a.data_set.stat&&(a.data_set.stat=b.nullprObj());b.PrdCommentData=a.data_set}catch(e){}}).error(function(){console.log("Data Error : getCommentViewListPaging 실패")})},b.nullprObj=function(){return{top_count:0,top_point:0,top_score:0,scr_5_cnt:0,scr_5_per:0,scr_4_cnt:0,scr_4_per:0,scr_3_cnt:0,scr_3_per:0,scr_2_cnt:0,scr_2_per:0,scr_1_cnt:4,scr_1_per:0}},b.getFaqListPaging=function(a,c,d){0==a&&(b.FaqList=[]),a*=1,b.FaqListPage=a+1,b.reqDetailParam.page=b.FaqListPage,""!=c&&(b.reqDetailParam.goods_no=c),e.get(h.commentProductQuestListMobileData,{params:b.reqDetailParam}).success(function(a){try{var c=a.data_set;if(c.product_quest)for(var d=0;d<c.product_quest.items.length;d++)b.FaqList.push(c.product_quest.items[d]);b.FAQData=a.data_set}catch(e){}}).error(function(){console.log("Data Error : getCommentViewListPaging 실패")})},b.productTabChange=function(a,c){if(""!=c){var d=c.split("^");b.reqDetailParam.goods_no=d[0],b.reqDetailParam.usm_goods_no=d[1]}else b.reqDetailParam.goods_no=b.BasicData.goods_no,b.reqDetailParam.usm_goods_no="";e.get(h.productProductItemInfoData,{params:b.reqDetailParam}).success(function(a){b.ItemInfo=a.result}).error(function(){console.log("Data Error : productChange 실패")})},b.qnaListOpenClose=function(a){n($(this).parent()),n($(".qnaList li").eq(a))},b.mdNoticeAccordion=function(){b.mdNoticeAccordionYn=!b.mdNoticeAccordionYn},b.mdTipAccordion=function(){b.mdTipAccordionYn=!b.mdTipAccordionYn},b.goQuestWrite=function(){if(30==b.BasicData.product.goods_cmps_cd&&b.reqDetailParam.goods_no==b.BasicData.goods_no)alert("문의하실 상품을 선택해주세요.");else if(b.loginInfo.isLogin){var a=0;b.FAQData!=c&&(a=b.FAQData.total_cnt),(0==a||""==a||null==a)&&(a=0),l.setSessionStorage("qnaBack","true"),l.setSessionStorage("qnaguest",b.reqDetailParam.goods_no),b.select_product&&l.setSessionStorage("qnaindex",b.select_product.index-1),location.href="/product/product_quest_write.do?"+b.baseParam+"&curDispNo="+b.reqDetailParam.curDispNo+"&goods_no="+b.reqDetailParam.goods_no+"&usm_goods_no="+b.reqDetailParam.usm_goods_no+"&totalCnt="+a}else i.goToLogin(d,b,h.loginUrl)},b.get_SMP_CRP=function(){var a={smp:!1,crp:!1};if(null==b.BasicData.product.select_goods_list.items)a.smp="Y"==b.BasicData.product.smp_psb_yn||"Y"==b.BasicData.product.smp_only_yn,a.crp="Y"==b.BasicData.product.crspk_psb_yn,"Y"==b.BasicData.product.smp_only_yn&&(a.crp=!1);else if(b.BasicData.product.select_goods_list.items.length>0){var d;if(0==$(".prdBuyInfo .selWrap select").length&&(d=b.BasicData.product.select_goods_list.items[0]),d==c)return"";a.smp=b.isAnySmp||"Y"==d.smp_psb_yn||"Y"==d.smp_only_yn,a.crp="Y"==d.crspk_psb_yn,"Y"==d.smp_only_yn&&(a.crp=!1)}var e="";return(a.smp||a.crp)&&(e+='<div class="sm_cr_pick">',e+="<h6>스마트픽</h6>",e+="<em>",a.smp&&(e+="<span>롯데백화점</span>"),a.crp&&(e+="<span>세븐일레븐</span>"),e+="</em> 픽업 가능",e+="</div>"),e}}]),d.directive("productInfo",["Fnproductview","$window","$http","LotteCommon",function(a,b,d,e){return{templateUrl:"/lotte/resources_dev/product/m/product_info.html",replace:!0,link:function(d,f,g){d.Fnproductview=a,d.viewNaverMap=function(){d.$broadcast("showNaverStoreMap",{goods_no:d.BasicData.goods_no,entr_no:d.BasicData.product.pmg_entr_no,entr_contr_no:d.BasicData.product.entr_contr_no,smp_ecoupon_yn:GOODS_SMP_NORMAL_ETC==d.BasicData.product.smp_goods_type?"Y":"N"})},d.goBrandShjopBottom=function(e,f){var g=e+"?curDispNo="+d.BasicData.product.brnd_disp_shop_no+"&upBrdNo="+d.BasicData.product.upr_brnd_no;f!=c&&(g+="&dispCnt="+f),"255"==d.BasicData.product.brnd_no&&(g="/category/m/prod_list.do?c&curDispNo=5036840&isWine=Y&isComm=Y&title=샤넬&c=mlotte"),g+="&tclick=m_DC_ProdDetail_Clk_Lnk_2",a.goUrl(b,d,g,"brandshop")},d.ProviewGo=function(a,c,f){null!=f&&(f+=1,10>f?c=c+"0"+f:c+=f);var g=e.prdviewUrl+"?"+d.baseParam+"&goods_no="+a.goods_no;b.location.href=g+(c?"&tclick="+c:"")}}}}]),d.directive("productWineInfo",[function(){return{templateUrl:"/lotte/resources_dev/product/m/product_wine_info.html",replace:!0,link:function(){}}}]),d.directive("productInfoDetail",["Fnproductview","$window",function(b,d){return{templateUrl:"/lotte/resources_dev/product/m/product_info_detail.html",replace:!0,link:function(d,e,f){d.popIndex=0,d.pushstateIdx=0,d.popNext=function(){d.popIndex+=1,d.popIndex>=d.PrdExplainData.select_products.items.length&&(d.popIndex=0),d.productLayer(d.PrdExplainData.select_products.items[d.popIndex].tgt_goods_no,d.popIndex)},d.popPrev=function(){d.popIndex-=1,d.popIndex<0&&(d.popIndex=d.PrdExplainData.select_products.items.length-1),d.productLayer(d.PrdExplainData.select_products.items[d.popIndex].tgt_goods_no,d.popIndex)},d.isShowproductDetailLayer=!1,d.goods_info_auto_prt_yn="",d.productDetailLayer={},d.productLayer=function(a,e){d.pushstateIdx++,d.popIndex=e,d.sendTclick("m_DC_ProdDetail_Clk_Prd_idx"+(this.$index+1)),d.productDetailLayer=b.getObjListKey(d.PrdExplainData.select_products.items,"tgt_goods_no",a),d.dimmedOpen({target:"productLayer"}),d.swipeVideoStop(),d.productDetailLayer.mpic_url_addr!=c&&""!=d.productDetailLayer.mpic_url_addr&&setTimeout(function(){autoVideoPlay("autoVideo2","#autoVideo2")},100),d.isShowproductDetailLayer=!0,setTimeout(function(){$("#pop_html_up").html(d.productDetailLayer.uptn_desc_fcont),$("#pop_html_down").html(d.productDetailLayer.lwnd_desc_fcont),$(".preview.detail").scrollTop(0)},300),d.pushstateIdx<=1&&history.pushState("addState",null)},d.setCellSize=function(a,b,c){b&&"1"!=c&&($(".amassPrd > li").eq(a).css("height","auto"),$(".amassPrd > li").eq(a-1).css("height","auto"),setTimeout(function(){$(".amassPrd > li").eq(a-1).height()>$(".amassPrd > li").eq(a).height()?$(".amassPrd > li").eq(a).height($(".amassPrd > li").eq(a-1).height()):$(".amassPrd > li").eq(a-1).height($(".amassPrd > li").eq(a).height())},300))},d.moa_height=function(a){var b=$("#moa_"+a).height()+1+"px";return $("#span_"+a).css("height",b),b},d.closeProductDetailLayer=function(){d.pushstateIdx=0,history.back()},a.addEventListener("popstate",function(){d.isShowproductDetailLayer=!1,d.dimmedClose(),d.pushstateIdx=0}),d.moa_add_cart=function(a){d.btnCart_click(),setTimeout(function(){d.ncGoodsSelected(a.tgt_goods_no)},500)}}}}]),d.directive("detailTopWrap",["$window","$timeout",function(c,d){return{replace:!0,link:function(e,f,g){e.$watch("isBasicData",function(a){null!=a&&e.isBasicData&&d(function(){e.detailTopHeight=f.height()+b.element("#comparePdtLst").height()},300)},!0),$(a).width()>=640&&setTimeout(function(){var a=$(".detailSwipe").width();$(".detailSwipe").height(a),$(".detailTitWrap").height(a)},300),e.winH=$(a).height(),b.element(c).on("resize",function(c){e.winH=$(a).height(),d(function(){if(e.detailTopHeight=f.height()+b.element("#comparePdtLst").height(),$(a).width()>=640){e.isPrdExplainData=!0;var c=$(".detailSwipe").width();$(".detailSwipe").height(c),$(".detailTitWrap").height(c)}else $(".detailSwipe").height("270px"),$(".detailTitWrap").height("auto")},300)})}}}]),d.directive("detailPrdTab",["$window","$timeout",function(c,d){return{replace:!0,link:function(e,f,g){e.first=!0,b.element(c).on("scroll",function(a){var b=0;e.appObj.isNativeHeader||(b=48),this.pageYOffset>=e.detailTopHeight+b?(e.tabFixedChange(!0),f[0].style.cssText="z-index:120;position:fixed;top:"+b+"px;width:100%;"):(e.tabFixedChange(!1),f[0].style.cssText=""),setTimeout(function(){this.pageYOffset>=e.detailTopHeight+45?(e.tabFixedChange(!0),f[0].style.cssText="z-index:120;position:fixed;top:"+b+"px;width:100%;"):(e.tabFixedChange(!1),f[0].style.cssText="")},300),this.pageYOffset>100&&e.first&&(e.loadingTabData(e.productInfotabIdx),e.first=!1)}),$(a).width()>=768&&(e.loadingTabData(e.productInfotabIdx),e.first=!1),f.find("li").click(function(){d(function(){var a=$(".detailInfoCnt").offset().top;"fixed"==$("#head_sub").css("position")&&"fixed"!=$(".detailPrdTabWrap").css("position")?b.element(c).scrollTop(a-90):"fixed"==$("#head_sub").css("position")&&"fixed"==$(".detailPrdTabWrap").css("position")?b.element(c).scrollTop(a-45):b.element(c).scrollTop(a-85)},300)})}}}]),commModule.directive("ditailImgWrap",["$window","$timeout",function(a,c){return{replace:!0,link:function(c,d,e){b.element(a).on("scroll",function(){var a=d.position().top;this.pageYOffset>a&&a+$("#productDetailSelect").height()-$(".ditailImgWrap > a").height()>this.pageYOffset&&$(".detailPrdTab > li:first-child").hasClass("on")?(c.viewBigImg=!0,$(".viewBigImg").show()):(c.viewBigImg=!1,$(".viewBigImg").hide())})}}}]),commModule.directive("subHeaderEach",["$window","AppDownBnrService",function(a,c){return{replace:!0,link:function(d,e,f){function g(){d.appObj.isNativeHeader&&(j=0),d.$parent.cateViewFlag=!1,i.scrollTop()>=c.appDownBnrInfo.height?h.attr("style","z-index:10;position:fixed;top:"+j+"px;width:100%"):h.removeAttr("style")}d.gotoPrepage=function(){d.sendTclick("m_RDC_header_new_pre"),history.go(-1)};var h=b.element(e),i=b.element(a),j=d.subHeaderHeight;i.on("scroll",function(a){g(),setTimeout(g,300)}),d.$watch(function(){return c.appDownBnrInfo.isShowFlag},function(a,b){g()})}}}]),d.directive("accordionList",[function(){return{replace:!0,link:function(a,b,c){var d=b.find("li"),e=d.find(".accordionTit");e.click(function(){var a=$(this).parent().hasClass("on");d.removeClass("on"),a||$(this).parent().addClass("on")})}}}]),d.directive("qnaList",["$timeout",function(a){return{replace:!0,link:function(a,b,c){a.qnaListIndex,a.qnaListClick=function(b){a.qnaListIndex==b?a.qnaListIndex=null:a.qnaListIndex=b}}}}]),d.directive("popGift",[function(){return{replace:!0,link:function(b,d,e){b.giftFlag="fWrap",b.dimZidx=$("lotte-dimm section").css("z-index"),b.popGift=function(e,f,g){switch(b.popScl=null,e){case"brand":b.giftFlag="fWrap",b.brnd_gift_logo_img=f!=c?f:b.BasicData.product.brnd_gift_logo,b.brnd_nm=g!=c?g:b.BasicData.product.main_brnd_nm;break;case"card":b.giftFlag="fCard"}d.show(),setTimeout(function(){d.find(".gift_wrap").css("height","auto").height(d.height()-45)},300),d.css("margin-top",d.outerHeight()/-2),b.LotteDimm.status=!0,b.LotteDimm.callback=this.popGiftClose,$("lotte-dimm section").css("z-index",150),"productLayer"==b.LotteDimm.target?(b.popScl=b.LotteDimm.scrollY,b.LotteDimm.scrollY=$(a).scrollTop()):b.LotteDimm.scrollY=$(a).scrollTop()},b.popGiftClose=function(){d.hide(),b.dimmedClose(),$("lotte-dimm section").css("z-index",b.dimZidx),null!=b.popScl&&(b.LotteDimm.scrollY=b.popScl)}}}}]),d.directive("helpLayer",["$timeout",function(a){return{replace:!0,link:function(a,d,e){a.eventTarget=null,a.helpLayer=function(e){if(b.element(".icQst").each(function(){$(this).removeClass("on")}),a.eventTarget=$(event.target),a.eventTarget.removeClass("on").addClass("on"),"giftPrice"==e.target)a.helpTitle="참좋은 혜택가란?",a.helpTxt="즉석 쿠폰이나 일시불 할인 등 다양한 <br>할인혜택이 자동으로 적용된 가격입니다.<br>본 가격은 대표상품의 가격으로 선택상품에<br>따라 가격 및 할인혜택이<br>다를 수 있습니다.";else if("lottePointPlusCard"==e.target)a.helpTitle="",a.helpTxt="<p>"+e.reserve_value1+"</p><p class=tit>적립 기준</strong></p><ol><li>상기 표시된 적립금은 쿠폰 등 할인 금액에 따라 변동될 수 있습니다.</li><li>무이자할부 이용시 롯데카드 적립은 제외됩니다.</li><li>적립쿠폰은 2배 적립에서 제외됩니다.</li><li>카드사에서 제공되는 적립금은 롯데포인트플러스카드 결제분에 한해 산정된 적립율로 지급됩니다.<br>(롯데포인트플러스카드와 현금/포인트 복합 결제시 현금/포인트 결제금액 제외)</li>","Y"!=a.BasicData.elotte_yn?a.helpTxt+="<li>롯데닷컴 ID기준의 멤버스 회원과 결제하신 롯데포인트플러스카드의 소유주가<br> 다른 경우 롯데카드 적립금은 적립되지 않습니다. (롯데닷컴 적립금은 정상 지급)</li>":a.helpTxt+="<li>엘롯데 ID기준의 멤버스 회원과 결제하신 롯데포인트플러스카드의 소유주가 <br>다른 경우 롯데카드 적립금은 적립되지 않습니다. (엘롯데 적립금은 정상 지급)</li>",a.helpTxt+="</ol>";else if("rentalOnly"==e.target)a.helpTitle="<strong>"+e.lmoney+"</strong>점이 적립 되셨습니다.",a.helpTxt="적립된 L-money "+e.lmoney+"점은 오늘 자정 12시에 소멸되며, 내일 또 적립 받으실 수 있습니다.",a.eventTarget=b.element("#rentalOnlyDown");else if("rentalOnlyError"==e.target){var f=e.response_msg.split("\n");a.helpTitle=f[0],a.helpTxt=f[1],a.eventTarget=b.element("#rentalOnlyDown")}setTimeout(function(){$("#helpText").html(a.helpTxt)},300),a.eventTarget.offset()!=c&&("giftPrice"==e.target?d.css("top",a.eventTarget.offset().top+20-45):"rentalOnly"==e.target||"rentalOnlyError"==e.target?d.css("top",a.eventTarget.offset().top+20-35):d.css("top",a.eventTarget.offset().top+20)),d.addClass(e.target).show()},a.helpLayerClose=function(b){d.attr("class","").addClass("helpLayer").hide(),a.eventTarget.removeClass("on"),a.eventTarget=null,$("#helpText").html("")}}}}]),d.directive("datePicker",["$timeout","$window","$rootScope",function(a,b){return{replace:!0,link:function(a,b,d){a.item_opt_value=[],a.getFirstDay=function(a,b){return new Date(a,b,1).getDay()},a.getLastDay=function(a,b){return new Date(a,b+1,0).getDate()},a.addZero=function(a){return 10>a?"0"+a:a},a.date=new Date,a.now=new Date,a.cdate=new Date,a.today=a.now.getDate(),a.month=a.now.getMonth(),a.firstDay=a.getFirstDay(a.date.getFullYear(),a.date.getMonth()),a.lastDay=a.getLastDay(a.date.getFullYear(),a.date.getMonth()),a.dateHead=["SUN","MON","TUE","WED","THU","FRI","SAT"],a.datePrev=function(b){a.date.setMonth(a.date.getMonth()-1),a.firstDay=a.getFirstDay(a.date.getFullYear(),a.date.getMonth()),a.lastDay=a.getLastDay(a.date.getFullYear(),a.date.getMonth()),a.makeDays()},a.dateNext=function(b){a.date.setMonth(a.date.getMonth()+1),a.firstDay=a.getFirstDay(a.date.getFullYear(),a.date.getMonth()),a.lastDay=a.getLastDay(a.date.getFullYear(),a.date.getMonth()),a.makeDays()},a.makeDays=function(){a.day=[];for(var b=0;b<a.firstDay;b++)a.day.push(0-b);for(var b=0;b<a.lastDay;b++)a.day.push(b+1)},a.pick=function(b){a.cdate.setDate(b);var d=a.date.getFullYear()+"-"+a.addZero(a.date.getMonth()+1)+"-"+a.addZero(b);null!=a.datePickerObj.pindex&&a.datePickerObj.pindex!=c?a.orderList[a.datePickerObj.pindex].item_opt_list.items[a.datePickerObj.idx].item_opt_value=d:a.item_opt_value[a.datePickerObj.idx]=d,a.datePickerClose(),a.boldOptionBorder()},a.makeDays()}}}]),d.directive("brieflyPop",["$window","$timeout",function(a,b){return{replace:!0,link:function(a,d,e){a.brieflyHtml="",a.brieflyPop=function(e){"imgZoomPop"==e.target?a.brieflyHtml="<div class=popTxt>자유로운 확대가<br />가능합니다</div>":"alarmPop"==e.target?e.phone==c?a.brieflyHtml="<span class=empy></span><div class=popTxt>재 입고 알림<br />신청되었습니다</div>":a.brieflyHtml="<span>"+e.phone+"</span><div class=popTxt>재 입고 알림<br />신청되었습니다</div><p>연락처 수정은 마이롯데에서<br />하실 수 있습니다</p>":"cartPop"==e.target?a.brieflyHtml="<div class=popTxt>장바구니에<br />담겼습니다 </div>":"wishPop"==e.target?a.brieflyHtml="<div class=popTxt>위시리스트에<br />담았습니다</div>":"optionPop"==e.target?a.brieflyHtml="<div class=popTxt>옵션 이미지를 터치하면<br />자세한 상품설명을<br />볼 수 있어요!</div>":"soldoutPop"==e.target?a.brieflyHtml="<p class=tle>품절</p><div class=popTxt>이 상품은 품절되었습니다. <br />재 입고 알림 서비스를 <br />이용해주세요. </div>":"soldout2Pop"==e.target&&(a.brieflyHtml="<p class=tle>판매종료</p><div class=popTxt>판매종료된 상품입니다. <br />보내주신 성원에 <br />감사드립니다. </div>"),d.attr("class","brieflyPop "+e.target).fadeIn(500,function(){b(function(){d.fadeOut(500)},1e3)})}}}}]),d.controller("ProductWineDetailCtrl",["$scope","$http","$routeParams","$location","LotteCommon","Fnproductview","commInitData",function(a,b,c,d,e,f,g){a.reqDetailParam={upCurDispNo:f.objectToString(g.query.upCurDispNo),dispDep:f.objectToString(g.query.dispDep),curDispNo:f.objectToString(g.query.curDispNo),goods_no:f.objectToString(g.query.goods_no),wish_lst_sn:f.objectToString(g.query.wish_lst_sn),cart_sn:f.objectToString(g.query.cart_sn),item_no:f.objectToString(g.query.item_no),genie_yn:f.objectToString(g.query.genie_yn),cn:f.objectToString(g.query.cn),cdn:f.objectToString(g.query.cdn),curDispNoSctCd:f.objectToString(g.query.curDispNoSctCd),tclick:f.objectToString(g.query.tclick),page:f.objectToString(g.query.page),sort:f.objectToString(g.query.sort),siteNo:f.objectToString(g.query.siteNo),usm_goods_no:f.objectToString(g.query.usm_goods_no)},a.reqDetailParamStr=a.baseParam,null!=a.reqDetailParam.curDispNoSctCd&&(a.reqDetailParamStr+="&curDispNoSctCd="+a.reqDetailParam.curDispNoSctCd),null!=a.reqDetailParam.curDispNo&&(a.reqDetailParamStr+="&curDispNo="+a.reqDetailParam.curDispNo),null!=a.reqDetailParam.goods_no&&(a.reqDetailParamStr+="&goods_no="+a.reqDetailParam.goods_no),a.productInfotabUrl="",a.prdZoomImg="",a.FaqList=[],a.FaqListPage=1,a.winelodomain=e.productProductImgData+"?"+a.reqDetailParamStr;var h=a.BasicData.product.dtl_info_fcont;if(""!=h){var i=h.replace(/<script/gi,"<noscript").replace(/<\/script/gi,"</noscript");$("#wineDetailLayout").html(i),$("#wineDetailLayout").find("object").remove(),$("#wineDetailLayout").find("embed").remove()}a.productWineInfotabIdx=0,a.mdNoticeAccordionYn=!0,a.mdTipAccordionYn=!0,a.loadingTabData=function(){},a.mdNoticeAccordion=function(){a.mdNoticeAccordionYn=!a.mdNoticeAccordionYn}}])}(window,window.angular);
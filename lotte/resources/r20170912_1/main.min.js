!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter","lotteMainPop","lotteNgSwipe","lotteSlider"]);d.controller("MainCtrl",["$rootScope","$http","$compile","$scope","$timeout","$window","$location","$q","LotteCommon","commInitData","LotteUserService","LotteStorage","LotteCookie","AppDownBnrService",function(d,e,f,g,h,j,k,l,m,n,o,p,q,r){function s(){if(1==g.appLpotIconFlag&&g.appObj.isApp&&g.appObj.isAndroid&&!g.appObj.isSktApp&&g.appObj.verNumber>=279)try{a.lottebridge.lpot(!0)}catch(b){}h(function(){if(1==g.appLpotIconFlag&&g.appObj.isApp&&g.appObj.isAndroid&&!g.appObj.isSktApp&&g.appObj.verNumber>=279)try{a.lottebridge.lpot(!1)}catch(b){}},6e4)}function t(a){"메인"==a.pageType&&a.isShowFlag?(g.appDownBnrFlag=!0,g.mainHeaderHeight={mobile:145,tablet:105}):(g.appDownBnrFlag=!1,g.mainHeaderHeight={mobile:90,tablet:50})}function u(){var b=g.loginInfo.mbrAge?g.loginInfo.mbrAge:"",c=g.loginInfo.genSctCd?g.loginInfo.genSctCd:"";if(g.appObj.isApp)if(c="M"==c?"male":"F"==c?"female":"common",g.appObj.isAndroid&&"mlotte001"==n.query.schema&&A>=223)try{a.lottebridge.splashinfo&&a.lottebridge.splashinfo(c,b)}catch(d){console.info("앱 스플래시 호출 없음")}else g.appObj.isIOS&&!g.appObj.isIpad&&"iPhone"==g.appObj.iOsType&&A>=214?a.location="lottebridge://splashinfo/"+c+"?"+b:g.appObj.isIOS&&g.appObj.isIpad&&"iPad"==g.appObj.iOsType&&A>=135&&(a.location="lottebridge://splashinfo/"+c+"?"+b)}function v(){var b=q.getCookie("MBRNO");if(b&&!B)if(B=!0,g.appObj.isAndroid&&!g.appObj.isSktApp&&g.appObj.verNumber>=257)try{}catch(c){}else(g.appObj.isIOS&&!g.appObj.isIpad&&g.appObj.verNumber>=2530||g.appObj.isIOS&&g.appObj.isIpad&&g.appObj.verNumber>=220)&&h(function(){a.location="lottebridge://sendMbrNo/"+b,console.log("앱 mbrNo 전달",b)},2e3)}function w(a){return 10>a?"0"+a:a+""}function x(a,b,c,d,e,f){var g=new Date(a,b,c,d,e,f);return a&&b&&c&&(g.setFullYear(a),g.setMonth(b-1),g.setDate(c),d&&g.setHours(d),e&&g.setMinutes(e),f&&g.setSeconds(f)),g.getTime()}function y(a,b){if(!a)return"";var c="";switch(a){case"#98ADD9":case"#7291CF":c="bl";break;case"#99857F":case"#8C7169":c="brw";break;case"#D998A3":case"#E68A97":c="pk";break;case"#5C997F":case"#4D8C71":c="gr";break;case"#F09461":case"#F27C3D":c="org";break;case"#8677b6":c="purple"}return c=""!=c&&b.indexOf("tpml_"+c)<0?" tpml_"+c:""}g.screenID="main",g.showWrap=!0,g.contVisible=!0,g.pageLoading=!1,g.productListLoading=!1,g.$parent.LotteSuperBlockStatus=!1,g.platinumPlanshopFlag=!1,g.menuNewFlag=!1,g.menuSaleFlag=!1,g.eventOpenFlag=!1,g.recomTabBigDealTitFlag=!1,g.recombigTopBanner=!1,g.recombigTopBanner2=!1,g.recombigTopBanner3=!1,g.recombigTopBanner4=!1,g.giftbigdealFlag=!0,g.previewDate=n.query.preview,d.isDirectCate=!0,g.appLpotIconFlag=!0,g.DisplayContent={left:0,right:0},g.ipadAppDownInfo=g.appObj.isApp&&g.appObj.isIpad&&g.appObj.verNumber<2800&&"Y"!=p.getSessionStorage("app_ipad_update_info_close")?!0:!1,g.beforeScrollPos=0,g.eventLinkObj={eventInfoUrl:m.eventGumeUrl,eventSaunUrl:m.eventSaunUrl,eventBenefitUrl:m.gdBenefitUrl,eventAttendUrl:m.directAttendUrl};var z=b.element(j);g.appDownBnrFlag=!1,g.mainHeaderHeight={mobile:90,tablet:50},r.appDownSettingData().then(function(a){t(a)}),g.$watch(function(){return r.appDownBnrInfo.isShowFlag},function(a,b){"undefined"!=typeof a&&t(r.appDownBnrInfo)}),d.pageUI={baseParam:g.baseParam,defaultRendingDispNo:"",curMenuIdx:0,curMenuDispNo:"",curTabMenuDispNo:"",rootMenu:[],storedData:{},curDispNo:"",curDispNoSctCd:"",lastCallUrl:"",isLoginData:!1,winScrollHeaderDownFlag:!1},z.on({"unload.main":function(){var c={};if(!g.pageUI.rootMenu.length||!Object.getOwnPropertyNames(g.pageUI.storedData).length)return!1;if(c=g.pageUI,!n.query.localtest&&g.leavePageStroage&&(p.setSessionStorage("lotteMain2016Loc",k.absUrl()),p.setSessionStorage("lotteMain2016Data",c,"json"),p.setSessionStorage("lotteMain2016ScrollY",b.element(j).scrollTop())),1==g.appLpotIconFlag&&g.appObj.isApp&&g.appObj.isAndroid&&!g.appObj.isSktApp&&g.appObj.verNumber>=279)try{a.lottebridge.lpot(!1)}catch(d){}},load:function(){z.windowLoadFlag=!0,s()}});var A="";g.appObj&&g.appObj.ver&&(A=parseInt((g.appObj.ver+"").replace(/\./gi,"")));var B=!1,C=new Date,D=C.getFullYear()+w(C.getMonth()+1)+w(C.getDate()),E=C.getTime();if(n.query.testDate){n.query.testDate;D=n.query.testDate,E=x(D.substring(0,4),D.substring(4,6),D.substring(6,8),D.substring(8,10),D.substring(10,12),D.substring(12,14))}"localhost"==k.host()&&"23"==n.query.cn&&q.setCookie("CHLNO","23");var F=a.navigator.userAgent.match(/mlotte001/gi),G=a.navigator.userAgent.match(/Android (\d|\.)+/gi),H=p.getSessionStorage("app_update_cancel"),I="신규 업데이트 항목이 있습니다.\n최신버전으로 업데이트 하시고 더욱 더 편리한 쇼핑을 즐기세요.";if(E>=x(2017,7,10,9)&&E<x(2017,7,17)&&(I="신규 업데이트 항목이 있습니다.\n최신 버전으로 업데이트 하고, 100% 경품당첨의 기회도 놓치지 마세요."),"Y"!=H&&F&&F.length>0&&g.appObj.isAndroid&&g.appObj.verNumber<290&&G){var J=(G[0]+"").replace(/Android|\s|/gi,""),K=J.split(".");K.length>=2&&K[0]>=4&&(4==K[0]&&K[1]>=4||K[0]>4)&&(confirm(I)?a.location.href="market://details?id=com.lotte":p.setSessionStorage("app_update_cancel","Y"))}g.getHeaderMenuDispNo=function(a){return g.pageUI.rootMenu.length<=a?g.pageUI.rootMenu[0].dispNo:0>a?g.pageUI.rootMenu[g.pageUI.rootMenu.length-1].dispNo:g.pageUI.rootMenu.length>a?g.pageUI.rootMenu[a].dispNo:0},g.getHeaderMenuInfo=function(a){var b=0,c={url:"",curDispNoSctCd:"",idx:"",subIdx:""};for(b=0;b<g.pageUI.rootMenu.length;b++)if(g.pageUI.rootMenu[b].dispNo==a)c.url=g.pageUI.rootMenu[b].jsonFilePath,c.curDispNoSctCd=g.pageUI.rootMenu[b].curDispNoSctCd?g.pageUI.rootMenu[b].curDispNoSctCd:"",c.idx=b;else if(g.pageUI.rootMenu[b].subTab)for(var d=g.pageUI.rootMenu[b].subTab.items,e=0;e<d.length;e++)d[e].dispNo==a&&(c.url=d[e].jsonFilePath,c.curDispNoSctCd=d[e].curDispNoSctCd?d[e].curDispNoSctCd:"",c.idx=b,c.subIdx=e);return c},g.setHeaderMenuIdxPos=function(a,c){h(function(){var d=g.getHeaderMenuInfo(a),e=b.element("#gnb nav[lotte-slider]"),f=e.find(">ul"),h=f.find(">li"),i=h.eq(d.idx),j=0,k=c?0:200;e.length>0&&f.length>0&&i.length>0&&e.width()<f.width()&&(j=e.width()/2+f.offset().left-(i.offset().left+i.outerWidth()/2),b.element("#gnb nav[lotte-slider]").scope().lotteSliderMoveXPos(j,k))},0)},g.moveMenu=function(a,b){var c={dispNo:"",menuIdx:0},d=g.getHeaderMenuInfo(a);if(g.pageUI.curMenuIdx=d.idx,c.menuIdx=g.pageUI.curMenuIdx,g.pageUI.curMenuDispNo=a,g.pageUI.rootMenu[g.pageUI.curMenuIdx].subTab){var e=g.pageUI.rootMenu[g.pageUI.curMenuIdx].subTab.items,f=e[g.pageUI.rootMenu[g.pageUI.curMenuIdx].tabIndex];g.setCurDisp(f.dispNo),g.pageUI.curDispNoSctCd=f.curDispNoSctCd,c.dispNo=f.dispNo}else c.dispNo=a,g.setCurDisp(g.pageUI.curMenuDispNo),g.pageUI.curDispNoSctCd=d.curDispNoSctCd;return g.setHeaderMenuIdxPos(a,b),c},g.setSubTabChangeCurDisp=function(a,b){g.pageUI.curDispNo=g.pageUI.curTabMenuDispNo=a,g.pageUI.curDispNoSctCd=b},g.setCurDisp=function(a,b){console.log("$scope.setCurDisp",a),g.pageUI.curDispNo=g.pageUI.curTabMenuDispNo=a,clearInterval(d.vTimer)},d.mainSwipeStart=function(a){g.LotteDimm.dimmed&&null!=g.LotteDimm.target&&g.LotteDimm.callback&&g.LotteDimm.callback(),console.log("loading swipe content data");var b="",c=0;"left"==a.moveto?(b="swipeRightContainer",c=g.pageUI.rootMenu.length<=g.pageUI.curMenuIdx+1?0:g.pageUI.curMenuIdx+1):(b="swipeLeftContainer",c=0==g.pageUI.curMenuIdx?g.pageUI.rootMenu.length-1:g.pageUI.curMenuIdx-1);var d="";if(g.pageUI.rootMenu[c].subTab){var e=g.pageUI.rootMenu[c].subTab.items;d=e[g.pageUI.rootMenu[c].tabIndex].dispNo}else d=g.getHeaderMenuDispNo(c);g.DisplayContent[a.moveto]!=d&&(g.DisplayContent[a.moveto]=d,null!=g.pageUI.storedData[d]?g.dispScreen(d,b):g.loadData(0,d,b))},d.mainSwipeReset=function(a){var c=0,d=null,e="contentContainer";"left"==a.moveto?(e="swipeRightContainer",d=b.element("#swipeRightContainer > div"),c=g.pageUI.rootMenu.length<=g.pageUI.curMenuIdx+1?0:g.pageUI.curMenuIdx+1):(e="swipeLeftContainer",d=b.element("#swipeLeftContainer > div"),c=0==g.pageUI.curMenuIdx?g.pageUI.rootMenu.length-1:g.pageUI.curMenuIdx-1);var f=g.getHeaderMenuDispNo(c);g.sendTclick("m_RDC_category_s_"+f);var h=g.moveMenu(f);g.pageUI.storedData[h.dispNo]||(isSwipeLock=!0),g.translateX_Reset(),g.pageUI.winScrollHeaderDownFlag?(g.beforeScrollPos=g.screenType>1?g.mainHeaderHeight.tablet:g.mainHeaderHeight.mobile,z.scrollTop(g.screenType>1?g.mainHeaderHeight.tablet:g.mainHeaderHeight.mobile)):(g.beforeScrollPos=0,z.scrollTop(0)),g.DisplayContent.left=0,g.DisplayContent.right=0;var i=b.element("#contentContainer"),j=b.element("#contentContainer > div");j.remove(),i.prepend(d),b.element("#container").css({"-webkit-backface-visibility":"","-moz-backface-visibility":"","backface-visibility":"","-webkit-transform":"","-ms-transform":"","-moz-transform":"",transform:""}),b.element("#swipeLeftContainer").html('<div class="bg_loading"><p class="loading_circle"></p></div>'),b.element("#swipeRightContainer").html('<div class="bg_loading"><p class="loading_circle"></p></div>')},g.menuTwentyFlag=!0,n.query.dispNo!=c&&(g.pageUI.defaultRendingDispNo=n.query.dispNo);var L=q.getCookie("CHLNO");if("23"==L&&g.appObj.isApp){var M="3168661";q.setCookie("CHLDTLNO",M,c,"lotte.com"),g.baseParam=g.baseParam.replace(/cdn=[0-9]+|cdn=?/,"cdn="+M)}g.afterInitDataChk=function(){var a=l.defer();return o.loadLoginInfoComplete.then(function(){g.pageUI.isLoginData=g.loginInfo.isLogin,g.appObj.isApp&&(u(),v());var b=p.getSessionStorage("lotteMain2016Loc"),c=p.getSessionStorage("lotteMain2016Data"),e=p.getSessionStorage("lotteMain2016ScrollY"),f=!0;if(b==k.absUrl()&&null!=c&&"true"!=n.query.localtest){var i=JSON.parse(c);i.rootMenu&&i.rootMenu.length>0&&g.loginInfo.isLogin==i.isLoginData?(d.pageUI=i,f=!1,h(function(){g.dispScreen(g.pageUI.curTabMenuDispNo,"contentContainer"),g.moveMenu(g.pageUI.curMenuDispNo,!0),h(function(){z.scrollTop(e)},100)},500)):i.rootMenu&&i.rootMenu.length>0&&i.curMenuDispNo&&""!=i.curMenuDispNo&&(g.pageUI.curMenuDispNo=i.curMenuDispNo,h(function(){g.dispScreen(g.pageUI.curMenuDispNo,"contentContainer"),h(function(){z.scrollTop(e)},100)},500))}a.resolve(f)}),a.promise},g.ipadAppDownPopupClose=function(){g.ipadAppDownInfo=!1,p.setSessionStorage("app_ipad_update_info_close","Y")},g.ipadAppDown=function(){g.sendOutLink("http://itunes.apple.com/app/id376622474?mt=8")},g.afterInitDataChkDefer=g.afterInitDataChk();var N="F",O="30",P="30";g.userAgeGenderSet=function(){g.loginInfo.isLogin&&g.loginInfo.genSctCd&&g.loginInfo.mbrAge&&(N=g.loginInfo.genSctCd,O=g.loginInfo.mbrAge),(n.query.gender||n.query.age)&&(n.query.gender&&(N=n.query.gender),n.query.age&&(O=n.query.age)),P=O>0&&30>O?20:O>29&&40>O?30:O>39&&50>O?40:50},g.ajaxLoadFlag=!1,d.loadData=function(a,c,d,f){if(g.ajaxLoadFlag)return!1;if(g.pageUI.storedData[c])return g.dispScreen(c,d,f),!1;b.element("#"+d).html('<div class="bg_loading"><p class="loading_circle"></p></div>'),g.mainData={},g.ajaxLoadFlag=!0,g.userAgeGenderSet();var i=g.getHeaderMenuInfo(c),j=m.isTestFlag?m.mainContentData+"."+c:i.url;g.pageUI.lastCallUrl=j;var k={method:"get",url:j,params:{dispNo:c,gender:N,age:P,branch_nm:g.h_branch_nm,branch_no:g.h_branch_no,preview:g.previewDate}};e(k).success(function(a){g.mainData=a})["finally"](function(){g.ajaxLoadFlag=!1,g.pageUI.storedData[c]=g.mainData,isLoadingData&&"contentContainer"!=d?g.dispScreen(c,d,f):"contentContainer"!=d?h(function(){var a=g.getHeaderMenuInfo(c);a.idx==g.pageUI.curMenuIdx&&(isSwipeLock=!1,g.dispScreen(c,"contentContainer",f))},400):""!=d&&g.dispScreen(c,"contentContainer",f)})};var Q;Q=[],g.dispScreen=function(a,d,e){if(a!=c){g.mainData=g.pageUI.storedData[a];var h=g.getHeaderMenuInfo(a),j="";if(g.mainData&&g.mainData.moduleData){isSwipeLock=!1;var k=g.mainData.moduleData;if(g.mainData.moduleData.length>0){if(e!=c&&(g.pageUI.curTabMenuDispNo=a,g.pageUI.rootMenu[h.idx].tabIndex=e),g.pageUI.rootMenu[h.idx].subTab){var l="";g.mainData.colorInfo&&(l=y(g.mainData.colorInfo.lineColor,l)),j+="<div class='"+l+"'><tab-menu-container tab-data=\"pageUI.rootMenu["+h.idx+'].subTab.items" tab-index="pageUI.rootMenu['+h.idx+'].tabIndex"></tab-menu-container></div>'}for(i=0;i<k.length;i++){var m="";g.mainData.colorInfo&&(m+=y(g.mainData.colorInfo.fontColor,m),m+=y(g.mainData.colorInfo.lineColor,m),m+=y(g.mainData.colorInfo.loadingBgColor,m),m+=y(g.mainData.colorInfo.copyBgColor,m)),j+="<div class='"+m+"'> <"+k[i].moduleId.replace(/M/gi,"m")+'-Container page-disp-no="'+a+'" module-data="pageUI.storedData['+a+"].moduleData["+i+']"></'+k[i].moduleId.replace(/M/gi,"m")+"-Container></div>"}}}Q[a]&&(Q[a].$destroy(),Q[a]=null),Q[a]=g.$new(),b.element("#"+d).html(f(j)(Q[a]))}else console.log("undefined screen no")}}]),d.controller("lotteModulesCtrl",["$rootScope","$scope","$window","LotteCommon","LotteUtil",function(b,d,e,f,g){d.rScope=g.getAbsScope(d),d.loginInfo=d.rScope.loginInfo,d.sb_index=1,d.swipeEnd=function(a){d.sb_index=a+1},d.numberFill=function(a,b){var c=""+a,d="00000000000000000";return d.substring(0,b-c.length)+c},d.listDataCheck=function(a){return a==c?!1:!0},d.getDeviceTclickName=function(a){return a.isSktApp?"Tlotte":a.isIOS||a.isIpad?"_iOS":a.isAndroid?"_And":""},d.mainProductClick=function(a,c){if(a){var d=g.setUrlAddBaseParam(f.productviewUrl,b.pageUI.baseParam+"&goods_no="+a+"&curDispNo="+b.pageUI.curDispNo+"&curDispNoSctCd="+b.pageUI.curDispNoSctCd+"&"+b.pageUI.baseParam);e.location.href=d+(c?"&tclick="+c:"")}console.log(" Product Click : ",a,"\n tclick : ",c)},d.moreClick=function(c,d){c&&(a.location.href=g.setUrlAddBaseParam(c,"tclick="+d+"&"+b.pageUI.baseParam)),console.log(" More Click : ",c,"\n tclick : ",d)},d.planClick=function(c,d){c&&(a.location.href=g.setUrlAddBaseParam(c,"tclick="+d+"&"+b.pageUI.baseParam)),console.log(" Plan Click : ",c,"\n tclick : ",d)},d.movieClick=function(c,d){c&&(a.location.href=g.setUrlAddBaseParam(c,"tclick="+d+"&"+b.pageUI.baseParam)),console.log(" Plan Click : ",c,"\n tclick : ",d)},d.mainBannerClick=function(c,d,e){c&&(d?a.open(c):a.location.href=g.setUrlAddBaseParam(c,"tclick="+e+"&"+b.pageUI.baseParam),console.log(" Main Banner Click : ",c,"\n tclick : ",e))},d.swipeBannerClick=function(c,d,e){c&&(d?a.open(c):a.location.href=g.setUrlAddBaseParam(c,"tclick="+e+"&"+b.pageUI.baseParam),console.log(" Banner Click : ",c,"\n tclick : ",e)),console.log(" Swipe Banner Click : ",c,"\n tclick : ",e)},d.categoryClick=function(c,d){c&&(a.location.href=g.setUrlAddBaseParam(c,"tclick="+d+"&"+b.pageUI.baseParam)),console.log(" Category Click : ",c,"\n tclick : ",d)},d.keywordClick=function(c,d){c&&(a.location.href=g.setUrlAddBaseParam(c,"tclick="+d+"&"+b.pageUI.baseParam)),console.log(" Keyword Click : ",c,"\n tclick : ",d)}}]),d.directive("lotteContainer",function(){return{templateUrl:"/lotte/resources_dev/main/main_2017_container.html",replace:!0,link:function(a,b,c){}}}),d.controller("lotteHeaderMainCtrl",["$scope","$window","$http","$timeout","LotteCommon","LotteCookie","commInitData","LotteStorage",function(c,d,e,f,g,h,i,j){function k(){e.get(g.rootMenuData2017,{params:{preview:c.previewDate}}).success(function(a){if(!a.data)return!1;if(!a.data.items)return!1;var b=[],d=0,e=!1;for(d=0;d<a.data.items.length;d++){if(c.pageUI.defaultRendingDispNo==a.data.items[d].dispNo&&(e=!0),a.data.items[d].subTab){var g=a.data.items[d].subTab.items;a.data.items[d].tabIndex=0;for(var h=0;h<g.length;h++)c.pageUI.defaultRendingDispNo==g[h].dispNo&&(e=!0)}b.push(a.data.items[d])}!e&&b[0]&&(c.pageUI.defaultRendingDispNo=b[0].dispNo),c.pageUI.rootMenu=b;var i=c.pageUI.defaultRendingDispNo;c.pageUI.curMenuDispNo&&""!=c.pageUI.curMenuDispNo&&(i=c.pageUI.curMenuDispNo),c.pageUI.curDispNo=i,c.pageUI.curMenuDispNo=i,c.pageUI.curTabMenuDispNo=i,c.sendTclick("m_RDC_category_pv_"+i),f(function(){c.moveMenu(i,!0)},300),c.loadData(0,i,"contentContainer")})["finally"](function(b){if(console.log("finally"),c.appObj.isAndroid&&"mlotte001"==i.query.schema&&c.appObj.verNumber>=223)try{console.timeStamp("앱 스플래시 제거"),a.lottebridge&&a.lottebridge.splashEnd&&a.lottebridge.splashEnd()}catch(d){console.info("앱 스플래시 제거 없음")}})}function l(a){var b=h.getCookie("cartCount"),d=["/mylotte/cart/m/cart_list.do","/order/m/order_complete.do"];b&&""!=b&&a===!0&&-1==d.indexOf(location.pathname+"")&&!i.query.localtest?c.cartCount=parseInt(b):e.get(g.cartCountData2016).success(function(a){h.setCookie("cartCount",a.cart_count),c.cartCount=a.cart_count})}c.stylePushFlag=!1,c.speechSrhFlag=!1,c.showStyleDesc=!1,c.cartCount=0,c.afterInitDataChkDefer.then(function(a){a&&k()}),function(){(c.appObj.isAndroid&&!c.appObj.isSktApp&&c.appObj.verNumber>=259||c.appObj.isAndroid&&c.appObj.isSktApp&&c.appObj.verNumber>=203||c.appObj.isIOS&&!c.appObj.isIpad&&c.appObj.verNumber>=2550||c.appObj.isIOS&&c.appObj.isIpad&&c.appObj.verNumber>=222)&&(c.speechSrhFlag=!0)}(),function(){(c.appObj.isAndroid&&!c.appObj.isSktApp&&c.appObj.verNumber>254||c.appObj.isAndroid&&c.appObj.isSktApp&&c.appObj.verNumber>=202||c.appObj.isIOS&&!c.appObj.isIpad&&c.appObj.verNumber>2529||c.appObj.isIOS&&c.appObj.isIpad&&c.appObj.verNumber>219)&&(c.stylePushFlag=!0)}(),b.element(d).on({load:function(){l(!0)},refreshCartCount:l});var m=!0;c.$on("winScroll",function(b,d){var e=Math.abs(d.scrollPos-c.beforeScrollPos),g=c.screenType>1?c.mainHeaderHeight.tablet:c.mainHeaderHeight.mobile;if(e>5&&m){var h=d.scrollPos>c.beforeScrollPos;c.beforeScrollPos=d.scrollPos,m=!1,h&&d.scrollPos>g?c.pageUI.winScrollHeaderDownFlag=!0:c.pageUI.winScrollHeaderDownFlag=!1,f(function(){m=!0},300)}else d.scrollPos<g&&(c.pageUI.winScrollHeaderDownFlag=!1);if(d.scrollPos>3e3&&1==c.appLpotIconFlag&&c.appObj.isApp&&c.appObj.isAndroid&&!c.appObj.isSktApp&&c.appObj.verNumber>=279){0==c.appLpotIconFlag;try{a.lottebridge.lpot(!1)}catch(i){}}})}]),d.directive("lotteHeaderMain",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","AppDownBnrService",function(a,c,d,e,f,g,h){return{templateUrl:"/lotte/resources_dev/main/lotte_header_main_2017.html",replace:!0,controller:"lotteHeaderMainCtrl",link:function(a,d,f){function i(){j.scrollTop()>=h.appDownBnrInfo.height?a.isMainHeaderFixed=!0:a.isMainHeaderFixed=!1}var j=b.element(c);a.gotoMainHeader=function(){a.gotoMain()},a.gotoCart=function(){c.location.href=e.cartLstUrl+"?"+a.baseParam+"&tclick=m_RDC_header_cartlist"},a.showSrhLayerHeader=function(){a.sendTclick(a.tClickRenewalBase+"header_Clk_Lyr_1"),a.showSrhLayer(!0)},a.showSrhLayer=function(b){b||a.sendTclick(a.tClickBase+"header_Clk_Lyr_2");var d="lottesearch://newsearch",e=a.appObj,f=!1;if(e.isIOS?e.isIpad&&e.verNumber>=237?f=!0:e.verNumber>=2710&&(f=!0):e.verNumber>=279&&(f=!0),f){var h=g.getLocalStorage("latelyGoods");null!=h&&""!=h&&(h=h.replace(/\|/g,","),d+="?latelyGoods="+h)}if(!a.appObj.isApp||a.appObj.isIOS||a.appObj.isOldApp)return a.appObj.isApp&&a.appObj.isIOS&&!a.appObj.isIpad?void(c.location.href=d):a.appObj.isApp&&a.appObj.isIOS&&a.appObj.isIpad&&!a.appObj.isOldApp?void(c.location.href=d):void a.showRecentKeyword();try{c.lottesearch.callAndroid(d)}catch(i){}},a.speechSrhLink=function(){if(a.speechSrhFlag){var b="m_RDC_header_Clk_Btn_voice_";b+=a.appObj.isSktApp?"tlotte":a.appObj.isIOS?"ios":"and",a.sendTclick(b);var d="lottesearch://newsearch/speech",e=a.appObj,f=!1;if(e.isIOS?e.isIpad&&e.verNumber>=237?f=!0:e.verNumber>=2710&&(f=!0):e.verNumber>=279&&(f=!0),f){var h=g.getLocalStorage("latelyGoods");null!=h&&""!=h&&(h=h.replace(/\|/g,","),d+="?latelyGoods="+h)}if(a.appObj.isApp&&!a.appObj.isIOS&&!a.appObj.isOldApp){try{c.lottesearch.callAndroid(d)}catch(i){}return}if(a.appObj.isApp&&a.appObj.isIOS)return void(c.location.href=d)}},a.stylePushLink=function(){if(a.stylePushFlag){var b="m_RDC_header_Clk_Btn_style_";b+=a.appObj.isSktApp?"tlotte":a.appObj.isIOS?"ios":"and",c.location.href=e.stylePushIntroUrl+"?"+a.baseParam+"&tclick="+b}},a.headerMenuClick=function(b){if(a.ajaxLoadFlag)return!1;a.sendTclick("m_RDC_category_click_"+b);var c=a.getHeaderMenuInfo(b);if(a.pageUI.rootMenu[c.idx].subTab){var d=a.pageUI.rootMenu[c.idx].subTab.items;a.loadData(0,d[a.pageUI.rootMenu[c.idx].tabIndex].dispNo,"contentContainer")}else a.loadData(0,b,"contentContainer");a.moveMenu(b),a.pageUI.winScrollHeaderDownFlag?(a.beforeScrollPos=0,j.scrollTop(0)):(a.beforeScrollPos=0,j.scrollTop(0))},a.isMainHeaderFixed=!1,a.$on("winScroll",function(a,b){i()}),a.$watch(function(){return h.appDownBnrInfo.isShowFlag},function(a,b){"undefined"!=typeof a&&i()})}}}]),d.directive("mainMenu",["$timeout",function(a){return{link:function(c,d,e){c.menuLeftChk=!1,c.menuRightChk=!1;var f=b.element("#gnb >nav[lotte-slider]");f.on("slide",function(b){Math.abs(b.posX)>0?c.menuLeftChk=!0:c.menuLeftChk=!1,b.posX>b.wrapWidth-b.contWidth?c.menuRightChk=!0:c.menuRightChk=!1,a(function(){c.$apply()})})}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("tabMenuContainer",["$rootScope","$timeout","$window","$location","LotteUtil","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f,g,h){return{restrict:"AEC",scope:{moduleData:"=",tabData:"=",tabIndex:"="},templateUrl:"/lotte/resources_dev/main/modules/tab_menu.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,c,d){b.rScope=e.getAbsScope(b),b.other_bg="","5570121"==b.rScope.mainData.dispNo?(b.linecolor="#4D8C71",b.bgcolor="#5C997F",b.other_bg="#E7A1A1"):"5570122"==b.rScope.mainData.dispNo?(b.linecolor="#E68A97",b.bgcolor="#D998A3",b.other_bg="#5C997F"):"5570123"==b.rScope.mainData.dispNo?(b.linecolor="#F27C3D",b.bgcolor="#F09461",b.other_bg="#98ADD9"):"5570124"==b.rScope.mainData.dispNo?(b.linecolor="#7291CF",b.bgcolor="#98ADD9",b.other_bg="#F09461"):("5572537"==b.rScope.mainData.dispNo||"5572539"==b.rScope.mainData.dispNo)&&(b.linecolor="#7291CF",b.bgcolor="#98ADD9",b.other_bg="#98ADD9"),b.linecolor=b.bgcolor,b.tabClick=function(c){b.tabIndex=c;var d=b.tabData[c];b.rScope.sendTclick("m_RDC_main_"+d.dispNo+"_Clk_subtab"),a.loadData(0,d.dispNo,"contentContainer",b.tabIndex),b.rScope.setSubTabChangeCurDisp(d.dispNo,d.curDispNoSctCd)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2001Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",templateUrl:"/lotte/resources_dev/main/modules/m2001.html",replace:!0,scope:{moduleData:"="},link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2002Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2002.html",replace:!0,link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2003Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2003.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2004Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2004.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}]),d.filter("myLimitTo",function(){return function(a,b,c){return a.slice(c,c+b)}})}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2005Container",["$timeout","$window","$document","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f,g){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2005.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2006Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},replace:!0,controller:"lotteModulesCtrl",templateUrl:"/lotte/resources_dev/main/modules/m2006.html",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2007Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","arrayService",function(a,b,c,d,e,f,g){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2007.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){if(a.randomItems=[],"F"==a.moduleData.randomCd)if(a.moduleData.items.length>1){var d=a.moduleData.items[0];a.randomItems.push(d);var e=a.moduleData.items.slice(1),f=g.shuffle(e);a.randomItems=a.randomItems.concat(f)}else a.randomItems=a.moduleData.items;else"A"==a.moduleData.randomCd?a.randomItems=g.shuffle(a.moduleData.items):a.randomItems=a.moduleData.items}}}]),d.service("arrayService",function(){this.shuffle=function(a){for(var b,c,d=a.length;d;)c=Math.floor(Math.random()*d--),b=a[d],a[d]=a[c],a[c]=b;return a}}),d.filter("newlinesWithSpace",function(){return function(a){return a.replace(/\n/g," \n ")}})}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2008Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2008.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2009Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","arrayService",function(a,b,c,d,e,f,g){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2009.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){if(a.randomItems=[],"F"==a.moduleData.randomCd)if(a.moduleData.items.length>1){var d=a.moduleData.items[0];a.randomItems.push(d);var e=a.moduleData.items.slice(1),f=g.shuffle(e);a.randomItems=a.randomItems.concat(f)}else a.randomItems=a.moduleData.items;else"A"==a.moduleData.randomCd?a.randomItems=g.shuffle(a.moduleData.items):a.randomItems=a.moduleData.items}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2010Container",["LotteUtil","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f,g){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2010.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,c,d){b.rScope=a.getAbsScope(b),b.showSideCtgHeader=function(a){b.rScope.sendTclick(a),b.rScope.showSideCtgHeader()}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2011Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2011.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2012Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2012.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2013Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2013.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2014Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2014.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}]),d.filter("nl2br",function(){return function(a){return a.replace(/\n/g,"<br /> ")}})}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2015Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2015.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){var d=1;setTimeout(function(){autoVideoPlay("autoVideo1","#autoVideo1",!1,d)},1500)}}}]),d.filter("trusted",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2016Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2016.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2017Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2017.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2018Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2018.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2019Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2019.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2020Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2020.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}]),d.filter("nl2br",function(){return function(a){return a.replace(/\n/g,"<br /> ")}})}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2021Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2021.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2022Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2022.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2023Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2023.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2024Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="
},templateUrl:"/lotte/resources_dev/main/modules/m2024.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2025Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2025.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2026Container",["$rootScope","$timeout","$window","$location","LotteUtil","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f,g,h){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2026.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){a.rScope=e.getAbsScope(a),a.selectIdx=0,a.tabClick=function(b,c){console.log(c),a.selectIdx=c,a.rScope.sendTclick(a.moduleData.tclick+"_Clk_Btn"+a.numberFill(c+1,2))},a.unitShow=!0;for(var d=0;d<a.moduleData.items.length;d++){var f=a.moduleData.items[d].prdList;f.items.length<2&&(a.unitShow=!1)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2027Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2027.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){setTimeout(function(){autoVideoPlay("autoVideo2","#autoVideo2")},1500)}}}]),d.filter("trusted",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2028Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2028.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2029Container",["$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,d,e,f,g,h){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2029.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,d,e){b.limitToCnt=0,b.latelyData={},b.loadData=function(){var d=h.getLocalStorage("latelyGoods");if(null!=d&&d!=c){d=d.replace(/\|/gi,",");var e=f.isTestFlag?"/json/main/main_m2029.json":b.moduleData.jsonCallUrl+"&latest_prod="+d,g={method:"get",url:e};a(g).success(function(a){a.data&&(b.latelyData=a.data,b.latelyData.prdList.items.length>=3&&(b.latelyData.prdList.items.length/6==1?b.limitToCnt=6:b.latelyData.prdList.items.length/3>=1&&(b.limitToCnt=3)))})["finally"](function(){})}},b.loadData(),b.unitShow=!0}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2030Container",["$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,d,e,f,g,h,i){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2030.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,d,e){b.rScope=i.getAbsScope(b),b.loginInfo=b.rScope.loginInfo,b.prdData={},b.loadData=function(){var d=h.getLocalStorage("latelyGoods");if(null!=d&&d!=c){d=d.replace(/\|/gi,",");var e=d.split(",");e.reverse(),d=e.slice(0,6).toString();var g=f.salebestlist_url+"&iids="+d;$.ajax({type:"post",async:!0,url:g,dataType:"jsonp",jsonp:"callback",success:function(c){var d=[];if(null!=c.results&&($(c.results).each(function(a,b){d.push(b.itemId)}),d.length>0)){var e=f.isTestFlag?"/json/main/main_m2030.json":b.moduleData.jsonCallUrl+"&latest_prod="+d.join(","),g={method:"get",url:e};a(g).success(function(a){b.prdData=a.data})}},error:function(a,b,c){console.log("Data Error : 실시간 맞춤 추천 Data로드 실패")}})}},b.loadData()}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2031Container",["$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,d,e,f,g,h,i){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2031.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,d,e){b.rScope=i.getAbsScope(b),b.bannerData={},b.loadData=function(){var d=h.getLocalStorage("latelyGoods");if(null!=d&&d!=c){d=d.replace(/\|/gi,",");var e=d.split(",");e.reverse(),d=e.slice(0,6).toString();var g=f.salebestPaln_url+"&iids="+d;$.ajax({type:"post",async:!0,url:g,dataType:"jsonp",jsonp:"callback",success:function(c){var d=[];if(null!=c.results&&($(c.results).each(function(a,b){d.push(b.itemId)}),d.length>0)){var e=f.isTestFlag?"/json/main/main_m2031.json":b.moduleData.jsonCallUrl+"&spdp_no_list="+d.join(","),g={method:"get",url:e};a(g).success(function(a){b.bannerData=a.data})}},error:function(a,b,c){console.log("Data Error : 추천기획전 로드 실패")}})}},b.loadData()}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2032Container",["$rootScope","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(b,c,d,e,f,g,h,i){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2032.html",replace:!0,controller:"lotteModulesCtrl",link:function(c,d,e){c.bestMoreClick=function(){console.log("bestMoreClick")},c.dispNoClick=function(d,e){d&&(a.location.href=i.setUrlAddBaseParam(f.mainUrl+"?dispNo="+d+"&"+b.pageUI.baseParam,"tclick="+c.moduleData.tclick+"_"+e+"_Swp_more")),console.log(" DispNo Click : ",d)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2033Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,d,e,f,g){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2033.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,d){if(a.unitShow=!0,""==a.moduleData.bdEndTime);else{var e=a.moduleData.bdEndTime;e=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2)+" "+e.substr(8,2)+":"+e.substr(10,2)+":"+e.substr(12,2);var f=new Date(Date.parse(e)).getTime();null!=a.tvtimer&&a.tvtimer!=c&&clearInterval(a.tvtimer),a.tvtimer=setInterval(function(){g()},1e3);var g=function(){var b=f-(new Date).getTime(),c="";if(10>b)clearInterval(a.tvtimer),c="00:00:00",a.unitShow=!1;else{var d=Math.floor(b/60/60/1e3),e=Math.floor(b/60/1e3)%60,g=Math.floor(b/1e3)%60;c+=10>d?"0"+d+":":d+":",c+=10>e?"0"+e+":":e+":",c+=10>g?"0"+g:g}$("#tvTime").text(c)}}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2034Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,c,d,e,f,g){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2034.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,c,d){b.rScope=g.getAbsScope(b),b.moduleData.uiData||(b.moduleData.uiData={tabIdx:parseInt(b.moduleData.items.length*Math.random()),pageDispNo:d.pageDispNo}),a(function(){b.setSliderIdxPos(b.moduleData.uiData.tabIdx,!0)},1e3),b.tabClick=function(a,c){b.moduleData.uiData.tabIdx=c,b.rScope.sendTclick(b.moduleData.tclick+"_"+this.item.dispNo+"_Swp_Bigcate"),b.setSliderIdxPos(b.moduleData.uiData.tabIdx,!1)},b.setSliderIdxPos=function(b,d){a(function(){var a=c.find("div[lotte-slider]"),e=a.find(">ul"),f=e.find(">li"),g=f.eq(b),h=0,i=d?0:200;a.length>0&&e.length>0&&g.length>0&&a.width()<e.width()&&(h=a.width()/2+e.offset().left-(g.offset().left+g.outerWidth()/2),a.scope().lotteSliderMoveXPos(h,i))},300)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2035Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","arrayService","LotteUtil",function(a,c,d,e,f,g,h,i){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2035.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,c,d){if(a.isShowAll=!1,a.randomItems=[],"F"==a.moduleData.randomCd)if(a.moduleData.items.length>1){var e=a.moduleData.items[0];a.randomItems.push(e);var f=a.moduleData.items.slice(1),g=h.shuffle(f);a.randomItems=a.randomItems.concat(g)}else a.randomItems=a.moduleData.items;else"A"==a.moduleData.randomCd?a.randomItems=h.shuffle(a.moduleData.items):a.randomItems=a.moduleData.items;a.showAll=function(){a.isShowAll=!0,b.element(document).find("body").addClass("noscroll"),a.rScope.sendTclick(a.moduleData.tclick+"_Clk_Btn01")},a.showAllClose=function(){a.isShowAll=!1,b.element(document).find("body").removeClass("noscroll")}}}}]),d.filter("newlinesWithSpace",function(){return function(a){return a.replace(/\n/g," \n ")}})}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2036Container",["$rootScope","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,c,d,e,f,g,h){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2036.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,d,f){b.rScope=h.getAbsScope(b),b.selectIdx=0,b.tabClick=function(a,c){b.selectIdx=c,b.rScope.sendTclick(b.moduleData.tclick+"_Swp_idx"+b.numberFill(c+1,2))},b.m36Today="";var g=new Date,i=new Array("일","월","화","수","목","금","토");b.m36Today=g.getMonth()+1+"/"+g.getDate()+"("+i[g.getDay()]+") "+g.getHours()+"시",b.keywordMoreClick=function(d){var f=b.moduleData.items[b.selectIdx].keyword,g=e.searchUrl+"?"+a.$$childHead.baseParam+"&tclick="+d+"&keyword="+f;c.location.href=g}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2037Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2037.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2038Container",["$rootScope","$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,c,d,e,f,g,h,i,j){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2038.html",replace:!0,controller:"lotteModulesCtrl",link:function(e,f,h){function i(){var b={};return b.bigdata="Y",b.dispNo=a.pageUI.curDispNo,b.mbrNo=e.rScope.loginInfo.mbrNo,e.rScope.loginInfo.privateBigDeal&&(b.privateBigDeal=e.rScope.loginInfo.privateBigDeal),b}e.rScope=j.getAbsScope(e),e.loginInfo=e.rScope.loginInfo,e.moduleData.uiData||(e.moduleData.uiData={page:1,tabIdx:0,selectSubIdx:0,isRecomChk:!1,isLastPage:!1,tabDispNo:e.moduleData.ctgList.items[0].dispNo,pageDispNo:h.pageDispNo,lastCallUrl:e.moduleData.ctgList.items[0].linkUrl}),d(function(){e.setSliderIdxPos(e.moduleData.uiData.tabIdx,!0)},100),e.tabClick=function(a,b,c){e.moduleData.uiData.tabIdx=b,e.moduleData.uiData.tabDispNo=this.item.dispNo,e.rScope.sendTclick(e.moduleData.tclick+"_"+this.item.dispNo+"_Clk_Bigcate");var d=g.isTestFlag?"/json/main/main_m2038.json":c;e.loadData(d),e.moduleData.uiData.selectSubIdx=0,e.rScope.pageUI.curDispNoSctCd=this.item.curDispNoSctCd,e.rScope.pageUI.curDispNo=this.item.dispNo,e.setSliderIdxPos(b,!1)},e.subTabClick=function(a,b,c){console.log("subTabClick",a,b),e.moduleData.uiData.selectSubIdx=b,e.moduleData.uiData.tabDispNo=this.item.dispNo,e.rScope.sendTclick(e.moduleData.tclick+"_"+this.item.dispNo+"_Clk_Midcate");var d=g.isTestFlag?"/json/main/main_m2038_2.json":c;e.loadData(d),e.rScope.pageUI.curDispNoSctCd=this.item.curDispNoSctCd,e.rScope.pageUI.curDispNo=this.item.dispNo},e.recomCheck=function(){e.moduleData.uiData.isRecomChk=!e.moduleData.uiData.isRecomChk;var a,b=e.moduleData.ctgList.items[0].linkUrl,c=null,d="get";console.log("$scope.isRecomChk",e.moduleData.uiData.isRecomChk),e.rScope.sendTclick(e.moduleData.tclick+"_Clk_personalization"),e.moduleData.uiData.isRecomChk?(b+="&bigdata=Y",d="post",c=i(),a=g.isTestFlag?"/json/main/main_m2038_3.json":b):a=g.isTestFlag?"/json/main/main_m2038.json":b,e.loadData(a,d,c)},e.loadMoreData=function(){var b=g.isTestFlag?"/json/main/main_m2038.json":e.moduleData.uiData.lastCallUrl+"&page="+e.moduleData.uiData.page,d={method:"get",url:b};e.moduleData.uiData.isRecomChk&&(b+="&bigdata=Y",d.method="post",dataObj=i(),d.data=dataObj),d.url=b,e.ajaxLoadFlag=!0,c(d).success(function(b){if(b.moduleData[0])if(b.moduleData[0].dealList)for(var c=0;c<b.moduleData[0].dealList.items.length;c++)a.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].dealList.items.push(b.moduleData[0].dealList.items[c]);else e.moduleData.uiData.isLastPage=!0})["finally"](function(){e.ajaxLoadFlag=!1})},e.loadData=function(b,d,f){e.moduleData.uiData.page=1,e.moduleData.uiData.isLastPage=!1,e.moduleData.uiData.lastCallUrl=b,console.log("loadData",b);var g={method:"get",url:b};d&&(g.method=d),f&&(g.data=f),e.ajaxLoadFlag=!0,c(g).success(function(b){a.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].blankCd=b.moduleData[0].blankCd,a.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].dealList=b.moduleData[0].dealList,a.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].tclick=b.moduleData[0].tclick,a.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].subCtgList=b.moduleData[0].subCtgList})["finally"](function(){e.ajaxLoadFlag=!1})};var k=b.element("body")[0];e.$on("winScroll",function(a,b){e.moduleData.uiData.isLastPage!==!0&&!e.ajaxLoadFlag&&k.scrollHeight-2*b.winHeight<=b.scrollPos+b.winHeight&&(console.log("more scroll;;;;;"),e.rScope.sendTclick(e.moduleData.tclick+"_"+e.moduleData.uiData.tabDispNo+"_Clk_load"+e.numberFill(e.moduleData.uiData.page+1,2)),e.moduleData.uiData.page++,e.loadMoreData())}),e.setSliderIdxPos=function(a,b){console.log("sliderIdx",a),d(function(){var c=f.find("div[lotte-slider]"),d=c.find(">ul"),e=d.find(">li"),g=e.eq(a),h=0,i=b?0:200;c.length>0&&d.length>0&&g.length>0&&c.width()<d.width()&&(h=c.width()/2+d.offset().left-(g.offset().left+g.outerWidth()/2),c.scope().lotteSliderMoveXPos(h,i))},300)}}}}]),d.filter("dealFlagName",function(){return function(a){var b;switch(a){case"dept":b="롯데백화점";break;case"himart":b="하이마트";break;case"tvhome":b="롯데홈쇼핑";break;case"freeDlv":b="무료배송";break;case"present":b="선물포장";break;case"smartpick":b="스마트픽"}return b}})}(window,window.angular),function(a,b,c){"use strict";var d=b.module("app");d.directive("m2039Container",["$http","$rootScope","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil","LotteUserService",function(a,c,d,e,f,g,h,i,j,k){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2039.html",replace:!0,controller:"lotteModulesCtrl",link:function(e,f,h){e.rScope=j.getAbsScope(e),e.rScope=j.getAbsScope(e),e.loginInfo=e.rScope.loginInfo,e.categoryPageing=function(a,b){var c=[],d=0;c[d]=[];for(var f=0;f<a.length;f++)c[d].push(a[f]),(f+1)%6==0&&(d++,f+1!=a.length&&(c[d]=[])),a[f].isSelect&&(e.moduleData.uiData.selectbox_idx[b]=f);if(a.length%6!=0)for(var f=0;f<6-a.length%6;f++)c[d].push({});return c},e.categoryRepack=function(a){var b={};switch(a){case 0:b=e.categoryPageing(e.moduleData.dep1CtgList.items,0),e.moduleData.cateData[0]=b;break;case 1:b=e.categoryPageing(e.moduleData.dep2CtgList.items,1),e.moduleData.cateData[1]=b;break;case 2:b=e.categoryPageing(e.moduleData.dep3CtgList.items,2),e.moduleData.cateData[2]=b}},e.moduleData.uiData||(e.moduleData.uiData={tabIdx:0,depth_idx:0,selectbox_select_idx:0,selectbox_idx:[],page:1,userSex:"A",userSexIdx:1,userAge:"A",userAgeIdx:1,dispNo:e.moduleData.dep1CtgList.items[0].dispNo,rankingCtgOpenFlag:!1,rankingCtgBoxShow:!1,isLastPage:!1,pageDispNo:h.pageDispNo,lastCallUrl:e.moduleData.dep1CtgList.items[0].linkUrl,showAlert:!1},e.moduleData.cateData=[],e.categoryRepack(0)),d(function(){e.setSliderIdxPos(e.moduleData.uiData.tabIdx,!0)},100),e.genderOpened=!1,e.genderNames=[{txt:"성별"},{txt:"성별 전체",code:"A"},{txt:"여성",code:"F"},{txt:"남성",code:"M"}],e.ageOpened=!1,e.ageNames=[{txt:"연령"},{txt:"연령 전체",code:"A"},{txt:"20대",code:"20"},{txt:"30대",code:"30"},{txt:"40대",code:"40"},{txt:"50대",code:"50"}],e.genderClick=function(){e.genderOpened=!0,e.ageOpened=!1},e.genderItemClick=function(a,b){if(e.genderOpened=e.ageOpened=!1,0!=a){switch(e.moduleData.uiData.userSexIdx=a,a){case 1:e.moduleData.uiData.userSex="A";break;case 2:e.moduleData.uiData.userSex="F";break;case 3:e.moduleData.uiData.userSex="M"}b.stopPropagation(),e.rScope.sendTclick(e.moduleData.tclick+"_"+e.moduleData.uiData.dispNo+"_sort"+e.moduleData.uiData.userSex+"_"+e.moduleData.uiData.userAge),e.loadCategoryData(e.moduleData.uiData.lastCallUrl)}},e.ageClick=function(){e.ageOpened=!0,e.genderOpened=!1},e.ageItemClick=function(a,b){if(e.genderOpened=e.ageOpened=!1,0!=a){switch(e.moduleData.uiData.userAgeIdx=a,a){case 1:e.moduleData.uiData.userAge="A";break;case 2:e.moduleData.uiData.userAge="20";break;case 3:e.moduleData.uiData.userAge="30";break;case 4:e.moduleData.uiData.userAge="40";break;case 5:e.moduleData.uiData.userAge="50"}b.preventDefault(),e.rScope.sendTclick(e.moduleData.tclick+"_"+e.moduleData.uiData.dispNo+"_sort"+e.moduleData.uiData.userSex+"_"+e.moduleData.uiData.userAge),e.loadCategoryData(e.moduleData.uiData.lastCallUrl)}},e.ctgSelectBoxClick=function(a){if(e.moduleData.uiData.rankingCtgOpenFlag&&e.moduleData.uiData.selectbox_select_idx==a)return void(e.moduleData.uiData.rankingCtgOpenFlag=!1);var b=f.find("#rankSwipeCtg2 ul");d(function(){b.scope().resetSwipePos()}),e.moduleData.uiData.rankingCtgOpenFlag=!0,e.moduleData.uiData.selectbox_select_idx=a},e.loadMoreData=function(){var b=g.isTestFlag?"/json/main/main_bestcategory.json":e.moduleData.uiData.lastCallUrl+"&gender="+e.moduleData.uiData.userSex+"&age="+e.moduleData.uiData.userAge+"&page="+e.moduleData.uiData.page,d={method:"get",url:b};e.ajaxLoadFlag=!0,a(d).success(function(a){if(a.moduleData[0])if(a.moduleData[0].prdList)for(var b=0;b<a.moduleData[0].prdList.items.length;b++)c.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].prdList.items.push(a.moduleData[0].prdList.items[b]);else e.moduleData.uiData.isLastPage=!0})["finally"](function(){e.ajaxLoadFlag=!1})},e.loadCategoryData=function(f){e.moduleData.uiData.page=1,e.moduleData.uiData.isLastPage=!1,e.moduleData.uiData.lastCallUrl=f;var h=g.isTestFlag?"/json/main/main_bestcategory.json":f+"&gender="+e.moduleData.uiData.userSex+"&age="+e.moduleData.uiData.userAge+"&page="+e.moduleData.uiData.page,i={method:"get",url:h};e.ajaxLoadFlag=!0,a(i).success(function(a){a.moduleData&&(c.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].prdList=a.moduleData[0].prdList,a.moduleData[0].firstRank&&(c.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].firstRank=a.moduleData[0].firstRank),a.moduleData[0].dep1CtgList&&(c.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].dep1CtgList={},c.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].dep1CtgList=a.moduleData[0].dep1CtgList,e.categoryRepack(0),e.moduleData.uiData.depth_idx=0),a.moduleData[0].dep2CtgList&&(c.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].dep2CtgList={},c.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].dep2CtgList=a.moduleData[0].dep2CtgList,e.categoryRepack(1),e.moduleData.uiData.depth_idx=1,e.moduleData.uiData.selectbox_select_idx=1),a.moduleData[0].dep3CtgList&&(c.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].dep3CtgList={},c.pageUI.storedData[e.moduleData.uiData.pageDispNo].moduleData[0].dep3CtgList=a.moduleData[0].dep3CtgList,e.categoryRepack(2),e.moduleData.uiData.depth_idx=2,e.moduleData.uiData.selectbox_select_idx=2),0!=e.moduleData.uiData.depth_idx&&d(function(){var a=b.element("#rankSwipeCtg"+(e.moduleData.uiData.depth_idx+1)).scope();a.resetSwipePos(),d(function(){e.$apply()})},10))})["finally"](function(){e.ajaxLoadFlag=!1})},e.ctgChange=function(a,b){0==b&&0==this.$index?e.moduleData.uiData.rankingCtgBoxShow=!1:e.moduleData.uiData.rankingCtgBoxShow=!0,e.moduleData.uiData.tabIdx=this.$index,1==b?e.rScope.sendTclick(e.moduleData.tclick+"_"+a.dispNo+"_Midcate"):e.rScope.sendTclick(e.moduleData.tclick+"_"+a.dispNo+"_Bigcate"),e.moduleData.uiData.dispNo=a.dispNo,e.moduleData.uiData.rankingCtgOpenFlag=!1,e.moduleData.uiData.page=1,e.loadCategoryData(a.linkUrl),0==b&&e.setSliderIdxPos(this.$index,!1)},e.bestTipClick=function(){e.moduleData.uiData.showAlert=!e.moduleData.uiData.showAlert,e.rScope.sendTclick(e.moduleData.tclick+"_help")};var i=b.element("body")[0];e.$on("winScroll",function(a,b){e.moduleData.uiData.isLastPage!==!0&&!e.ajaxLoadFlag&&i.scrollHeight-2*b.winHeight<=b.scrollPos+b.winHeight&&(console.log("more scroll;;;;;"),e.moduleData.uiData.page++,e.rScope.sendTclick(e.moduleData.tclick+"_"+e.moduleData.uiData.dispNo+"_load"+e.numberFill(e.moduleData.uiData.page,2)),e.loadMoreData())}),e.setSliderIdxPos=function(a,b){console.log("sliderIdx",a),d(function(){var c=f.find("div[lotte-slider]"),d=c.find(">ul"),e=d.find(">li"),g=e.eq(a),h=0,i=b?0:200;c.length>0&&d.length>0&&g.length>0&&c.width()<d.width()&&(h=c.width()/2+d.offset().left-(g.offset().left+g.outerWidth()/2),c.scope().lotteSliderMoveXPos(h,i))},300)},k.getLoginInfo().isLogin&&"M"==e.loginInfo.genSctCd&&(e.moduleData.uiData.userSexIdx=3,e.moduleData.uiData.userSex="M",e.loadCategoryData(e.moduleData.uiData.lastCallUrl))}}}]),d.filter("rateTypeTxt",function(){return function(a,b){var c;switch(a){case"n":c="NEW";break;case"c":c="-";break;case"u":case"d":c=Math.abs(b)}return c}})}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2040Container",["$rootScope","$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,c,d,e,f,g,h,i){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2040.html",replace:!0,controller:"lotteModulesCtrl",link:function(c,e,g){c.rScope=i.getAbsScope(c),c.loginInfo=c.rScope.loginInfo,c.pageDispNo=g.pageDispNo,c.callBackData={},c.loadData=function(a){var d=f.isTestFlag?"/json/main/main_m2040.json":c.moduleData.jsonCallUrl,g={method:"get",url:d,params:a};b(g).success(function(a){c.callBackData=a.data;var b=e.find("div[lotte-slider]");console.log("slider.scope()",b.scope()),setTimeout(function(){b.scope().reset()},300)})["finally"](function(){})},c.loadData(),c.goBrandSearch=function(b){var c=f.brandSearchUrl+"?"+a.$$childHead.baseParam+"&tclick="+b;d.location.href=c},c.brandClick=function(a,b){var e="";e=c.isMyBrandPopOpen?c.moduleData.tclick+"_ALL_Clk_Brd"+c.numberFill(this.$index+1,2):!c.loginInfo.isLogin||c.callBackData.isBestBrand?c.moduleData.tclick+"_2_Swp_Brd"+c.numberFill(this.$index+1,2):c.moduleData.tclick+"_1_Swp_Brd"+c.numberFill(this.$index+1,2),d.location.href=i.setUrlAddBaseParam(a,"tclick="+e)},c.delBrand=function(a){var b={flag:"d",brnd_no:a};c.loadData(b)},c.addBrand=function(a){var b=c.moduleData.tclick+"_2_Clk_Btn01";if(!c.loginInfo.isLogin)return void c.loginFromThis(b);c.rScope.sendTclick(b);var d={flag:"i",brnd_no:a};c.loadData(d)},c.loginFromThis=function(b){var e=f.loginUrl+"?";e+=a.$$childHead.baseParam,e+="&tclick="+b,e+="&targetUrl=",e+=encodeURIComponent(f.mainUrl+"?"+a.$$childHead.baseParam+"&dispNo="+c.pageDispNo),d.location.href=e},c.myBrandPopOpen=function(){c.rScope.dimmedOpen({target:"popup",callback:this.myBrandPopClose}),c.rScope.sendTclick(c.moduleData.tclick+"_Swp_more"),c.isMyBrandPopOpen=!0},c.myBrandPopClose=function(){c.rScope.dimmedClose({target:"popup"}),c.isMyBrandPopOpen=!1}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2041Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,c,d,e,f,g){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2041.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,c,d){b.rScope=g.getAbsScope(b),b.moduleData.uiData||(b.moduleData.uiData={tabIdx:parseInt(b.moduleData.items.length*Math.random()),pageDispNo:d.pageDispNo}),a(function(){b.setSliderIdxPos(b.moduleData.uiData.tabIdx,!0)},100),b.tabClick=function(a,c){b.moduleData.uiData.tabIdx=c,b.rScope.sendTclick(b.moduleData.tclick+"_Swp_idx"+b.numberFill(c+1,2)),b.setSliderIdxPos(b.moduleData.uiData.tabIdx,!1)},b.setSliderIdxPos=function(b,d){a(function(){var a=c.find("div[lotte-slider]"),e=a.find(">ul"),f=e.find(">li"),g=f.eq(b),h=0,i=d?0:200;a.length>0&&e.length>0&&g.length>0&&a.width()<e.width()&&(h=a.width()/2+e.offset().left-(g.offset().left+g.outerWidth()/2),a.scope().lotteSliderMoveXPos(h,i))},300)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2042Container",["$rootScope","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(b,c,d,e,f,g,h,i){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2042.html",replace:!0,controller:"lotteModulesCtrl",link:function(c,d,e){c.dispNoClick=function(d,e){d&&(a.location.href=i.setUrlAddBaseParam(f.mainUrl+"?dispNo="+d+"&"+b.pageUI.baseParam,"tclick="+c.moduleData.tclick+"_"+e+"_Swp_more")),console.log(" DispNo Click : ",d)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2043Container",["$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,d,e,f,g,h,i){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2043.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,d,e){b.rScope=i.getAbsScope(b),b.loginInfo=b.rScope.loginInfo,b.prdData={},b.loadData=function(){var d=h.getLocalStorage("latelyGoods");if(null!=d&&d!=c){d=d.replace(/\|/gi,",");var e=f.isTestFlag?"/json/main/main_m2029.json":b.moduleData.jsonCallUrl+"&latest_prod="+d,g={method:"get",url:e};a(g).success(function(a){b.prdData=a.data})["finally"](function(){})}},b.loadData()}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2044Container",["$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,d,e,f,g,h,i){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2044.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,d,e){b.rScope=i.getAbsScope(b),b.loginInfo=b.rScope.loginInfo,b.prdData={},b.loadData=function(){var d=h.getLocalStorage("latelyGoods");if(null!=d&&d!=c&&""!=d){d=d.replace(/\|/gi,",");var e=d.split(",");e.reverse(),d=e.slice(0,6).toString();var g=f.salebestlist_url+"&iids="+d;$.ajax({type:"post",async:!0,url:g,dataType:"jsonp",jsonp:"callback",success:function(c){var d=[];if(null!=c.results&&($(c.results).each(function(a,b){d.push(b.itemId)}),d.length>0)){var e=f.isTestFlag?"/json/main/main_m2030.json":b.moduleData.jsonCallUrl+"&latest_prod="+d.join(","),g={method:"get",url:e};a(g).success(function(a){b.prdData=a.data})}},error:function(a,b,c){console.log("Data Error : 실시간 맞춤 추천 Data로드 실패")}})}},b.loadData()}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2045Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2045.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2046Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2046.html",replace:!0,link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2047Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2047.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2048Container",["$rootScope","$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil","LotteCookie",function(a,c,d,e,f,g,h,i,j,h){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2048.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,d,f){a.rScope=j.getAbsScope(a),a.allSubCateClick=function(b){a.allSubCateOpenFlag==b?a.allSubCateOpenFlag=null:a.allSubCateOpenFlag=b},a.cateName=[1,1,1,1],a.cartData={},a.cartSelect=function(b,d,e,f,h,i){if(e>d)return alert("구매 최소수량은 "+e+"개입니다."),!1;if(d>f)return alert("최대 선택 가능한 개수는 "+f+"개 입니다."),!1;a.rScope.sendTclick(a.moduleData.tclick+"_Clk_Cart");var j=g.isTestFlag?"/json/main/main_m2048.json":"/json/mylotte/direct_cart_ins.json?goods_no="+b+"&ord_qty="+d,k={method:"get",url:j};c(k).success(function(c){a.cartData=c,a.resultData(b,h,i)})["finally"](function(){})},a.resultData=function(c,d,f){if(null!=a.cartData.data)if("0000"==a.cartData.data.resultCode){try{b.element(e).trigger("refreshCartCount")}catch(g){}alert(a.cartData.data.resultMsg)}else"9999"==a.cartData.data.resultCode?alert(a.cartData.data.resultMsg):"1000"==a.cartData.data.resultCode?(alert(a.cartData.data.resultMsg),a.mainProductClick(c,f+"_Clk_Prd"+a.numberFill(d+1,2))):alert(a.cartData.data.resultMsg);else alert(a.cartData.error.response_msg)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2049Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2049.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2050Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2050.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2051Container",["$rootScope","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(b,c,d,e,f,g,h,i){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2051.html",replace:!0,controller:"lotteModulesCtrl",link:function(c,d,e){function g(){console.log("calcUnitShow");for(var a=!0,b=0;b<c.moduleData.items.length;b++){var d=c.moduleData.items[b].prdList.items;d.length<4&&(a=!1)}return a}c.rScope=i.getAbsScope(c),c.selectIdx=0,c.tabClick=function(a,b){console.log(b),c.selectIdx=b,c.rScope.sendTclick(c.moduleData.tclick+"_Clk_Btn"+c.numberFill(b+1,2))},c.bestMoreClick=function(){console.log("bestMoreClick")},c.unitShow=g(),c.dispNoClick=function(c,d){c&&(a.location.href=i.setUrlAddBaseParam(f.mainUrl+"?dispNo="+c+"&"+b.pageUI.baseParam,"tclick="+d)),console.log(" DispNo Click : ",c)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2052Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2052.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2053Container",["$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(b,c,d,e,f,g,h,i){
return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2053.html",replace:!0,controller:"lotteModulesCtrl",link:function(c,d,e){c.rScope=i.getAbsScope(c),c.loginInfo=c.rScope.loginInfo,c.presentData={},c.loadData=function(){var a=f.isTestFlag?"/json/main/main_m2053.json":c.moduleData.jsonCallUrl,d={method:"get",url:a};b(d).success(function(a){c.presentData=a.data})["finally"](function(){})},c.loadData(),c.presentWriteClick=function(b,c,d){return d?void(b&&(a.location.href=i.setUrlAddBaseParam(b,"tclick="+c))):(alert("선물 발송완료 후 후기를 작성해주세요."),!1)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2054Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,c,d,e,f,g){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2054.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,c,d){b.rScope=g.getAbsScope(b),b.unitShow=!0,b.moduleData.uiData||(b.moduleData.uiData={tabIdx:parseInt(b.moduleData.items.length*Math.random()),pageDispNo:d.pageDispNo}),a(function(){b.setSliderIdxPos(b.moduleData.uiData.tabIdx,!0)},100);for(var e=0,f=0;f<b.moduleData.items.length;f++){var h=b.moduleData.items[f].prdList;h.items.length<3&&e++}e>=2&&(b.unitShow=!1),b.tabClick=function(a,c){b.moduleData.uiData.tabIdx=c,b.rScope.sendTclick(b.moduleData.tclick+"_Swp_Btn"+b.numberFill(c+1,2)),b.setSliderIdxPos(b.moduleData.uiData.tabIdx,!1)},b.setSliderIdxPos=function(b,d){a(function(){var a=c.find("div[lotte-slider]"),e=a.find(">ul"),f=e.find(">li"),g=f.eq(b),h=0,i=d?0:200;a.length>0&&e.length>0&&g.length>0&&a.width()<e.width()&&(h=a.width()/2+e.offset().left-(g.offset().left+g.outerWidth()/2),a.scope().lotteSliderMoveXPos(h,i))},300)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2055Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,c,d,e,f,g){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2055.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,c,d){b.rScope=g.getAbsScope(b),b.moduleData.uiData||(b.moduleData.uiData={tabIdx:parseInt(b.moduleData.items.length*Math.random()),pageDispNo:d.pageDispNo}),a(function(){b.setSliderIdxPos(b.moduleData.uiData.tabIdx,!0)},100),b.tabClick=function(a,c){b.moduleData.uiData.tabIdx=c,b.rScope.sendTclick(b.moduleData.tclick+"_Swp_idx"+b.numberFill(c+1,2)),b.setSliderIdxPos(b.moduleData.uiData.tabIdx,!1)},b.setSliderIdxPos=function(b,d){a(function(){var a=c.find("div[lotte-slider]"),e=a.find(">ul"),f=e.find(">li"),g=f.eq(b),h=0,i=d?0:200;a.length>0&&e.length>0&&g.length>0&&a.width()<e.width()&&(h=a.width()/2+e.offset().left-(g.offset().left+g.outerWidth()/2),a.scope().lotteSliderMoveXPos(h,i))},300)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2056Container",["$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f,g){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2056.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,c,d){b.prdData={},b.loadData=function(){var c=e.isTestFlag?"/json/main/main_m2056.json":b.moduleData.jsonCallUrl,d={method:"get",url:c};a(d).success(function(a){b.prdData=a.data})["finally"](function(){})},b.loadData()}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2057Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,c,d,e,f,g){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2057.html",controller:"lotteModulesCtrl",replace:!0,link:function(b,c,d){b.rScope=g.getAbsScope(b),b.moduleData.uiData||(b.moduleData.uiData={tabIdx:parseInt(b.moduleData.items.length*Math.random()),pageDispNo:d.pageDispNo}),a(function(){b.setSliderIdxPos(b.moduleData.uiData.tabIdx,!0)},100),b.tabClick=function(a,c){b.moduleData.uiData.tabIdx=c,b.rScope.sendTclick(b.moduleData.tclick+"_"+this.item.dispNo+"_Swp_Bigcate"),b.setSliderIdxPos(b.moduleData.uiData.tabIdx,!1)},b.setSliderIdxPos=function(b,d){console.log("sliderIdx",b),a(function(){var a=c.find("div[lotte-slider]"),e=a.find(">ul"),f=e.find(">li"),g=f.eq(b),h=0,i=d?0:200;a.length>0&&e.length>0&&g.length>0&&a.width()<e.width()&&(h=a.width()/2+e.offset().left-(g.offset().left+g.outerWidth()/2),a.scope().lotteSliderMoveXPos(h,i))},300)}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2058Container",["$rootScope","$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,c,d,e,f,g,h,i){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2058.html",replace:!0,controller:"lotteModulesCtrl",link:function(c,e,g){c.rScope=i.getAbsScope(c),c.loginInfo=c.rScope.loginInfo,c.pageDispNo=g.pageDispNo,c.callBackData={};var h=c.moduleData.linkInfo.couponUrl;c.loadData=function(a){var d=f.isTestFlag?"/json/main/main_m2058.json":h,e={method:"get",url:d,params:a};b(e).success(function(a){c.callBackData=a.data})["finally"](function(){})},c.loadData(),c.linkClick=function(a,b){console.log("linkClick",a),d.location.href=i.setUrlAddBaseParam(a,"tclick="+b)},c.couponDown=function(a){console.log("couponDown",a),c.rScope.sendTclick(c.moduleData.tclick);var d=f.isTestFlag?"/json/main/main_m2058_cpnDown.json":c.callBackData.cpnDownUrl,e={method:"get",url:d};b(e).success(function(a){var b=a.data_set.response_code;switch(b){case"CS":break;case"CD":break;case"CF":}alert(a.data_set.response_msgtxt)})["finally"](function(){c.loadData()})},c.loginFromThis=function(b){var e="&targetUrl="+encodeURIComponent(f.mainUrl+"?"+a.$$childHead.baseParam+"&dispNo="+c.pageDispNo,"UTF-8");d.location.href=f.loginUrl+"?"+a.$$childHead.baseParam+"&dispNo="+c.pageDispNo+"&tclick="+b+e}}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2059Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2059.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2060Container",["$rootScope","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,c,d,e,f,g,h){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2060.html",replace:!0,controller:"lotteModulesCtrl",link:function(b,d,f){b.rScope=h.getAbsScope(b),b.moduleData.uiData||(b.moduleData.uiData={page:1,lotteSelIdx:0,naverSelIdx:0,keywordType:"lotte"}),b.m60Today="";var g=new Date;new Array("일","월","화","수","목","금","토");b.m60Today=g.getMonth()+1+"월 "+g.getDate()+"일 "+g.getHours()+"시 "+g.getMinutes()+"분",b.tabClick=function(a,c){b.moduleData.uiData.keywordType=a,"lotte"==a?(b.moduleData.uiData.lotteSelIdx=c,b.rScope.sendTclick(b.moduleData.tclick+"_Clk_DCSearch_idx"+b.numberFill(c+1,2))):(b.moduleData.uiData.naverSelIdx=c,b.rScope.sendTclick(b.moduleData.tclick+"_Clk_NASearch_idx"+b.numberFill(c+1,2)))},b.keywordMoreClick=function(d,f){b.moduleData.uiData.keywordType=d;var g;g="lotte"==d?b.moduleData.lotteKeywordList.items[b.moduleData.uiData.lotteSelIdx].keyword:b.moduleData.naverKeywordList.items[b.moduleData.uiData.naverSelIdx].keyword;var h=e.searchUrl+"?"+a.$$childHead.baseParam+"&tclick="+f+"&keyword="+g;c.location.href=h},b.keywordTypeClick=function(a){b.moduleData.uiData.keywordType=a,"lotte"==b.moduleData.uiData.keywordType?b.rScope.sendTclick(b.moduleData.tclick+"_Clk_DCSearch_Tab"):b.rScope.sendTclick(b.moduleData.tclick+"_Clk_NASearch_Tab")}}}}]),d.filter("makePositive",function(){return function(a){return Math.abs(a)}})}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2061Container",["$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage",function(a,b,c,d,e,f){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2061.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){}}}])}(window,window.angular),function(a,b,c){var d=b.module("app");d.directive("m2062Container",["$timeout","$window","$document","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil","LotteUserService",function(a,b,c,d,e,f,g,h,i){return{restrict:"AEC",scope:{moduleData:"="},templateUrl:"/lotte/resources_dev/main/modules/m2062.html",replace:!0,controller:"lotteModulesCtrl",link:function(a,b,c){a.rScope=h.getAbsScope(a),a.loginInfo=i.getLoginInfo()}}}])}(window,window.angular),function(a,b,c){"use strict";var d=b.module("lotteSlider",[]);d.controller("LotteSlideCtrl",["$scope",function(b){b.getTranslateXCssObj=function(a,b){var c={"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-transform":"translateX("+a+"px)","-ms-transform":"translateX("+a+"px)","-moz-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)","-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""};return b&&b>0&&(c["-webkit-transition"]="-webkit-transform "+b+"ms",c["-moz-transition"]="-moz-transform "+b+"ms",c["-o-transition"]="-o-transform "+b+"ms",c.transition="transform "+b+"ms"),c},b.removeTranslateCSS=function(){return{"-webkit-backface-visibility":"","-moz-backface-visibility":"","backface-visibility":"","-webkit-transform":"","-ms-transform":"","-moz-transform":"",transform:""}},b.getCoordinates=function(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}},b.getTransXPos=function(b){var c=a.getComputedStyle(b.get(0)),d=new WebKitCSSMatrix(c.webkitTransform);return d.m41}}]),d.directive("lotteSlider",["$window","$timeout","$parse",function(a,c,d){return{controller:"LotteSlideCtrl",link:function(d,e,f,g){function h(){m=k.outerWidth(),l.css({display:"inline-block"}),n=l.outerWidth(),x=-(n-m);var a=d.getTransXPos;(a.x>0||a.x<x)&&i(0,500)}function i(a,b){l.css(d.getTranslateXCssObj(a,b)),k.trigger({type:"slide",posX:a,wrapWidth:m,contWidth:n})}function j(){k.on({"touchstart.lotteSlider":function(a){m=k.outerWidth(),n=l.outerWidth(),y=!1,z=!1,n>m&&(a.stopPropagation(),o=!0,q=d.getCoordinates(a),p=d.getTransXPos(l),t=Date.now())},"touchmove.lotteSlider":function(a){if(o){var b,c;if(r=d.getCoordinates(a),b=Math.abs(r.x-q.x),c=Math.abs(r.y-q.y),y||(z=b>c,y=!0),z){b>5&&a.preventDefault(),a.stopPropagation();var e=p+r.x-q.x;e>0?e/=3:x>e&&(e=x+(e-x)/3),i(e,0)}}},"touchend.lotteSlider":function(a){if(s=d.getCoordinates(a),o&&q.x!=s.x&&(Math.abs(q.x-s.x)>5&&a.preventDefault(),event.stopPropagation(),y=!1,z)){m=k.outerWidth();var b=d.getTransXPos(l);u=Date.now(),w=q.x>s.x?-1:1,v=u-t;var c=Math.abs(q.x-s.x),e=.4,f=c*e/v,g=b+m*f*w;g>0?g=0:x>g&&(g=x),(Math.abs(b-g)>30||0==g||g==x)&&i(g,500)}},"touchcancel.lotteSlider":function(a){}}),b.element(a).on("resize.lotteSlider orientationchange.lotteSlider",function(){h()})}var k=b.element(e),l=k.find(">").eq(0),m=k.width(),n=l.width(),o=!1,p=0,q=null,r=null,s=null,t=0,u=0,v=0,w=0,x=0;d.lotteSliderMoveXPos=function(a,b){m=k.width(),n=l.width(),a>0?a=0:Math.abs(a)>n-m&&(a=-(n-m)),b||(b=0),i(a,b)},d.reset=function(){o=!1,i(0,0),c(function(){h()})};var y=!1,z=!1;c(function(){h(),j()})}}}])}(window,window.angular);var isSwipeActive=!1,isSwipeLock=!1,isLoadingData=!1,LeftSwipeStartExec=!1,RightSwipeStartExec=!1;!function(a,b,c){"use strict";var d=[],e=b.module("lotteNgSwipe",[]);e.controller("lotteNgSwipeCtrl",["$scope",function(a){}]),e.factory("lotteNgSwipe",["$interval","$timeout","$window",function(c,d,e){function f(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}}function g(c,d,e){if(e.SLIDE_SWIPE){var f=d[0].offsetWidth-e.LEFT_MARGIN-e.RIGHT_MARGIN;0==f&&(f=a.innerWidth);var g=f/e.DISP_COUNT,h=0;if(s=d[0].offsetWidth-g-e.LEFT_MARGIN,!(d.find("ul, ol").eq(0).find(">li").length>=1||d.find(">li").length>=1)||e.LOADING_ELEMENT||e.LEFT_ELEMENT||e.RIGHT_ELEMENT)e.LOADING_ELEMENT||b.element(d).eq(0).css(q());else{if(-1!=d.context.className.indexOf("recommond_swipe"))var i=d.find(">li");else var i=d.find("ul, ol").eq(0).find(">li").length>1?d.find("ul, ol").eq(0).find(">li"):d.find(">li");var j=c,k=0,l=null;for(k;k<i.length;j++,k++)l=i.eq(j),h=j>=k||0>j?0>j?g*d.find(">li").length+e.LEFT_MARGIN+(e.EDGE_LAST&&c==i.length-1?s:0):g*k+e.LEFT_MARGIN+(e.EDGE_LAST&&c==i.length-1?s:0):g*-(c-j)+e.LEFT_MARGIN+(e.EDGE_LAST&&c==i.length-1?s:0),-1!=d.context.className.indexOf("latest_swipe")&&a.innerWidth>=640?(f=a.innerWidth,l.css({width:f/2,backfaceVisibility:"hidden",position:"absolute",left:h})):l.css({width:f/e.DISP_COUNT,backfaceVisibility:"hidden",position:"absolute",left:h}),j+1>=d.find(">li").length&&(j=-1);t=i.length,b.element(d).eq(0).css(p(0)),b.element(d).find(">li").css("top",0).eq(0).css("position","relative")}}}function h(a){for(var b={totalwidth:0,width:[],paddingleft:[],marginleft:[],paddingright:[],marginright:[]},c=0;c<a.find(">li").length;c++){var d=a.find(">li:eq("+c+")");b.width[c]=parseInt(d.width()),b.width[c]+=b.marginleft[c]=parseInt(d.css("margin-left")),b.width[c]+=b.marginright[c]=parseInt(d.css("margin-right")),b.width[c]+=b.paddingleft[c]=parseInt(d.css("padding-left")),b.width[c]+=b.paddingright[c]=parseInt(d.css("padding-right")),b.totalwidth+=b.width[c]}return b}function i(b){var c=a.getComputedStyle(b.get(0)),d=new WebKitCSSMatrix(c.webkitTransform);return d.m41}function j(a,c,d,e){isSwipeActive=!0,b.element(a).on(u,function(a){isSwipeActive=!1,c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),b.element(this).css(r()).off(u)}).css(p(0,c.SWIPE_SPEED)),(c.LOADING_ELEMENT||c.LEFT_ELEMENT||c.LEFT_ELEMENT)&&b.element(c.LOADING_ELEMENT).css(p(0,c.SWIPE_SPEED))}function k(c,d,e,f){var g=h(c);if(a.innerWidth-d.LEFT_MARGIN-d.RIGHT_MARGIN>g.totalwidth)return!1;for(var j=a.innerWidth/2,k=g.width[e]/2,m=0,n=0;n<g.width.length&&n!=e;n++)m+=g.width[n];var o=i(c),q=-1*(m-j+k);f?(q>0?q=0:q<-(g.totalwidth-a.innerWidth+d.RIGHT_MARGIN)&&(q=-(g.totalwidth-a.innerWidth+d.RIGHT_MARGIN)),b.element(c).eq(0).css(p(q))):Math.abs(m)>j&&g.totalwidth-a.innerWidth+d.RIGHT_MARGIN>Math.abs(q)?l(c[0],d,o,q):Math.abs(m)<=j?l(c[0],d,o,0):l(c[0],d,o,-1*(g.totalwidth-a.innerWidth)-d.RIGHT_MARGIN)}function l(a,c,d,e){return d==e?!0:(b.element(a).on(u,function(a){c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),b.element(this).css(r()).off(u)}).css(p(e,c.SWIPE_SPEED)),void(c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(p(e,c.SWIPE_SPEED))))}function m(a,c,d,e){isSwipeActive=!0,b.element(a).on(u,function(a){isSwipeActive=!1,c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),b.element(this).css(r()).off(u)}).css(p(d>=0?e:-e,c.SWIPE_SPEED)),c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(p(d>=0?e:-e,c.SWIPE_SPEED))}function n(a,c,d,e,f){return 0>d?f=f+c.DISP_COUNT>c.MAX_SLIDE?c.MAX_SLIDE:f+c.DISP_COUNT:f-=c.DISP_COUNT,c.EDGE_LAST&&(f==t-1||f==t-2&&d>0)&&(e-=s),b.element(a).on(u,function(d){c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),g(f,a,c),b.element(this).css(r()).off(u)}).css(p(d>=0?e:-e,c.SWIPE_SPEED)),c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(p(d>=0?e:-e,c.SWIPE_SPEED)),f}function o(b,c,d){var e=i(b);return e>0?(m(b[0],c,e,0),e=0):Math.abs(e)+a.innerWidth>Math.abs(d.totalwidth)+c.RIGHT_MARGIN&&(m(b[0],c,e,d.totalwidth-a.innerWidth+c.RIGHT_MARGIN),e=-1*(d.totalwidth-a.innerWidth)),e}function p(a,b){var c={"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-transform":"translateX("+a+"px)","-ms-transform":"translateX("+a+"px)","-moz-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)","-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""};return b&&b>0&&(c["-webkit-transition"]="-webkit-transform "+b+"ms",c["-moz-transition"]="-moz-transform "+b+"ms",c["-o-transition"]="-o-transform "+b+"ms",c.transition="transform "+b+"ms"),c}function q(){return{"-webkit-backface-visibility":"","-moz-backface-visibility":"","backface-visibility":"","-webkit-transform":"","-ms-transform":"","-moz-transform":"",transform:""}}function r(a){return a||(a=""),{"-webkit-transition":a,"-moz-transition":a,"-o-transition":a,transition:a}}var s=0,t=0,u="transitionend.ngswipe webkitTransitionEnd.ngswipe oTransitionEnd.ngswipe MSTransitionEnd.ngswipe";return{unbind:function(a){a.off("touchstart.ngswipe mousedown.ngswipe touchcancel.ngswipe touchmove.ngswipe mousemove.ngswipe touchend.ngswipe mouseup.ngswipe")},bind:function(d,g,k){var l,r,u,v,w=d[0],x=!1,y=g.FIRST_INDEX,z=b.element(d).scope(),A=!1,B=!1,C=[],D=0,E=0,F=0,G=!0,H=(g.DISP_COUNT,navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1),I=!0,J=30,K=b.element(e).scrollTop();g.SLIDE_MENU_SWIPE&&b.element(w).css(p(0)),d.on("touchstart.ngswipe mousedown.ngswipe",function(c){if(c.stopPropagation(),H){var j=b.element(e).scrollTop();j+J>K&&K>j-J?I=!0:(I=!1,K=j)}A=!1,B=!1,g.SLIDE_MENU_SWIPE&&(C=h(d),G=a.innerWidth-g.LEFT_MARGIN-g.RIGHT_MARGIN>C.totalwidth?!1:!0),isSwipeLock||G&&(a.innerWidth>=900&&g.RESPONSIVE_SWIPE?g.DISP_COUNT=g.RESPONSIVE_SWIPE_900:a.innerWidth>=640&&g.RESPONSIVE_SWIPE?g.DISP_COUNT=g.RESPONSIVE_SWIPE_640:g.RESPONSIVE_SWIPE&&(g.DISP_COUNT=g.RESPONSIVE_SWIPE_320),g.MAX_SLIDE=d.find(">li").length-1,(!(g.MAX_SLIDE<1)||g.LOADING_ELEMENT||g.LEFT_ELEMENT||g.RIGHT_ELEMENT)&&(u=f(c),u.x+=g.EDGE_LAST&&y==t-1?s:0,x=!0,l=0,r=0,isSwipeActive=!0,v=u,y=z.swipeIdx,E=(new Date).getTime(),g.SLIDE_MENU_SWIPE&&(C=h(d),D=i(d)),k.start&&k.start(u,c),g.LOADING_ELEMENT&&b.element(g.LOADING_ELEMENT).css({position:"fixed",zIndex:g.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-w.offsetTop,height:a.innerHeight-w.offsetTop,width:"100%",left:w.offsetWidth,right:"auto"}).removeClass("none"),g.LEFT_ELEMENT&&b.element(g.LEFT_ELEMENT).css({position:"fixed",zIndex:g.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-w.offsetTop,height:a.innerHeight-w.offsetTop,width:"100%",left:w.offsetWidth,right:"auto"}).removeClass("none"),g.RIGHT_ELEMENT&&b.element(g.RIGHT_ELEMENT).css({position:"fixed",zIndex:g.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-w.offsetTop,height:a.innerHeight-w.offsetTop,width:"100%",left:w.offsetWidth,right:"auto"}).removeClass("none")))}),d.on("touchcancel.ngswipe",function(a){x=!1,j(w,g,u,v)}),d.on("touchmove.ngswipe mousemove.ngswipe",function(a){if(x&&G&&u){var c=f(a);c.x+=g.EDGE_LAST&&y==t-1?s:0,l+=Math.abs(c.x-v.x),r+=Math.abs(c.y-v.y),v=c;var d,e;d=Math.abs(c.x-u.x),e=Math.abs(c.y-u.y),A||(B=d>e,A=!0);var h=v.x-u.x;if(h>0?a.moveto="right":a.moveto="left",B&&(I||!H)){a.preventDefault(),a.stopPropagation();g.SLIDE_MENU_SWIPE?b.element(w).css(p(c.x-u.x+D)):b.element(w).css(p(c.x-u.x)),g.LOADING_ELEMENT&&b.element(g.LOADING_ELEMENT).css(b.extend({left:c.x-u.x<=0?w.offsetWidth:"auto",right:c.x-u.x<=0?"auto":w.offsetWidth},p(c.x-u.x))),"left"==a.moveto?(g.RIGHT_ELEMENT&&b.element(g.RIGHT_ELEMENT).css(b.extend({left:c.x-u.x<=0?w.offsetWidth:"auto",right:c.x-u.x<=0?"auto":w.offsetWidth},p(0))),g.LEFT_ELEMENT&&b.element(g.LEFT_ELEMENT).css(p(0))):(g.LEFT_ELEMENT&&b.element(g.LEFT_ELEMENT).css(b.extend({left:c.x-u.x<=0?w.offsetWidth:"auto",right:c.x-u.x<=0?"auto":w.offsetWidth},p(0))),g.RIGHT_ELEMENT&&b.element(g.RIGHT_ELEMENT).css(p(0))),k.move&&k.move(c,a)}}}),d.on("touchend.ngswipe mouseup.ngswipe",function(h){if(h.stopPropagation(),A=!1,B&&(I||!H)){if(!x||!G)return;x=!1,isSwipeActive=!1;var i=d[0].offsetWidth,l=Math.abs(v.x-u.x),r=v.x-u.x;if(F=(new Date).getTime(),r>0?h.moveto="right":h.moveto="left",h.max=g.MAX_SLIDE,g.SLIDE_MENU_SWIPE){var z=v.x-u.x+D,J=-80,L="left"==h.moveto?z+J:z-J,M="left"==h.moveto?-5:5;if(Math.abs(v.x-u.x)>5&&400>=F-E)var N=c(function(){z+=M,b.element(d).eq(0).css(p(z)),(L>=z&&"left"==h.moveto||z>=L&&"right"==h.moveto||z>0||z<=-C.totalwidth+a.innerWidth)&&(D=o(d,g,C),c.cancel(N))},10);else D=o(d,g,C)}else if(i*g.MAX_RATIO<=l){if(g.SLIDE_SWIPE){if(y>=g.MAX_SLIDE&&0>r||0>y&&r>0||0==y&&r>0||g.MAX_SLIDE+1<=g.DISP_COUNT||y+g.DISP_COUNT>g.MAX_SLIDE&&"left"==h.moveto)return void j(w,g,u,v+(g.EDGE_LAST&&y==t-1?s:0));if(g.SLIDE_SWIPE)var i=i-g.LEFT_MARGIN-g.RIGHT_MARGIN;y=n(d,g,r,i,y),h.idx=y}else m(w,g,r,i);var O=f(h);O.x+=g.EDGE_LAST&&y==t-1?s:0;k.end&&k.end(O,h)}else j(w,g,u,v),b.element(d).eq(0).css(q())}H&&(K=b.element(e).scrollTop(),I=!0),u=null})},moveSwipeX:n,positionReCalc:g,resetSwipe:j,moveMenuSwipe:k,getListInfo:h}}]),e.directive("lotteNgListSwipe",["$window","$parse","$timeout","lotteNgSwipe",function(e,f,g,h){return{link:function(i,j,k){function l(a,b){var c={"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-transform":"translateX("+a+"px)","-ms-transform":"translateX("+a+"px)","-moz-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)","-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""};return b&&b>0&&(c["-webkit-transition"]="-webkit-transform "+b+"ms",c["-moz-transition"]="-moz-transform "+b+"ms",c["-o-transition"]="-o-transform "+b+"ms",c.transition="transform "+b+"ms"),c}function m(){var c=j[0];if(a.innerWidth>=900&&p.RESPONSIVE_SWIPE?p.DISP_COUNT=p.RESPONSIVE_SWIPE_900:a.innerWidth>=640&&p.RESPONSIVE_SWIPE?p.DISP_COUNT=p.RESPONSIVE_SWIPE_640:p.RESPONSIVE_SWIPE&&(p.DISP_COUNT=p.RESPONSIVE_SWIPE_320),p.LOADING_ELEMENT&&b.element(p.LOADING_ELEMENT).css("min-height",a.innerHeight-c.offsetTop+"px"),p.LEFT_ELEMENT&&b.element(p.LEFT_ELEMENT).css("min-height",a.innerHeight-c.offsetTop+"px"),p.RIGHT_ELEMENT&&b.element(p.RIGHT_ELEMENT).css("min-height",a.innerHeight-c.offsetTop+"px"),0!=i.swipeIdx&&p.DISP_COUNT>1){var d=i.swipeIdx%p.DISP_COUNT;0!=d&&(i.swipeIdx-=d)}if(i.swipeBulletIdx=parseInt(i.swipeIdx/p.DISP_COUNT),p.SLIDE_MENU_SWIPE){var e=h.getListInfo(j);e.width.length>1&&a.innerWidth-p.LEFT_MARGIN-p.RIGHT_MARGIN>e.totalwidth&&b.element(c).css(l(0))}p.LOADING_ELEMENT&&b.element(p.LOADING_ELEMENT).css({position:"fixed",zIndex:p.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-c.offsetTop,height:a.innerHeight-c.offsetTop,width:"100%",left:c.offsetWidth,right:"auto"}).removeClass("none"),p.LEFT_ELEMENT&&b.element(p.LEFT_ELEMENT).css({position:"fixed",zIndex:p.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-c.offsetTop,height:a.innerHeight-c.offsetTop,width:"100%",left:c.offsetWidth,right:"auto"}).removeClass("none"),p.RIGHT_ELEMENT&&b.element(p.RIGHT_ELEMENT).css({position:"fixed",zIndex:p.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-c.offsetTop,height:a.innerHeight-c.offsetTop,width:"100%",left:c.offsetWidth,right:"auto"}).removeClass("none"),i.ngswipeInit(),h.positionReCalc(i.swipeIdx,j,p)}function n(a,b){if(!(LeftSwipeStartExec&&"left"==a.moveto||RightSwipeStartExec&&"right"==a.moveto)){"left"==a.moveto?LeftSwipeStartExec=!0:RightSwipeStartExec=!0;var c=null;i.$apply(function(){return c=q(i.$parent,{$event:{idx:a.idx,max:b.MAX_SLIDE,moveto:a.moveto}})})}}function o(a,c){if(isSwipeActive)return g(function(){o(a,c)},100),!1;var d=null;i.$apply(function(){return d=r(i.$parent,{$event:{idx:a.idx,max:c.MAX_SLIDE,moveto:a.moveto}}),"translateX_Reset"==d&&g(function(){b.element(j).eq(0).css(l(0))},500),d})}var p={MAX_RATIO:k.swipeMaxRatio?k.swipeMaxRatio:.3,MIN_DISTANCE:k.swipeMinDistance?k.swipeMinDistance:25,SWIPE_LOOP:k.swipeLoop?k.swipeLoop:!1,LEFT_ELEMENT:k.swipeLeftEl?k.swipeLeftEl:null,RIGHT_ELEMENT:k.swipeRightEl?k.swipeRightEl:null,LOADING_ELEMENT:k.swipeLoadingEl?k.swipeLoadingEl:null,LOADING_ELEMENT_ZINDEX:k.swipeLoadingElZindex?k.swipeLoadingElZindex:50,SLIDE_SWIPE:k.swipeSlideItem?k.swipeSlideItem:!1,SLIDE_MENU_SWIPE:k.swipeSlideMenu?k.swipeSlideMenu:!1,RESPONSIVE_SWIPE:k.swipeResponsive?k.swipeResponsive:!1,RESPONSIVE_SWIPE_320:parseInt(k.swipeResponsive320)?parseInt(k.swipeResponsive320):1,RESPONSIVE_SWIPE_640:parseInt(k.swipeResponsive640)?parseInt(k.swipeResponsive640):2,RESPONSIVE_SWIPE_900:parseInt(k.swipeResponsive900)?parseInt(k.swipeResponsive900):2,AUTO_HEIGHT:k.swipeAutoheight?k.swipeAutoheight:!1,DISP_COUNT:k.swipeDispCount?parseInt(k.swipeDispCount):1,FIRST_INDEX:k.swipeFirstIndex?parseInt(k.swipeFirstIndex):0,LEFT_MARGIN:k.swipeLeftMargin?parseInt(k.swipeLeftMargin):0,RIGHT_MARGIN:k.swipeRightMargin?parseInt(k.swipeRightMargin):0,START_EXEC:k.swipeStartExec?k.swipeStartExec:null,EXEC:k.swipeEndExec?k.swipeEndExec:null,LIST_SCOPE:k.swipeListModel?k.swipeListModel:null,SWIPE_ID:k.swipeId?k.swipeId:"",MAX_SLIDE:0,SWIPE_SPEED:k.swipSpeed?k.swipSpeed:150,IGNORE_DESTORY:k.ignoreDestory?k.ignoreDestory:!1,EDGE_LAST:k.swipeEdgeLast?!0:!1};i.swipeIdx=p.FIRST_INDEX,i.swipeBulletIdx=parseInt(i.swipeIdx/p.DISP_COUNT),i.swipeBullet=[];var q=null,r=null;if(null!=p.START_EXEC&&(q=f(p.START_EXEC)),null!=p.EXEC&&(r=f(p.EXEC)),p.RESPONSIVE_SWIPE&&(p.DISP_COUNT=p.RESPONSIVE_SWIPE_320),p.SLIDE_MENU_SWIPE&&(i.moveMenuSwipe=function(a){i.moveMenuSwipeFnc(a,!1)},i.moveMenuSwipeFnc=function(a,b){h.moveMenuSwipe(j,p,a,b)}),p.SLIDE_MENU_SWIPE||p.SLIDE_SWIPE||(i.translateX_Reset=function(){console.log("스와이프 좌표 리셋"),b.element(j).eq(0).css(l(0)),p.LOADING_ELEMENT&&b.element(p.LOADING_ELEMENT).css(l(0))}),i.setSlide=function(a){0>a?a=p.MAX_SLIDE:a>p.MAX_SLIDE&&(a=0),i.swipeIdx=a,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC))},i.goSlide=function(a){h.positionReCalc(a,j,p),i.swipeIdx=i.swipeBulletIdx=a,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC))},i.nextSlide=function(){i.swipeIdx!=p.MAX_SLIDE&&(h.moveSwipeX(j,p,-1,j[0].offsetWidth-10,i.swipeIdx),i.swipeIdx+=p.DISP_COUNT,i.swipeBulletIdx++,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC)))},i.beforeSlide=function(){0!=i.swipeIdx&&(h.moveSwipeX(j,p,1,j[0].offsetWidth-10,i.swipeIdx),i.swipeIdx-=p.DISP_COUNT,i.swipeBulletIdx--,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC)))},i.ngswipeInit=function(){if(p.SLIDE_SWIPE){i.swipeBullet=[],p.MAX_SLIDE=j.find(">li").length;for(var a=0;a<p.MAX_SLIDE/p.DISP_COUNT;a++)i.swipeBullet.push(a)}p.MAX_SLIDE<i.swipeIdx?(i.swipeIdx=p.FIRST_INDEX,i.swipeBulletIdx=parseInt(p.FIRST_INDEX/p.DISP_COUNT),h.positionReCalc(i.swipeIdx,j,p),g(function(){i.$apply()})):i.swipeIdx||(i.swipeBulletIdx=parseInt(p.FIRST_INDEX/p.DISP_COUNT),i.swipeIdx=p.FIRST_INDEX,g(function(){i.$apply()}))},i.resetSwipePos=function(){h.positionReCalc(i.swipeIdx,j,p)},null!=p.LIST_SCOPE){var s=null;i.$watch(p.LIST_SCOPE,function(a,b){if(a!=c&&a.length>=1){if(s!=a[0]&&(i.swipeIdx=0,i.swipeBulletIdx=0,s=a[0]),"recommondSwipe_0"==k.swipeId||"lastestSwipe_0"==k.swipeId)var d=2e3;else var d=100;g(function(){i.ngswipeInit(),h.positionReCalc(i.swipeIdx,j,p)},d)}},!0)}m(),-1==d.indexOf(p.SWIPE_ID)&&d.push(p.SWIPE_ID);var t=b.element(e);t.on("orientationchange.ngswipe resize.ngswipe",m),i.$on("$destroy",function(){h.unbind(j)}),h.bind(j,p,{start:function(a,b){},move:function(a,b){return null!=p.START_EXEC?(isLoadingData=!0,n(b,p)):void 0},cancel:function(){isLoadingData=!1},end:function(a,b){return isLoadingData=!1,LeftSwipeStartExec=!1,RightSwipeStartExec=!1,i.swipeIdx=b.idx?b.idx:0,i.swipeBulletIdx=parseInt(b.idx/p.DISP_COUNT),i.$apply(),null!=p.EXEC?o(b,p):void 0}})}}}])}(window,window.angular);var callDownCpn;!function(a,b,c){"use strict";var d=b.module("lotteMainPop",[]);d.controller("lotteMainPopCtrl",["$scope","$window","$location","$http","LotteCommon","LotteUtil","LotteCookie","LotteStorage","AppDownBnrService","LotteLink","commInitData",function(a,c,d,e,f,g,h,i,j,k,l){a.loadMainPopup=function(d){function m(){e.get(f.mainPopupData,{params:o}).success(function(b){if(!i.getSessionStorage("appDownBnrHide")&&!a.appObj.isApp){var c=j.appDownBnrLoadDefer;b.app_down_popup&&b.app_down_popup.length>0&&c.resolve(b.app_down_popup)}a.mainPop=b.current_page_popup,a.hideActionBar=g.isApp()&&"F"==a.mainPop.ppp_prt_tp_cd&&"20"!=d.pppTgtPgCd&&"30"!=d.pppTgtPgCd?!0:!1,0!=a.mainPop.ppp_sn&&(callDownCpn=function(){a.dupCouponIssue("88045"),a.sendTclick("m_abtest_naverbanner_01")},a.dupCouponIssue=function(b){if(a.loginInfo.isLogin)b.length>0&&e({url:f.couponRegCouponData+"?"+a.baseParam,data:"cpn_issu_no="+b,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).success(function(b){b.result=b.result.replace("\\n"," "),"undefined"!=typeof g.getParameter("cn")&&"140924"==g.getParameter("cn")&&b.result.indexOf("발급받은")>-1?(alert("이달의 앱 쿠폰을 모두 받으셨습니다. 참좋은혜택 등급 쿠폰도 확인하세요!"),location.href=f.gdBenefitUrl+"?"+a.baseParam):alert(b.result),a.popClose()}).error(function(a){"1000"==a.error.response_code?alert(a.error.response_msg):ajaxResponseErrorHandler(a,function(){})});else{var c="?"+a.baseParam;c+="&targetUrl="+encodeURIComponent(location.href),i.setSessionStorage("alliancePopupPPPSN",a.mainPop.ppp_sn),location.href=f.loginUrl+c}},a.cookieName=a.mainPop.cookie_nm,null!=i.getSessionStorage("alliancePopupPPPSN")&&a.loginInfo.isLogin?a.dupCouponIssue(a.mainPop.cpn_no):a.screenType>1&&10==d.pppTgtPgCd||(a.isOpenPop=!0,a.popOpen()),i.delSessionStorage("alliancePopupPPPSN"))}).error(function(a){console.log("Error Data :  메인팝업")})}var n=l.query,o={ppp_tgt_pg_cd:d.pppTgtPgCd,cn:n.cn,udid:n.udid,schema:n.schema};g.getParameter("testDate")&&(o.testDate=g.getParameter("testDate")),a.hideActionBar=!1,a.cookieName=null,a.appActionBarHide=function(){a.appObj.isApp&&a.hideActionBar&&(location.href="lottebridge://lotteapps/fullscreenhide")},a.appActionBarShow=function(){a.appObj.isApp&&a.hideActionBar&&(location.href="lottebridge://lotteapps/fullscreenshow")},a.popOpen=function(){b.element(".main_popup").show()},a.popClose=function(){a.sendTclick("m_RDC_popup_Close"),b.element(".main_popup").remove()},a.popToday=function(){a.sendTclick("m_RDC_popup_stoptoday"),h.setCookie(a.cookieName,"Y",1),a.popClose()},a.chkAlliancePopupObj={flag:!0,imgPath:"",deepLinkFlag:!0,tclick:""},a.closeAlliancePopup=function(){a.chkAlliancePopupObj.flag=!1},a.allianceExcuteApp=function(b){var c=a.chkAlliancePopupObj.deepLinkFlag?null:"http://m.lotte.com";a.chkAlliancePopupObj.tclick?a.chkAlliancePopupObj.tclick:null;k.appDeepLink("lotte",c,a.chkAlliancePopupObj.tclick,b)},b.element(c).on("load",m)}}]),d.config(["$compileProvider",function(a){a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|javascript):/)}]),d.directive("lotteMainPopup",["$window",function(a){return{templateUrl:"/lotte/resources_dev/layer/main_popup.html",controller:"lotteMainPopCtrl",replace:!0,link:function(a,b,c){a.isOpenPop=!1,a.loadMainPopup(c)}}}]),d.controller("appDownBnrCtrl",["$scope","AppDownBnrService",function(a,b){a.appBnrInfo=null,b.appDownSettingData().then(function(b){a.appBnrInfo=b})}]),d.directive("appDownBnr",["$location","LotteLink","LotteStorage","AppDownBnrService",function(a,b,c,d){return{templateUrl:"/lotte/resources_dev/layer/app_down_bnr.html",controller:"appDownBnrCtrl",replace:!0,link:function(e,f,g){e.appDown=function(){var c=null,f=d.appDownBnrInfo.linkUrl+"",g=""!=d.appDownBnrInfo.tclick?d.appDownBnrInfo.tclick:null;"./"!=f&&(c="http"==f.substring(0,4)?d.appDownBnrInfo.linkUrl:"/"==f.substring(0,1)?a.protocol()+"://"+a.host()+f:a.protocol()+"://"+a.host()+"/"+f),g&&e.sendTclick(g),b.appDeepLink("lotte",c,null,d.appDownBnrInfo.referrer)},e.appDownBnrClose=function(){return c.setSessionStorage("appDownBnrHide",!0),d.appDownBnrInfo.isShowFlag=!1,!1}}}}])}(window,window.angular),function(a,b,c){
"use strict";var d=b.module("lotteDoubleCoupon",[]);d.controller("lotteCouponLayerCtrl",["$scope","$http","$window","LotteCommon",function(a,b,c,d){a.procDownDoubleCoupon=function(){var e={cn:a.srhObj.cn,cpn_issu_no:a.couponLayer.cpnNo,dup_cpn_yn:"double_coupon"==a.couponLayer.cpnType?"Y":"N",mbrNo:a.loginInfo.mbrNo,gradeCd:a.loginInfo.gradeCd};b.get(d.downDoubleCoupon,{params:e}).success(function(a){a.message&&alert(a.message),a.gopage&&(c.location.href=a.gopage)}).error(function(){console.log("Error 중복쿠폰 다운로드")})}}]),d.directive("lotteCouponLayer",["$window","$timeout","LotteCookie",function(a,d,e){return{templateUrl:"/lotte/resources_dev/layer/layer_coupon.html",controller:"lotteCouponLayerCtrl",replace:!0,link:function(f,g){var h=f.$watch("couponLayer",function(){if(f.couponLayer!=c){var g=b.element(".coupon_layer_s");"no"==e.getCookie(f.couponLayer.cookieNm)?g.remove():"double_coupon"==f.couponLayer.cpnType&&d(function(){g.css({top:a.innerHeight/2-g.outerHeight()/2+"px"})},500),h()}});f.setToDayNotView=function(){e.setCookie(f.couponLayer.cookieNm,"no",1),f.closeDoubleCouponLayer()},f.closeDoubleCouponLayer=function(){b.element(".coupon_layer_s").remove()},f.downDoubleCoupon=function(){return f.loginInfo.isLogin?void(""!=f.couponLayer.cpnNo&&f.couponLayer.cpnNo!=c&&f.procDownDoubleCoupon()):(f.loginProc(),!1)},f.goAppStore=function(){var b="";f.appObj.isAndroid?b="market://details?id=com.lotte&referrer=000001":f.appObj.isIOS&&("iPhone"==f.appObj.iOsType?b="http://itunes.apple.com/app/id376622474":"iPad"==f.appObj.iOsType&&(b="http://itunes.apple.com/app/id447799601")),""!=b&&(a.location.href=b)}}}}])}(window,window.angular);
!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter","angular-carousel"]);d.controller("OrdMsgSettingCtrl",["$window","$scope","$http","LotteCommon",function(a,b,c,d){b.showWrap=!0,b.contVisible=!0,b.subTitle="주문정보 수신 설정",b.mbrNo="",b.ordSmsYn="",b.telNum="",b.site_no="1",c.get(d.ordMsgUserSettingData).success(function(a){return a&&a.ord_msg_info?(b.mbrNo=a.ord_msg_info.mbrNo,b.ordSmsYn=a.ord_msg_info.ordSmsYn,void(b.telNum=a.ord_msg_info.telNum)):!1}).error(function(){console.log("Data Error : 주문정보 수신 설정 데이터 오류")})}]),d.directive("lotteContainer",["$http","LotteCommon",function(a,b){return{templateUrl:"/lotte/resources_dev/mylotte/sub/ord_msg_setting_container.html",replace:!0,link:function(c,d,e){function f(a){return a+="",a.length<2&&(a="0"+a),a}c.btnMsgTypeClick=function(d){if(d==c.ordSmsYn)return!1;var e="",g="";if("N"==d?(g="카카오톡으",e="N"):(g="문자(SMS)",e="Y"),confirm("주문/배송 메시지를 "+g+"로 받으시겠습니까?")){var h={mbrNo:c.mbrNo,ordSmsYn:e,telNum:c.telNum};a.get(b.ordMsgSetting+"?mbrNo="+h.mbrNo+"&ordSmsYn="+h.ordSmsYn+"&telNum="+h.telNum).success(function(a){if(a&&a.ord_msg_info&&"0000"==a.ord_msg_info.resultCode){var b=new Date,d="";d=b.getFullYear()+"년 ",d+=f(b.getMonth()+1)+"월 ",d+=f(b.getDate())+"일 ",d+=f(b.getHours())+"시 ",alert(d+"부터 "+g+"로 주문/배송 메시지가 발송됩니다."),c.ordSmsYn=e}else console.log(a)}).error(function(){console.log("주문정보 수신 설정 세팅 오류")})}}}}}])}(window,window.angular);
!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteSideMylotte","lotteCommFooter"]);d.controller("ReviewFavoriteCtrl",["$scope","LotteCommon","LotteGA",function(a,b,c){a.showWrap=!0,a.contVisible=!0,a.subTitle="즐겨찾는 리뷰어",a.dummyUrl="http://image.lotte.com/lotte/mo2018/reviews/default_profile.png",a.gaCtgName="MO_내상품평_즐겨찾는리뷰어",a.pageUI={sort:"D",mode:0,loadData:null}}]),d.directive("onErrorSrc2",function(){return{link:function(a,b,c){b.bind("error",function(){c.curIndex&&a.pageUI.loadData.reviewerList.items[c.curIndex-1].reviewerImgUrl!=a.dummyUrl&&(a.pageUI.loadData.reviewerList.items[c.curIndex-1].reviewerImgUrl=a.dummyUrl)})}}}),d.directive("lotteContainer",["$http","$timeout","LotteCommon","LotteGA","LotteForm",function(a,b,c,d,e){return{templateUrl:"/lotte/resources_dev/product/m/review_favorite_container.html",replace:!0,link:function(f,g,h){function i(a){return 10>a?"0"+a:a}(f.loadData=function(b){b&&d.evtTag(f.gaCtgName,b,"N"==f.pageUI.sort?"가나다순":"최근즐겨찾은순"),f.jsonLoading=!0,a.get(c.isTestFlag?"/json/comment/favorite_reviewer_all.json":c.favoriteReviewerList,{params:{all_view_yn:"Y",sort:f.pageUI.sort}}).success(function(a){a.favoriteReviewer&&(f.pageUI.loadData=a.favoriteReviewer)}).error(function(){console.log("Data Error : 즐겨찾는 리뷰어 데이터 로드 실패")})["finally"](function(){f.jsonLoading=!1})})(),f.editFavorite=function(){f.pageUI.mode=1,d.evtTag(f.gaCtgName,"편집버튼","편집")},f.clearFavorite=function(){for(var a=0;a<f.pageUI.loadData.reviewerList.items.length;a++)f.pageUI.loadData.reviewerList.items[a].checked=!1;f.pageUI.mode=0,d.evtTag(f.gaCtgName,"편집버튼","취소버튼")},f.delFavorite=function(){d.evtTag(f.gaCtgName,"편집버튼","삭제버튼");for(var a="",b=0;b<f.pageUI.loadData.reviewerList.items.length;b++){var g=f.pageUI.loadData.reviewerList.items[b];g.checked&&(a+=(""!=a?",":"")+g.reviewerMbrNo)}a&&confirm("즐겨찾는 리뷰어 목록에서 삭제하시겠습니까?")&&e.FormSubmitForAjax(c.delFavReviewer,{revr_mbr_no_list:a}).success(function(a){a.data&&a.data.resultCode&&"01"==a.data.resultCode&&(f.mode=0,f.loadData()),a.data.resultMsg&&alert(a.data.resultMsg)}).error(function(){console.log("Data Error : 즐겨찾는 리뷰어 삭제 실패")})["finally"](function(){f.jsonLoading=!1})},f.goReviewerHome=function(a,c){d.evtTag(f.gaCtgName,"리뷰어 홈 가기","리뷰어_"+i(c),a.reviewerMbrNo),a.reviewerHomeUrl&&b(function(){location.href=a.reviewerHomeUrl.indexOf("?")>-1?a.reviewerHomeUrl+"&"+f.baseParam:a.reviewerHomeUrl+"?"+f.baseParam},300)}}}}])}(window,window.angular);
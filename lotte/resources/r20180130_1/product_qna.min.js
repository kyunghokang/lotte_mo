!function(a,b,c){"use strict";var d=b.module("product-sub-header",[]);d.directive("productSubHeader",["$http","$timeout","$window","$location","LotteCommon","LotteCookie","LotteStorage","LotteUtil",function(a,b,c,d,e,f,g,h){return{templateUrl:"/lotte/resources_dev/product/m/sub/product_sub_header.html",replace:!0,link:function(a,b,c){a.gotoPrepage=function(){a.jsonLoading=!0,a.sendTclick("m_RDC_header_new_pre"),a.appObj.isNativeHeader?appSendBack():history.go(-1)}}}}]),"undefined"!=typeof module&&module.exports&&(module.exports=d.name)}(window,window.angular),function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter","product-sub-header"]);d.controller("ProductQnaCtrl",["$http","$scope","LotteCommon","commInitData",function(a,b,c,d){b.showWrap=!0,b.contVisible=!0,b.productSubTitle="Q&A 전체보기",b.screenID="product_qna",b.goodsNo=d.query.goods_no,b.usm_goods_no=d.query.usm_goods_no,b.ajaxLoadFlag=!1,b.jsonLoading=!1,b.pageUI={page:1,isLastPage:!1,pageCurRowCnt:10,baseParam:b.baseParam,loadData:null}}]),d.directive("lotteContainer",["$http","LotteCommon","LotteUtil","$window","$timeout",function(a,c,d,e,f){return{templateUrl:"/lotte/resources_dev/product/m/sub/product_qna_container.html",replace:!0,link:function(f,g,h){f.isShowBtnTalk=!1,f.loadQnA=function(){var b=c.isTestFlag?c.productQnAData:c.productQnAData+"?goods_no="+f.goodsNo+"&usm_goods_no="+f.usm_goods_no+"&all_view_yn=Y&page="+f.pageUI.page+"&pageCurRowCnt="+f.pageUI.pageCurRowCnt;f.ajaxLoadFlag=!0,f.jsonLoading=!0,a.get(b).success(function(a){if(a)if(1==f.pageUI.page)f.pageUI.loadData=a.data,f.pageUI.page++;else if(a.data.qnaList){for(var b=0;b<a.data.qnaList.items.length;b++)f.pageUI.loadData.qnaList.items.push(a.data.qnaList.items[b]);f.pageUI.page++}else f.pageUI.isLastPage=!0}).error(function(){console.log("Data Error : Q&A 전체보기 데이터 로드 실패")})["finally"](function(){f.ajaxLoadFlag=!1,f.jsonLoading=!1})},f.loadQnA(),f.linkClick=function(a,b){console.log("linkUrl",a),e.location.href=d.setUrlAddBaseParam(a,f.pageUI.baseParam+"&tclick="+b)},f.$on("winScroll",function(a,c){f.pageUI.isLastPage!==!0&&!f.ajaxLoadFlag&&b.element("body")[0].scrollHeight-2*c.winHeight<=c.scrollPos+c.winHeight&&f.loadQnA()})}}}])}(window,window.angular);
!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter","lotteProduct","lotteNgSwipe","lotteSns"]);d.controller("evtReviewCtrl",["$window","$location","$http","$scope","$timeout","LotteCommon","LotteStorage","commInitData",function(a,d,e,f,g,h,i,j){f.showWrap=!0,f.contVisible=!0,f.subTitle="상품평 이벤트",f.pageLoading=!0,f.isShowThisSns=!0,f.evtData={},j.query.evtNo!=c&&(f.evtData.paramEvtNo=j.query.evtNo),f.loadScreenData=function(){e.get(h.beautyEvtReviewData+"?evt_no="+f.evtData.paramEvtNo).success(function(a){f.evtData=a.review_evt,f.evtData.evtStrDate=f.evtData.evtStrDate.substring(2),f.evtData.evtEndDate=f.evtData.evtEndDate.substring(2),f.evtData.winDate=f.evtData.winDate.substring(2).replace(/(\d{2})(\d{2})/g,"$1.$2."),f.pageLoading=!1}).error(function(a){f.pageLoading=!1})};var k=i.getSessionStorage(f.screenID+"Data"),l=i.getSessionStorage(f.screenID+"ScrollY");if(f.locationHistoryBack){var m=JSON.parse(k);f.pageLoading=!1,f.evtData=m.evtData,g(function(){b.element(a).scrollTop(l)},800)}else f.loadScreenData();b.element(a).on("unload",function(c){var d={};d.evtData=b.copy(f.evtData),f.leavePageStroage&&(i.setSessionStorage(f.screenID+"Data",d,"json"),i.setSessionStorage(f.screenID+"ScrollY",b.element(a).scrollTop()))})}]),d.directive("lotteContainer",["LotteCommon",function(a){return{templateUrl:"/lotte/resources_dev/category/m/beauty_evt_review_container.html",replace:!0,link:function(b,c,d){b.templateType="image",b.myReviewClk=function(){var c=a.mylotteCritViewUrl+"?"+b.baseParam;location.href=c},b.faqIdx=-1,b.faqAccordion=function(a){b.faqIdx==a?b.faqIdx=-1:b.faqIdx=a}}}}])}(window,window.angular);
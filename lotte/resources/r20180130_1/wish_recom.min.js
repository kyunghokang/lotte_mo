!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteSideMylotte","lotteCommFooter"]);d.filter("titleToHtml",function(){return function(a){if(null==a)return"";var b="";return b=a.split("<!HS>").join("<STRONG>"),b=b.split("<!HE>").join("</STRONG>")}}),d.controller("WishRecomCtrl",["$scope","LotteCommon","$http","commInitData","$window",function(a,b,c,d,e){a.showWrap=!0,a.contVisible=!0,a.subTitle="위시리스트 알리미",a.goods_no=d.query.goods_no,a.spdpList,a.relList,a.recoSpdpList=function(){var c=b.rec_plan+"&size=10&iids="+a.goods_no;$.ajax({type:"post",async:!0,url:c,dataType:"jsonp",success:function(b){a.spdpList=[],null!=b.results&&$(b.results).each(function(b,c){a.spdpList.push(c.itemId)}),a.loadData()},error:function(b,c,d){a.spdpList=[],a.loadData()}})},a.loadData=function(){if(null!=a.spdpList&&null!=a.relList){var b={method:"get",url:"/json/display/wishlist_recommGoods.json",params:{spdp_no_list:a.spdpList.join(","),goods_no:a.goods_no,goodsRelList:a.relList}};c(b).success(function(b){a.wishRecomData=b.max,a.RecomData()})}},a.RecomData=function(){if(a.wishRecomTopGood=a.wishRecomData.wishlist_goods,a.wishRecomCouponBnr=a.wishRecomData.top_ban_list?a.wishRecomData.top_ban_list.items[0]:null,a.wishlist_recomm_good=a.wishRecomData.wishlist_recomm_goods,a.wishlist_recomm_good.items){var b=(a.wishlist_recomm_good.items,a.wishlist_recomm_good.items.length);b%2!=0&&(a.goodListIdx=b-1)}},a.logrecom_type_view_jsonp=function(a){for(var b=new String,c=0;c<a.items.length;c++)c>0&&(b+=","),b+="'"+a.items[c]+"'";return b},a.goodsRelList=function(){var c=b.rec_good+"&size=15&iids="+a.goods_no;$.ajax({type:"post",async:!0,url:c,dataType:"jsonp",success:function(b){a.relList=[];var c=new Array;null!=b.results&&b.results.length>0&&($(b.results).each(function(a,b){c.push(b.itemId)}),a.relList=a.logrecom_type_view_jsonp({items:c})),a.loadData()},error:function(b,c,d){a.relList=[],a.loadData()}})},a.recoSpdpList(),a.goodsRelList()}]),d.directive("lotteContainer",["LotteCommon","$window",function(b,c){return{templateUrl:"/lotte/resources_dev/mylotte/wish/m/wish_recom_container.html",replace:!0,link:function(c,d,e){c.wiRecomGoUrl=function(d,e,f){var g="&curDispNo=5570653&curDispNoSctCd=99";switch(f){case"wishTopPrd":a.location.href=b.prdviewUrl+"?"+c.baseParam+"&goods_no="+d.goods_no+g+"&tclick=m_DC_wishpush_clk_Prd_push";break;case"prdList":a.location.href=b.prdviewUrl+"?"+c.baseParam+"&goods_no="+d.goods_no+g+"&tclick=m_DC_wishpush_clk_Prd_idx"+e+"&_reco=M_wish";break;case"planBnr":a.location.href=d.img_link+"&"+c.baseParam+"&tclick=m_DC_wishpush_clk_planshop_idx"+e+"&_reco=M_plan_wish";break;case"bnr1":a.location.href=d.img_link+"&"+c.baseParam+"&tclick=m_DC_wishpush_clk_ban1";break;case"bnr2":a.location.href=d.img_link+"&"+c.baseParam+"&tclick=m_DC_wishpush_clk_ban2"}},c.wishMoreUrl=function(){a.location.href=b.wishLstUrl+"?"+c.baseParam+"&tclick=m_DC_wishpuch_clk_Btn_1"},c.wishRecomRegNewCoupon=function(a){if(loginChk()){var b="/event/regNewCoupon.do?",d="cpn_issu_no="+a;$.post(b,d,function(a){$("#msg").html(a).show()}),c.sendTclick("m_DC_wishpush_clk_ban1")}else confirm("로그인 후 다운로드 받을 수 있습니다.")&&goLogin()}}}}])}(window,window.angular);
!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter"]);d.controller("changePwCtrl",["$scope","$filter","$sce","$http","$window","LotteCommon","commInitData",function(a,b,c,d,e,f,g){a.showWrap=!0,a.contVisible=!0,a.subTitle="비밀번호 변경",a.actionBar=!0,a.cert_key1="",a.cert_key2="",a.cert_key1=null!=g.query.cert_key1?g.query.cert_key1:"",a.cert_key2=null!=g.query.cert_key2?g.query.cert_key2:"",$.ajax({type:"post",async:!1,url:f.simpleSignMemberPWChangeUrl,data:{cert_key1:a.cert_key1,cert_key2:a.cert_key2},success:function(b){return a.cert_key1=b.cert_key1,a.cert_key2=b.cert_key2,""==a.cert_key1?void(document.href=f.mainUrl):""==a.cert_key2?void(document.href=f.mainUrl):void 0},error:function(a){}})}]),d.directive("lotteContainer",["LotteUtil","LotteCommon",function(b,c){return{templateUrl:"/lotte/resources_dev/login/change_pw_container.html",replace:!0,link:function(d,e,f){d.fn_SendPW=function(){b.pwWordCheck($("#passwd"),$("#passwd").val())&&b.pwWordCheck($("#passwd_re"),$("#passwd_re").val())&&b.pwReWordCheck($("#passwd_re"),$("#passwd_re").val(),$("#passwd").val())&&$.ajax({type:"POST",url:c.simpleSignMemberPWChangeGoUrl,data:{cert_key1:d.cert_key1,cert_key2:d.cert_key2,passwd:$("#passwd").val(),passwd_re:$("#passwd_re").val()},success:function(a){a=a.result,"success"==a?(alert("비밀번호 변경에 성공하였습니다.\n다시 로그인하여 안전하게 쇼핑하세요."),d.next()):"same"==a?alert("이메일 아이디와 비빌번호가 동일합니다.\n다시입력 바랍니다."):alert("비밀번호 변경 실패 하였습니다.")}})},d.next=function(){a.location.href=c.mainUrl},d.$watch("passwd",function(a){a&&(d.passwd=a.slice(0,15))}),d.$watch("passwd_re",function(a){a&&(d.passwd_re=a.slice(0,15))})}}}])}(window,window.angular);
!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter","lotteProduct","lotteNgSwipe"]);d.controller("BrandMainCtrl",["$window","$location","$http","$scope","$timeout","$filter","LotteStorage","LotteCommon","commInitData",function(d,e,f,g,h,i,j,k,l){g.showWrap=!0,g.contVisible=!0,g.screenID="BrandShop",g.subTitle="",g.brandInfo=[],g.BrandCateList=[],g.productList=[],g.BannerList=[],g.upBrdNo="",g.brdNo="",l.query.upBrdNo!=c&&(g.upBrdNo=l.query.upBrdNo),l.query.brdNo!=c&&(g.brdNo=l.query.brdNo),g.curDispNo=""!=g.brdNo?g.brdNo:g.upBrdNo,g.curDispNoSctCd=74;var m=k.brandShopData+"?upBrdNo="+g.upBrdNo+"&brdNo="+g.brdNo;g.getBrandMainData=function(){f.get(m).success(function(a){try{g.brandInfo=a.BrandInfo,a.BrandCateList&&(g.BrandCateList=a.BrandCateList.items),a.Banner&&(g.BannerList=a.Banner.items),a.GoodsList&&(g.productList=a.GoodsList.items),g.subTitle=g.brandInfo.brnd_nm}catch(b){console.log("Error Data : 브랜드 데이터 로딩 실패")}}).error(function(a,b,c,d){console.log("Error Data : ",b,c,d)})};var n=j.getSessionStorage(g.screenID+"Loc"),o=j.getSessionStorage(g.screenID+"Data"),p=j.getSessionStorage(g.screenID+"ScrollY");if(n==a.location.href&&g.locationHistoryBack){var q=JSON.parse(o);g.pageLoading=!1,g.brandInfo=q.brandInfo,g.BrandCateList=q.BrandCateList,g.BannerList=q.BannerList,g.productList=q.productList,g.subTitle=g.brandInfo.brnd_nm,h(function(){b.element(d).scrollTop(p)},800)}else g.getBrandMainData();b.element(d).on("unload",function(a){var c={};c.brandInfo=g.brandInfo,c.BrandCateList=g.BrandCateList,c.BannerList=g.BannerList,c.productList=g.productList,!l.query.localtest&&g.leavePageStroage&&(j.setSessionStorage(g.screenID+"Loc",e.absUrl()),j.setSessionStorage(g.screenID+"Data",c,"json"),j.setSessionStorage(g.screenID+"ScrollY",b.element(d).scrollTop()))})}]),d.directive("lotteContainer",["LotteCommon",function(b){return{templateUrl:"/lotte/resources_dev/category/m/cate_brand_main_container.html",replace:!0,link:function(c,d,e){c.brandSubClick=function(a){var d=c.brandInfo?c.brandInfo.brnd_nm:"",e="&tclick="+c.tClickBase+c.screenID+"_Clk_Lnk_"+(this.$index+1);location.href=b.brandShopSubUrl+(-1!=b.brandShopSubUrl.indexOf("?")?"&":"?")+c.baseParam+"&upBrdNo="+c.upBrdNo+"&mGrpNo="+a.disp_no+"&title="+d+"&curDispNoSctCd="+c.curDispNoSctCd+e},c.brandShopBannerClick=function(d,e){var f="&tclick="+c.tClickBase+c.screenID+"_Swp_Ban_"+(this.$index+1);a.location.href=b.prdlstUrl+(-1!=b.prdlstUrl.indexOf("?")?"&":"?")+c.baseParam+"&curDispNo="+d.spdp_no+"&curDispNoSctCd="+c.curDispNoSctCd+f}}}}])}(window,window.angular);
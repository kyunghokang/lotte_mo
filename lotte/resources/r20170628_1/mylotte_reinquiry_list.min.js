!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter"]);d.controller("mylotteReinquiryListCtrl",["$scope","LotteCommon","$http","$window","LotteStorage","$location","$timeout",function(a,c,d,e,f,g,h){a.screenID="mylotteReinquiryList",a.showWrap=!0,a.contVisible=!0,a.subTitle="상품 문의 내역",a.productQuestList=[];var i=10;a.pageNum=1,a.totalRows=0,a.currentRows=0,a.getList=function(){a.isShowLoadingImage=!0;try{d.get(c.productQuestListData+"?"+a.baseParam+"&display_cnt="+i+"&page_num="+a.pageNum).success(function(b){b.product_quest_list.list.items.length>0?(a.productQuestList=a.productQuestList.concat(b.product_quest_list.list.items),a.pageNum++,a.totalRows=0==a.totalRows?b.product_quest_list.total_rows:a.totalRows,a.currentRows+=b.product_quest_list.list.total_count):a.empty=!0,a.isShowLoadingImage=!1}).error(function(a){ajaxResponseErrorHandler(a)})}catch(b){console.error(b)}},a.getMylotteReinquiryDetailUrl=function(b){return c.mylotteReinquiryDetailUrl+"?"+a.baseParam+"&inq_no="+b},a.linkToDetail=function(b,d){d.preventDefault(),location.href=c.mylotteReinquiryDetailUrl+"?"+a.baseParam+"&inq_no="+a.productQuestList[b].inq_no};var j=f.getSessionStorage(a.screenID+"Data"),k=f.getSessionStorage(a.screenID+"ScrollY");if(a.locationHistoryBack){var l=JSON.parse(j);a.productQuestList=l.productQuestList,a.pageNum=l.pageNum,a.totalRows=l.totalRows,a.currentRows=l.currentRows,h(function(){b.element(e).scrollTop(k)},800)}else a.getList();b.element(e).on("unload",function(c){var d={};d.productQuestList=a.productQuestList,d.pageNum=a.pageNum,d.totalRows=a.totalRows,d.currentRows=a.currentRows,a.leavePageStroage&&(f.setSessionStorage(a.screenID+"Data",d,"json"),f.setSessionStorage(a.screenID+"ScrollY",b.element(e).scrollTop()))})}]),d.directive("lotteContainer",function(){return{templateUrl:"/lotte/resources_dev/mylotte/product/m/mylotte_reinquiry_list_container.html",replace:!0,link:function(a,b,c){}}})}(window,window.angular);var ajaxResponseFailHandler=function(a){alert("처리중 오류가 발생하였습니다."),a&&a()},ajaxResponseErrorHandler=function(a,b){if(a.error){var c=a.error.response_code,d=a.error.response_msg;if("9004"==c){var e="targetUrl="+encodeURIComponent(location.href,"UTF-8");location.href="/login/m/loginForm.do?"+e}else alert("["+c+"] "+d)}else alert("처리중 오류가 발생하였습니다.");b&&b()};
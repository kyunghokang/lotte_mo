!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteUtil","lotteSideCtg","lotteSns","lotteCommFooter"]);d.controller("voiceOrderCtrl",["$http","$scope","LotteCommon","$timeout","LotteLink",function(c,d,e,f,g){function h(a){a=(a||navigator.userAgent).toLowerCase();var b=a.match(/android\s([0-9\.]*)/);return b?b[1]:!1}d.showWrap=!0,d.contVisible=!0,d.subTitle="음성주문 소개",d.screenID="음성주문 소개",(d.screenDataReset=function(){d.pageOptions={},d.screenData={page:0,pageSize:20,pageEnd:!1,slideNum:0,mpOs:"",mpMsg:""}})(),d.voiceSlider=function(){d.prodName=['"립스틱"','"생수"','"쿠폰"'],setInterval(function(){d.voImg=b.element(".voice_top_prod_img").find("li"),d.voImg.eq(d.screenData.slideNum-1).fadeOut(500),d.voImg.eq(d.screenData.slideNum).fadeIn(500),b.element("#prod_name").text(d.prodName[d.screenData.slideNum]),d.screenData.slideNum++,d.screenData.slideNum==d.voImg.length&&(d.screenData.slideNum=0)},3e3)}(),d.slideSize=function(){return d.slWidth=b.element(".voice_top_prod_img").width(),Math.round(d.slWidth)},d.mpBtnCheck=function(){return d.appObj.isApp?"http://image.lotte.com/lotte/images/voice_btn_02.png":"http://image.lotte.com/lotte/images/voice_btn_01.png"},d.mpVoiceStart=function(){var a=navigator.userAgent;if(a.match(/Android/)){var b=a.indexOf("Android");if(Number(a.substr(b+8,3))<4.5)return alert("안드로이드 4.4.0 이하 버전은 음성주문 이용이 불가합니다."),!1;d.mpVoiceCheck()}else d.mpVoiceCheck()},d.aniScrollTo=function(a,b,c){var d=(a||document.documentElement,document.getElementById(b).offsetTop-46),e=$("html, body");e.stop().animate({scrollTop:d},500,"swing",function(){})},d.mpVoiceCheck=function(){var b=!1,c=d.appObj;if(c.isApp){var f=!1;if(c.isAndroid){try{var i=parseFloat(h());4.4>=i&&(f=!0)}catch(j){}if(f)return void alert("안드로이드 4.4이하 버전은\n이용이 불가합니다.")}if(c.isIOS?c.verNumber<4090&&(b=!0):c.verNumber<412&&(b=!0),b){var k="앱 업데이트를 통해서<br/>24시간 다양한 상품을 추천받고<br/>말로 쉽고 빠르게 주문해보세요.",l={label:{ok:"확인",cancel:"취소"},callback:function(a){a&&(c.isIOS?location.href="http://itunes.apple.com/app/id376622474?mt=8":location.href="market://details?id=com.lotte")}};d.confirm_2016(k,l)}else try{c.isIOS?location.href="talkshop://voiceChat_Permission":a.lottebridge.voiceChat_Permission()}catch(j){}}else{var m=e.mainUrl;g.appDeepLink("lotte",m,"","")}}}]),d.directive("lotteContainer",["$window","$timeout",function(b,c){return{templateUrl:"/lotte/resources_dev/voice_order/voice_order_container.html",replace:!0,link:function(b,d,e){function f(a){0===a?($(g[a].el).fadeIn(),c(function(){$(".section_wrap.recomm .ani_wrap .sub_text").fadeIn(),c(function(){$(".section_wrap.recomm .ani_wrap .slide").show().animate({"margin-left":"-105px"},300),c(function(){$(".section_wrap.recomm .ani_wrap .slide2").show().animate({"margin-left":"62px"},300)},300)},400)},400)):1===a?($(g[a].el).fadeIn(),$(".section_wrap.voice .indicator.prev").fadeOut(),$(".section_wrap.voice .indicator.curr").fadeIn(),c(function(){$(g[a].el).fadeOut("slow"),$(".section_wrap.voice .ani_wrap .slide").fadeOut("slow"),c(function(){$(".section_wrap.voice .ani_wrap .slide2").show().animate({"margin-left":"-111px"},300)},800)},800)):2===a&&($(g[a].el).fadeIn(),$(".section_wrap.page .indicator.prev").fadeOut(),$(".section_wrap.page .indicator.curr").fadeIn(),c(function(){$(".section_wrap.page .ani_wrap .slide").show().animate({"margin-left":"-111px",opacity:"1"},300),c(function(){$(".section_wrap.page .btn_quick").fadeIn()},400)},400))}var g=[{el:".section_wrap.recomm .ani_wrap .balloon",top:300,show:!1},{el:".section_wrap.voice .ani_wrap .balloon",top:1050,show:!1},{el:".section_wrap.page .ani_wrap .balloon",top:1600,show:!1}];c(function(){b.$on("winScroll",function(a,b){for(var c=0;c<g.length;c++)b.scrollPos>g[c].top&&!g[c].show&&(g[c].show=!0,f(c))}),a.scrollBy(0,2)},500)}}}])}(window,window.angular);
!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteSideMylotte","lotteCommFooter"]);d.filter("titleToHtml",function(){return function(a){if(null==a)return"";var b="";return b=a.split("<!HS>").join("<STRONG>"),b=b.split("<!HE>").join("</STRONG>")}}),d.controller("cartPushCtrl",["$scope","LotteCommon","$http","commInitData","$window",function(a,b,c,d,e){a.showWrap=!0,a.contVisible=!0,a.subTitle="장바구니 알리미",a.goods_no=d.query.goods_no,a.spdpList,a.relList,a.logrecom_type_view_jsonp=function(a){for(var b=new String,c=0;c<a.items.length;c++)c>0&&(b+=","),b+="'"+a.items[c]+"'";return b},a.recoSpdpList=function(){var b="http://rb-rec-api-apne1.recobell.io/rec/a101?size=10&cps=false&format=jsonp&cuid=fdd29847-94cd-480d-a0d9-16144485d58b&iids="+a.goods_no;$.ajax({type:"post",async:!0,url:b,dataType:"jsonp",success:function(b){a.spdpList=[],null!=b.results&&$(b.results).each(function(b,c){a.spdpList.push(c.itemId)}),a.cartLoadData()},error:function(b,c,d){a.spdpList=[],a.cartLoadData()}})},a.cartLoadData=function(){if(null!=a.spdpList&&null!=a.relList){var b={method:"get",url:"/json/display/wishlist_recommGoods.json",params:{spdp_no_list:a.spdpList.join(","),goods_no:a.goods_no,goodsRelList:a.relList}};c(b).success(function(b){a.cartRecomData=b.max,a.cartRecomReData()})}},a.cartRecomReData=function(){if(a.cartRecomTopGood=a.cartRecomData.wishlist_goods,a.cartRecomCouponBnr=a.cartRecomData.top_ban_list?a.cartRecomData.top_ban_list.items[0]:null,a.cartList_recomm_good=a.cartRecomData.wishlist_recomm_goods,a.cartList_recomm_good.items){var b=(a.cartList_recomm_good.items,a.cartList_recomm_good.items.length);b%2!=0&&(a.goodListIdx=b-1)}},a.goodsRelList=function(){var b="http://rb-rec-api-apne1.elasticbeanstalk.com/rec/a002?size=10&cps=false&format=jsonp&cuid=fdd29847-94cd-480d-a0d9-16144485d58b&iids="+a.goods_no;$.ajax({type:"post",async:!0,url:b,dataType:"jsonp",success:function(b){a.relList=[];var c=new Array;null!=b.results&&b.results.length>0&&($(b.results).each(function(a,b){c.push(b.itemId)}),a.relList=a.logrecom_type_view_jsonp({items:c})),a.cartLoadData()},error:function(b,c,d){a.relList=[],a.cartLoadData()}})},a.recoSpdpList(),a.goodsRelList()}]),d.directive("lotteContainer",["LotteCommon","$window",function(b,c){return{templateUrl:"/lotte/resources_dev/mylotte/cart/m/cart_push_container.html",replace:!0,link:function(c,d,e){c.cartRecomGoUrl=function(d,e,f){var g="";switch(f){case"cartTopPrd":a.location.href=b.prdviewUrl+"?"+c.baseParam+"&goods_no="+d.goods_no+g+"&tclick=m_DC_cartpush_clk_Prd_push";break;case"cartPrdList":a.location.href=b.prdviewUrl+"?"+c.baseParam+"&goods_no="+d.goods_no+g+"&tclick=m_DC_cartpush_clk_Prd_idx"+e+"&_reco=M_cart";break;case"planBnr":a.location.href=d.img_link+"&"+c.baseParam+"&tclick=m_DC_cartpush_clk_planshop_idx"+e+"&_reco=M_plan_cart";break;case"bnr1":a.location.href=d.img_link+"&"+c.baseParam+"&tclick=m_DC_cartpush_clk_ban1";break;case"bnr2":a.location.href=d.img_link+"&"+c.baseParam+"&tclick=m_DC_cartpush_clk_ban2"}},c.cartMoreUrl=function(){a.location.href=b.cartLstUrl+"?"+c.baseParam+"&tclick=m_DC_cartpuch_clk_Btn_1"},c.cartRecomRegNewCoupon=function(a){if(loginChk()){var b="/event/regNewCoupon.do?",d="cpn_issu_no="+a;$.post(b,d,function(a){$("#msg").html(a).show()}),c.sendTclick("m_DC_cartpush_clk_ban1")}else confirm("로그인 후 다운로드 받을 수 있습니다.")&&goLogin()}}}}])}(window,window.angular);
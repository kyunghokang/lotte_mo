function sendTclick(a){a=isEllotte?"m_EL_"+a:"m_DC_"+a;var b=1e3;$("#tclick_iframe").remove(),setTimeout(function(){var b=document.createElement("iframe");b.id="tclick_iframe",b.style.visibility="hidden",b.style.display="none",b.src=LOTTE_CONSTANTS.M_HOST_SSL+"/exevent/tclick.jsp?tclick="+a+"&"+__commonParam,document.body.appendChild(b)},b)}function changeName(a,b,c){var d=$("#orderer_name_text_"+b+c),e=$("#orderer_name_val_"+b+c),f=d.find("#nameSp"),g=e.find("#nameInpt");if("mod"==a){var h=f.text();g.val(h),d.hide(),e.show()}else if("cnfm"==a){var i=g.val();""==$.trim(i)&&(i=f.text()),$("[id^='orderer_name_text']").show().find("#nameSp").text(i),$("[id^='orderer_name_val']").hide().find("#nameInpt").val(i)}}function changePhone(a,b){$("#deli_phone_text_"+a+"_"+b).hide(),$("#deli_phone_val_"+a+"_"+b).show(),switchDeliOption("mine",a,b)}function changeMyDlvp_layer(a,b){var c=$("#deli_mine");$("<input />").attr("type","hidden").attr("name","tmp_inprmitnm").attr("value",$("#deli_mine input[name=inprmitnm]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_inpdlvpnm").attr("value",$("#deli_mine input[name=inpdlvpnm]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_inpbasedlvpyn").attr("value",$("#deli_mine input[name=inpbasedlvpyn]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_inpzip1").attr("value",$("#deli_mine input[name=inpzip1]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_inpzip2").attr("value",$("#deli_mine input[name=inpzip2]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_inpaddr1").attr("value",$("#deli_mine input[name=inpaddr1]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_inpaddr2").attr("value",$("#deli_mine input[name=inpaddr2]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_stnm_inp_zip1").attr("value",$("#deli_mine input[name=stnm_inp_zip1]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_stnm_inp_zip2").attr("value",$("#deli_mine input[name=stnm_inp_zip2]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_stnm_inp_addr1").attr("value",$("#deli_mine input[name=stnm_inp_addr1]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_stnm_inp_addr2").attr("value",$("#deli_mine input[name=stnm_inp_addr2]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_detail_list").attr("value",$("input[name=detail_list]").val()).appendTo(c),$("<input />").attr("type","hidden").attr("name","tmp_deli_selected_no").appendTo(c),$("input:radio[name=detail_list]:checked").val()==a&&$("#deli_mine input[name=tmp_deli_selected_no]").attr("value",b),btnComplate();var d=$("#sel_deli_cnt").val();$("#deli_"+d+" input[name=deli_chk_"+d+"]:radio[value='U']").prop("checked",!0),$("#deli_"+d+" #deli_mine").hide(),$("#deli_"+d+" #deli_new").show(),$("#changeNameN").hide(),$("#changeMyDlvpCncl").show(),$("#dlvpuseyn_dd_"+d).hide(),$("#dlvp_reuse_mod").show(),$("#deli_"+d+" #deli_mine").children().find("input, select").prop("disabled",!0),$("#deli_"+d+" #deli_new").children().find("input, select").prop("disabled",!1);var e=$("#orderer_name_text_"+d+"_new"),f=$("#orderer_name_val_"+d+"_new"),g=e.find("#nameSp"),h=f.find("#nameInpt"),i=g.text();h.val(i),e.hide(),f.show(),$("#changeNameNC").hide(),$("#changeMyDlvpCncl").show(),stnmDlvZip1=$("#deli_"+d+" deliVal_stnmzip1_"+a).val(),$("#deli_"+d+" #li_mine #deli_selected_no_"+d).val(b),$("#deli_"+d+" input[name=inpzip1]").val($("#deli_"+d+" #deliVal_zip1_"+a).val()),$("#deli_"+d+" input[name=inpzip2]").val($("#deli_"+d+" #deliVal_zip2_"+a).val()),$("#deli_"+d+" input[name=inpaddr1]").val($("#deli_"+d+" #deliVal_addr1_"+a).val()),$("#deli_"+d+" input[name=inpaddr2]").val($("#deli_"+d+" #deliVal_addr2_"+a).val()),$("#deli_"+d+" input[name=stnm_inp_zip1]").val($("#deli_"+d+" #deliVal_stnmzip1_"+a).val()),$("#deli_"+d+" input[name=stnm_inp_zip2]").val($("#deli_"+d+" #deliVal_stnmzip2_"+a).val()),$("#deli_"+d+" input[name=stnm_inp_addr1]").val($("#deli_"+d+" #deliVal_stnmaddr1_"+a).val()),$("#deli_"+d+" input[name=stnm_inp_addr2]").val($("#deli_"+d+" #deliVal_stnmaddr2_"+a).val()),null!=stnmDlvZip1&&""!=stnmDlvZip1?($("#txt_zip_tot_"+d).val($("#deli_"+d+" #deliVal_stnmzip1_"+a).val()+$("#deli_"+d+" #deliVal_stnmzip2_"+a).val()),$("#txt_zip1_"+d).val($("#deli_"+d+" #deliVal_stnmzip1_"+a).val()),$("#txt_zip2_"+d).val($("#deli_"+d+" #deliVal_stnmzip2_"+a).val()),$("#txt_addr1_"+d).val($("#deli_"+d+" #deliVal_stnmaddr1_"+a).val()),$("#txt_addr2_"+d).val($("#deli_"+d+" #deliVal_stnmaddr2_"+a).val())):($("#txt_zip_tot_"+d).val($("#deli_"+d+" #deliVal_zip1_"+a).val()+$("#deli_"+d+" #deliVal_zip2_"+a).val()),$("#txt_zip1_"+d).val($("#deli_"+d+" #deliVal_zip1_"+a).val()),$("#txt_zip2_"+d).val($("#deli_"+d+" #deliVal_zip2_"+a).val()),$("#txt_addr1_"+d).val($("#deli_"+d+" #deliVal_addr1_"+a).val()),$("#txt_addr2_"+d).val($("#deli_"+d+" #deliVal_addr2_"+a).val())),$("#deli_"+d+" input[name=inpdlvpnm]").val($("#deli_"+d+" #deliVal_dlvpnm_"+a).val()),$("#deli_"+d+" input[name=inprmitnm]").val($("#deli_"+d+" #deliVal_rmitnm_"+a).val());var j=$("#deli_"+d+" #deliVal_cellsctno_"+a).val();if($("#deli_"+d+" input[name=inptel1]").val($("#deli_"+d+" #deliVal_cbltelrgnno_"+a).val()),$("#deli_"+d+" input[name=inptel2]").val($("#deli_"+d+" #deliVal_cblteltxnono_"+a).val()),$("#deli_"+d+" input[name=inptel3]").val($("#deli_"+d+" #deliVal_cbltelendno_"+a).val()),$("#deli_"+d+" select[name=inpcell1]").val(j),$("#deli_"+d+" input[name=inpcell1]").val(j),"010"==j||"011"==j||"016"==j||"017"==j||"018"==j||"019"==j||"0502"==j||"0505"==j?$("#deli_"+d+" input[name=inpcell1]").prop("disabled",!0).hide():($("#deli_"+d+" select[name=inpcell1]").prop("disabled",!0).parent().hide(),$("#deli_"+d+" input[name=inpcell1]").prop("disabled",!1).show()),$("#deli_"+d+" input[name=inpcell2]").val($("#deli_"+d+" #deliVal_celltxnono_"+a).val()),$("#deli_"+d+" input[name=inpcell3]").val($("#deli_"+d+" #deliVal_cellendno_"+a).val()),$("#deli_"+d+" #li_mine select[name=deli_msg]").length>0&&(delimsgsel=$("#deli_"+d+" #li_mine select[name=deli_msg]").val(),$("#deli_"+d+" #li_new select[name=deli_msg]").val(delimsgsel),"직접입력"==delimsgsel&&($("#deli_"+d+" #li_new select[name=deli_msg]").parent().hide(),$("#deli_"+d+" #li_new select[name=deli_msg]").parent().next().show(),$("#deli_"+d+" #li_new input[name=rcvmessage]").val($("#deli_"+d+" #li_mine input[name=rcvmessage]").val()))),$("#deli_"+d+" #deli_mine #gift_msg_sel_"+d).length>0){var k=$("#deli_"+d+" #deli_mine"),l=$("#deli_"+d+" #deli_new");l.find("input[name^=gift_yn_]:radio").eq(0).prop("checked",k.find("input[name^=gift_yn_]:radio").eq(0).prop("checked")),l.find("input[name^=gift_yn_]:radio").eq(1).prop("checked",k.find("input[name^=gift_yn_]:radio").eq(1).prop("checked")),l.find("input[name^=receivename_]").val(k.find("input[name^=receivename_]").val()),l.find("textarea[name^=sendmessage_]").val(k.find("textarea[name^=sendmessage_]").val()),l.find("input[name^=sendname]").val(k.find("input[name^=sendname]").val())}}function changeMyDlvp(a,b){if("mod"==b){deliDlvpSn=$("#deli_select_"+a).val(),$("#deli_"+a+" input[name=deli_chk_"+a+"]:radio[value='U']").prop("checked",!0),$("#deli_"+a+" #deli_mine").hide(),$("#deli_"+a+" #deli_new").show(),$("#changeNameN").hide(),$("#changeMyDlvpCncl").show(),$("#dlvpuseyn_dd_"+a).hide(),$("#dlvp_reuse_mod").show(),$("#deli_"+a+" #deli_mine").children().find("input, select").prop("disabled",!0),$("#deli_"+a+" #deli_new").children().find("input, select").prop("disabled",!1);var c=$("#orderer_name_text_"+a+"_new"),d=$("#orderer_name_val_"+a+"_new"),e=c.find("#nameSp"),f=d.find("#nameInpt"),g=e.text();f.val(g),c.hide(),d.show(),$("#changeNameNC").show(),$("#changeMyDlvpCncl").show(),stnmDlvZip1=$("#deli_"+a+" #deliVal_stnmzip1_"+deliDlvpSn).val(),$("#deli_"+a+" input[name=inpzip1]").val($("#deli_"+a+" #deliVal_zip1_"+deliDlvpSn).val()),$("#deli_"+a+" input[name=inpzip2]").val($("#deli_"+a+" #deliVal_zip2_"+deliDlvpSn).val()),$("#deli_"+a+" input[name=inpaddr1]").val($("#deli_"+a+" #deliVal_addr1_"+deliDlvpSn).val()),$("#deli_"+a+" input[name=inpaddr2]").val($("#deli_"+a+" #deliVal_addr2_"+deliDlvpSn).val()),$("#deli_"+a+" input[name=stnm_inp_zip1]").val($("#deli_"+a+" #deliVal_stnmzip1_"+deliDlvpSn).val()),$("#deli_"+a+" input[name=stnm_inp_zip2]").val($("#deli_"+a+" #deliVal_stnmzip2_"+deliDlvpSn).val()),$("#deli_"+a+" input[name=stnm_inp_addr1]").val($("#deli_"+a+" #deliVal_stnmaddr1_"+deliDlvpSn).val()),$("#deli_"+a+" input[name=stnm_inp_addr2]").val($("#deli_"+a+" #deliVal_stnmaddr2_"+deliDlvpSn).val()),null!=stnmDlvZip1&&""!=stnmDlvZip1?($("#txt_zip_tot_"+a).val($("#deli_"+a+" #deliVal_stnmzip1_"+deliDlvpSn).val()+$("#deli_"+a+" #deliVal_stnmzip2_"+deliDlvpSn).val()),$("#txt_zip1_"+a).val($("#deli_"+a+" #deliVal_stnmzip1_"+deliDlvpSn).val()),$("#txt_zip2_"+a).val($("#deli_"+a+" #deliVal_stnmzip2_"+deliDlvpSn).val()),$("#txt_addr1_"+a).val($("#deli_"+a+" #deliVal_stnmaddr1_"+deliDlvpSn).val()),$("#txt_addr2_"+a).val($("#deli_"+a+" #deliVal_stnmaddr2_"+deliDlvpSn).val())):($("#txt_zip_tot_"+a).val($("#deli_"+a+" #deliVal_zip1_"+deliDlvpSn).val()+$("#deli_"+a+" #deliVal_zip2_"+deliDlvpSn).val()),$("#txt_zip1_"+a).val($("#deli_"+a+" #deliVal_zip1_"+deliDlvpSn).val()),$("#txt_zip2_"+a).val($("#deli_"+a+" #deliVal_zip2_"+deliDlvpSn).val()),$("#txt_addr1_"+a).val($("#deli_"+a+" #deliVal_addr1_"+deliDlvpSn).val()),$("#txt_addr2_"+a).val($("#deli_"+a+" #deliVal_addr2_"+deliDlvpSn).val())),$("#deli_"+a+" input[name=inpdlvpnm]").val($("#deli_"+a+" #deliVal_dlvpnm_"+deliDlvpSn).val()),$("#deli_"+a+" input[name=inprmitnm]").val($("#deli_"+a+" #deliVal_rmitnm_"+deliDlvpSn).val());var h=$("#deli_"+a+" #deliVal_cellsctno_"+deliDlvpSn).val();if($("#deli_"+a+" input[name=inptel1]").val($("#deli_"+a+" #deliVal_cbltelrgnno_"+deliDlvpSn).val()),$("#deli_"+a+" input[name=inptel2]").val($("#deli_"+a+" #deliVal_cblteltxnono_"+deliDlvpSn).val()),$("#deli_"+a+" input[name=inptel3]").val($("#deli_"+a+" #deliVal_cbltelendno_"+deliDlvpSn).val()),$("#deli_"+a+" select[name=inpcell1]").val(h),$("#deli_"+a+" input[name=inpcell1]").val(h),"010"==h||"011"==h||"016"==h||"017"==h||"018"==h||"019"==h||"0502"==h||"0505"==h?$("#deli_"+a+" input[name=inpcell1]").prop("disabled",!0).hide():($("#deli_"+a+" select[name=inpcell1]").prop("disabled",!0).parent().hide(),$("#deli_"+a+" input[name=inpcell1]").prop("disabled",!1).show()),$("#deli_"+a+" input[name=inpcell2]").val($("#deli_"+a+" #deliVal_celltxnono_"+deliDlvpSn).val()),$("#deli_"+a+" input[name=inpcell3]").val($("#deli_"+a+" #deliVal_cellendno_"+deliDlvpSn).val()),$("#deli_"+a+" #li_mine select[name=deli_msg]").length>0&&(delimsgsel=$("#deli_"+a+" #li_mine select[name=deli_msg]").val(),$("#deli_"+a+" #li_new select[name=deli_msg]").val(delimsgsel),"직접입력"==delimsgsel&&($("#deli_"+a+" #li_new select[name=deli_msg]").parent().hide(),$("#deli_"+a+" #li_new select[name=deli_msg]").parent().next().show(),$("#deli_"+a+" #li_new input[name=rcvmessage]").val($("#deli_"+a+" #li_mine input[name=rcvmessage]").val()))),$("#deli_"+a+" #deli_mine #gift_msg_sel_"+a).length>0){var i=$("#deli_"+a+" #deli_mine"),j=$("#deli_"+a+" #deli_new");j.find("input[name^=gift_yn_]:radio").eq(0).prop("checked",i.find("input[name^=gift_yn_]:radio").eq(0).prop("checked")),j.find("input[name^=gift_yn_]:radio").eq(1).prop("checked",i.find("input[name^=gift_yn_]:radio").eq(1).prop("checked")),j.find("input[name^=receivename_]").val(i.find("input[name^=receivename_]").val()),j.find("textarea[name^=sendmessage_]").val(i.find("textarea[name^=sendmessage_]").val()),j.find("input[name^=sendname]").val(i.find("input[name^=sendname]").val())}}else if("cncl"==b){$("#deli_"+a+" input[name=deli_chk_"+a+"]:radio[value='U']").prop("checked",!1),$("#deli_"+a+" #deli_new").hide(),$("#deli_"+a+" #deli_mine").show(),$("#changeMyDlvpCncl").hide(),$("#changeNameN").show(),$("#deli_"+a+" #deli_mine").children().find("input, select").prop("disabled",!1),$("#deli_"+a+" #deli_new").children().find("input, select").prop("disabled",!0);var c=$("#orderer_name_text_"+a+"_new"),d=$("#orderer_name_val_"+a+"_new"),e=c.find("#nameSp"),f=d.find("#nameInpt"),g=e.text();if(f.val(""),$("#changeNameNC").show(),$("#changeMyDlvpCncl").hide(),c.show(),d.hide(),$("#deli_"+a+" #li_mine select[name=deli_msg]").length>0&&($("#deli_"+a+" #li_new select[name=deli_msg]").val(""),$("#deli_"+a+" #li_new select[name=deli_msg]").parent().show(),$("#deli_"+a+" #li_new select[name=deli_msg]").parent().next().hide(),$("#deli_"+a+" #li_new input[name=rcvmessage]").val("")),$("#deli_"+a+" #deli_mine #gift_msg_sel_"+a).length>0){var i=$("#deli_"+a+" #deli_mine #gift_msg_sel_"+a).parent(),j=$("#deli_"+a+" #deli_new #gift_msg_sel_"+a).parent();j.find("input[name^=gift_yn_]:radio").eq(0).prop("checked",!1),j.find("input[name^=gift_yn_]:radio").eq(1).prop("checked",!0),j.find("input[name^=receivename_]").val(""),j.find("textarea[name^=sendmessage_]").val(""),j.find("input[name^=sendname]").val(""),"block"==i.find("dd[name^=gift_msg_form_]").css("display")?i.find("input[name^=gift_yn_]:radio").eq(0).prop("checked",!0):i.parent().find("input[name^=gift_yn_]:radio").eq(1).prop("checked",!0)}$("#deli_mine input[name=inprmitnm]").val($("#deli_mine input[name=tmp_inprmitnm]").val()),$("#deli_mine input[name=inpdlvpnm]").val($("#deli_mine input[name=tmp_inpdlvpnm]").val()),$("#deli_mine input[name=inpbasedlvpyn]").val($("#deli_mine input[name=tmp_inpbasedlvpyn]").val()),$("#deli_mine input[name=inpzip1]").val($("#deli_mine input[name=tmp_inpzip1]").val()),$("#deli_mine input[name=inpzip2]").val($("#deli_mine input[name=tmp_inpzip2]").val()),$("#deli_mine input[name=inpaddr1]").val($("#deli_mine input[name=tmp_inpaddr1]").val()),$("#deli_mine input[name=inpaddr2]").val($("#deli_mine input[name=tmp_inpaddr2]").val()),$("#deli_mine input[name=stnm_inp_zip1]").val($("#deli_mine input[name=tmp_stnm_inp_zip1]").val()),$("#deli_mine input[name=stnm_inp_zip2]").val($("#deli_mine input[name=tmp_stnm_inp_zip2]").val()),$("#deli_mine input[name=stnm_inp_addr1]").val($("#deli_mine input[name=tmp_stnm_inp_addr1]").val()),$("#deli_mine input[name=stnm_inp_addr2]").val($("#deli_mine input[name=tmp_stnm_inp_addr2]").val()),$("input[name=detail_list]").val($("input[name=tmp_detail_list]").val()),$("#deli_mine input[name=deli_selected_no]").val($("#deli_mine input[name=tmp_deli_selected_no]").val()),$("#deli_new input[name=inpzip1]").attr("disabled","disabled"),$("#deli_new input[name=inpzip1]").val(""),$("#deli_new input[name=inpzip2]").attr("disabled","disabled"),$("#deli_new input[name=inpzip2]").val(""),$("#deli_new input[name=inpaddr1]").attr("disabled","disabled"),$("#deli_new input[name=inpaddr1]").val(""),$("#deli_new input[name=inpaddr2]").attr("disabled","disabled"),$("#deli_new input[name=inpaddr2]").val(""),$("#deli_new input[name=stnm_inp_zip1]").attr("disabled","disabled"),$("#deli_new input[name=stnm_inp_zip1]").val(""),$("#deli_new input[name=stnm_inp_zip2]").attr("disabled","disabled"),$("#deli_new input[name=stnm_inp_zip2]").val(""),$("#deli_new input[name=stnm_inp_addr1]").attr("disabled","disabled"),$("#deli_new input[name=stnm_inp_addr1]").val(""),$("#deli_new input[name=stnm_inp_addr2]").attr("disabled","disabled"),$("#deli_new input[name=stnm_inp_addr2]").val(""),$("#deli_new input[id=temp_zip1_1]").attr("disabled","disabled"),$("#deli_new input[id=temp_zip1_1]").val(""),$("#deli_new input[id=temp_zip2_1]").attr("disabled","disabled"),$("#deli_new input[id=temp_zip2_1]").val(""),$("#deli_new input[id=temp_addr1_1]").attr("disabled","disabled"),$("#deli_new input[id=temp_addr1_1]").val(""),$("#deli_new input[id=temp_addr2_1]").attr("disabled","disabled"),$("#deli_new input[id=temp_addr2_1]").val(""),$("#deli_new input[id=txt_zip1_1]").attr("disabled","disabled"),$("#deli_new input[id=txt_zip1_1]").val(""),$("#deli_new input[id=txt_zip2_1]").attr("disabled","disabled"),$("#deli_new input[id=txt_zip2_1]").val(""),$("#deli_new input[id=txt_zip_tot_1]").attr("disabled","disabled"),$("#deli_new input[name=inprmitnm]").attr("disabled","disabled"),$("#deli_new input[name=inpdlvpnm]").attr("disabled","disabled"),$("#deli_new input[name=inpcell1]").attr("disabled","disabled"),$("#deli_new input[name=inpcell2]").attr("disabled","disabled"),$("#deli_new input[name=inpcell3]").attr("disabled","disabled"),$("#deli_new input[name=inptel1]").attr("disabled","disabled"),$("#deli_new input[name=inptel1]").val(""),$("#deli_new input[name=inptel2]").attr("disabled","disabled"),$("#deli_new input[name=inptel2]").val(""),$("#deli_new input[name=inptel3]").attr("disabled","disabled"),$("#deli_new input[name=inptel3]").val(""),$("#dlvp_reuse_mod").css("display","none"),$("#chk_dlvp_reuse_mod").attr("disabled","disabled"),$("#dlvpuseyn_dd_1").css("display",""),$("#dlvpuseyn_1").attr("disabled","disabled"),$("deli_new input[name=del_msg]").attr("disabled","disabled")}}function selectAddress(a,b,c,d,e,f,g){var h=" #li_new";$("input[name=grockle_name]").length>0&&(h="");var i=$("#deli_"+a+h+" input[name=inpzip1]"),j=$("#deli_"+a+h+" input[name=inpzip2]"),k=$("#deli_"+a+h+" input[name=inpaddr1]"),l=$("#deli_"+a+h+" input[name=inpaddr2]"),m=$("#deli_"+a+h+" input[name=stnm_inp_zip1]"),n=$("#deli_"+a+h+" input[name=stnm_inp_zip2]"),o=$("#deli_"+a+h+" input[name=stnm_inp_addr1]"),p=$("#deli_"+a+h+" input[name=stnm_inp_addr2]"),q=$("#txt_zip1_"+a),r=$("#txt_zip2_"+a),s=$("#txt_zip_tot_"+a),t=$("#txt_addr1_"+a),u=$("#txt_addr2_"+a),v=$("#temp_zip1_"+a),w=$("#temp_zip2_"+a),x=$("#temp_addr1_"+a),y=$("#temp_addr2_"+a);if("S"==b&&"J"==c){var z="<br/>"+e;$("#txt_seq2_J_"+a).html(z),v.val(d.substring(0,3)),w.val(d.substring(3,6)),x.val(e),$("#seq1_J_"+a).hide(),$("#seq2_J_"+a).show(),$("#inp_seq2_J_"+a).val(f).focus()}else if("S"==b&&"N"==c){v.val(d.substring(0,3)),w.val(d.substring(3,6)),x.val(e),g.length>0&&(f+=" "+g),y.val(f);var z="<br/>"+e+" "+f;$("#txt_seq2_N_"+a).html(z),$("#seq1_N_"+a).hide(),$("#seq2_N_"+a).show(),$("#inp_seq2_N_"+a).focus()}else"M"==b&&"J"==c?(v.val(d.substring(0,3)),w.val(d.substring(3,6)),i.val(v.val()),j.val(w.val()),k.val(x.val()),l.val(y.val()),q.add(m).val(d.substring(0,3)),r.add(n).val(d.substring(3,6)),s.val(q.val()+r.val()),t.add(o).val(e),u.add(p).val(f)):"M"==b&&"N"==c?(v.val(d.substring(0,3)),w.val(d.substring(3,6)),m.val(v.val()),n.val(w.val()),o.val(x.val()),p.val(y.val()),q.add(i).val(d.substring(0,3)),r.add(j).val(d.substring(3,6)),s.val(q.val()+r.val()),t.add(k).val(e),u.add(l).val(f)):"M"==b&&"J_alone"==c?(v.val(d.substring(0,3)),w.val(d.substring(3,6)),q.add(i).val(v.val()),r.add(j).val(w.val()),s.val(q.val()+r.val()),t.add(k).val(x.val()),u.add(l).val(y.val()),m.add(n).add(o).add(p).val("")):"M"==b&&"N_select"==c&&(v.val(d.substring(0,3)),w.val(d.substring(3,6)),q.add(m).val(v.val()),r.add(n).val(w.val()),s.val(q.val()+r.val()),t.add(o).val(x.val()),u.add(p).val(y.val()),i.val(d.substring(0,3)),j.val(d.substring(3,6)),k.val(e),l.val(f));"M"==b&&($("#search_addr_trigger_"+a).click(),$("#txt_addr_wrap_"+a).show())}function searchAddress(a,b,c,d){var e="proc_div="+b+"&addr_gbn="+c+"&deli_cnt="+a,f=null;if("S"==b&&"J"==c){var g=$("#inp_seq1_J_"+a);if($.trim(g.val()).length<=0)return alert("읍/면/동을 입력해 주세요."),g.focus(),!1;e+="&dong_nm="+g.val(),f=function(b){$("#result_seq1_J_"+a).html(b).show()}}else if("S"==b&&"N"==c){var h=$("#key1_seq1_N_"+a),i=$("#key2_seq1_N_"+a),j=$("#key3_seq1_N_"+a),k=$("#key4_seq1_N_"+a),l=$("#key5_seq1_N_"+a),m=!1;if(h.add(i).add(j).each(function(){return $.trim($(this).val()).length<=0?(alert("조회 필수항목을 입력해 주세요."),$(this).focus(),m=!0,!1):void 0}),m)return!1;e+="&keyword1="+h.val()+"&keyword2="+i.val()+"&keyword3="+j.val(),""!=k.val()&&(e+="&keyword4="+k.val()),""!=l.val()&&(e+="&keyword5="+l.val()),f=function(b){$("#result_seq1_N_"+a).html(b).show()}}else if("M"==b&&"J"==c){var n=$("#inp_seq2_J_"+a);if($.trim(n.val()).length<=0)return alert("상세주소를 입력해 주세요."),n.focus(),!1;var o=$("#temp_zip1_"+a).val()+$("#temp_zip2_"+a).val(),p=$("#temp_addr1_"+a).val(),q=n.val();e+="&zipcode="+o.replace("-","")+"&addr1="+p+"&addr2="+q,$("#temp_addr2_"+a).val(q),f=function(b){$("#seq2_J_"+a).hide(),$("#seq3_J_"+a).html(b).show()}}else if("M"==b&&"N"==c){var n=$("#inp_seq2_N_"+a),o=$("#temp_zip1_"+a).val()+$("#temp_zip2_"+a).val(),p=$("#temp_addr1_"+a).val(),q=$("#temp_addr2_"+a).val()+" "+n.val();e+="&zipcode="+o.replace("-","")+"&addr1="+p+"&addr2="+q,$("#temp_addr2_"+a).val(q),f=function(b){$("#seq2_N_"+a).hide(),$("#seq3_N_"+a).html(b).show()}}$.ajax({type:"post",async:!1,url:"/popup/ord_search_address.do?"+d,data:e,success:function(a){return f(a),!0}})}function switchDeliOption(a,b,c){var d=$("#deli_"+b+" input[name=deli_chk_"+b+"]:radio[value='U']"),e=$("#deli_"+b+" input[name=deli_chk_"+b+"]:radio[value='C']");if("mine"==a)e.prop("checked",!1),$("#deli_phone_text_"+b+"_"+c).is(":hidden")?d.prop("checked",!0):d.prop("checked",!1);else if("new"==a&&(e.prop("checked",!0),$("#deli_"+b+" input[name=inpdlvpnm]").val(""),$("#deli_"+b+" input[name=inprmitnm]").val(""),$("#deli_"+b+" input[name=inpzip1]").val(""),$("#deli_"+b+" input[name=inpzip2]").val(""),$("#deli_"+b+" input[name=inpaddr1]").val(""),$("#deli_"+b+" input[name=inpaddr2]").val(""),$("#txt_zip_"+b).text(""),$("#txt_addr_"+b).text(""),$("#deli_"+b+" input[name=stnm_inp_zip1]").val(""),$("#deli_"+b+" input[name=stnm_inp_zip2]").val(""),$("#deli_"+b+" input[name=stnm_inp_addr1]").val(""),$("#deli_"+b+" input[name=stnm_inp_addr2]").val(""),$("#txt_stnm_zip_"+b).text(""),$("#txt_stnm_addr_"+b).text(""),$("#deli_"+b+" input[name=inptel1]").val(""),$("#deli_"+b+" input[name=inptel2]").val(""),$("#deli_"+b+" input[name=inptel3]").val(""),$("#deli_"+b+" select[name=inpcell1]").prop("disabled",!1).parent().show(),$("#deli_"+b+" input[name=inpcell1]").prop("disabled",!0).hide(),$("#deli_"+b+" select[name=inpcell1]").val("010"),$("#deli_"+b+" input[name=inpcell1]").val(""),$("#deli_"+b+" input[name=inpcell2]").val(""),$("#deli_"+b+" input[name=inpcell3]").val(""),$("#txt_zip1_"+b).val(""),$("#txt_zip2_"+b).val(""),$("#txt_addr1_"+b).val(""),$("#txt_addr2_"+b).val(""),$("#txt_zip_tot_"+b).val(""),$("#deli_"+b+" input[name=inprmitnm]").attr("placeholder","이름"),$("#deli_"+b+" input[name=inpdlvpnm]").attr("placeholder","배송지명"),1==b&&$("#deli_"+b+" #deli_mine").length>0)){var f=$("#orderer_name_text_"+b+"_new"),g=$("#orderer_name_val_"+b+"_new"),h=f.find("#nameSp"),i=g.find("#nameInpt");h.text();if(i.val(""),$("#changeNameNC").show(),$("#changeMyDlvpCncl").hide(),f.show(),g.hide(),$("#dlvp_reuse_mod").prop("checked",!1),$("#dlvp_reuse_mod").hide(),$("#dlvpuseyn_dd_"+b).show(),$("#deli_"+b+" #li_mine select[name=deli_msg]").length>0&&($("#deli_"+b+" #li_new select[name=deli_msg]").val(""),$("#deli_"+b+" #li_new select[name=deli_msg]").parent().show(),$("#deli_"+b+" #li_new select[name=deli_msg]").parent().next().hide(),$("#deli_"+b+" #li_new input[name=rcvmessage]").val("")),$("#deli_"+b+" #deli_mine #gift_msg_sel_"+b).length>0){var j=$("#deli_"+b+" #deli_new #gift_msg_sel_"+b).parent();j.find("input[name^=gift_yn_]:radio").eq(0).prop("checked",!1),j.find("input[name^=gift_yn_]:radio").eq(1).prop("checked",!0),j.find("input[name^=receivename_]").val(""),j.find("textarea[name^=sendmessage_]").val(""),j.find("input[name^=sendname]").val("")}}}function setRcverInfo(a){if(1==$(a).prop("checked")){var b=$("#deli_1 [name=grockle_name]").val(),c=$("#deli_1 [name=grockle_cell2]").val(),d=$("#deli_1 [name=grockle_cell3]").val();$("#deli_1 [name=inprmitnm]").val(b),$("#deli_1 [name=inpcell2]").val(c),$("#deli_1 [name=inpcell3]").val(d);var e=$("#deli_1 [name=grockle_cell1]:enabled");"SELECT"==e.get(0).tagName?($("#deli_1 input[name=inpcell1]").prop("disabled",!0).hide(),$("#deli_1 select[name=inpcell1]").prop("disabled",!1).val(e.val()).parent().show()):"INPUT"==e.get(0).tagName&&($("#deli_1 select[name=inpcell1]").prop("disabled",!0).parent().hide(),$("#deli_1 input[name=inpcell1]").prop("disabled",!1).val(e.val()).show())}}function init_deli_area(){var a=$(".tit_product_choice").length;for(i=0;i<a;i++)$(".tit_product_choice").eq(i).hasClass("show")&&($(".tit_product_choice").eq(i).toggleClass("show"),$(".tit_product_choice").parent().parent().parent().parent().find(".order_goods").css("display","none"))}function multi_qty_chg(a){var b=a.name.substring(0,5),c=$("#"+a.name.substring(5));"mins_"==b?Number(c.val())>0&&c.val(Number(c.val())-1):c.val(Number(c.val())+1),c.change()}function apply_br_tag(a){return a}function confirm_end(){$("#useLottePoint").hide(),$("#chk_lt_point").attr("disabled",!1),ltPointCert="Y",$("#lt_point_amt").show(),$("#lt_point_amt_btn").hide(),$("#chk_lt_point").is(":checked")||$("#chk_lt_point").trigger("click")}function init_cardinstmon(){if(totsttlamt=$("#frm_inp input[name=totsttlamt]:hidden").val(),iscmcd=$("#frm_inp select[name=iscmcd]").val(),prom_third=$("#frm_send input[name=prommdclcd_third]").val(),$("#frm_inp input[name=rdo_cardinst]:radio").attr("checked",""),$("#frm_inp input[name=rdo_cardinst]:radio").prop("checked",""),$("#frm_inp select[name=cardinstmon]").empty(),$("#frm_inp select[name=cardinstmon]").append("<option value=''>일시불</option>"),$("#frm_inp select[name=cardinstmon]").attr("disabled",!0),""!=iscmcd){if($("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").attr("disabled",!1),onintmonth=$("#frm_inp input[name=onintmonth]:hidden").val(),""==onintmonth||"null"==onintmonth||"35"==prom_third?$("#frm_inp input[name=rdo_cardinst]:radio:eq(1)").attr("disabled",!0):$("#frm_inp input[name=rdo_cardinst]:radio:eq(1)").attr("disabled",!1),intmonth=$("#frm_inp input[name=intmonth]:hidden").val(),""==intmonth||"null"==intmonth||"35"==prom_third?$("#frm_inp input[name=rdo_cardinst]:radio:eq(2)").attr("disabled",!0):$("#frm_inp input[name=rdo_cardinst]:radio:eq(2)").attr("disabled",!1),$("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").attr("checked",!0),$("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").prop("checked",!0),parseInt(totsttlamt)<5e4)return $("#frm_inp select[name=cardinstmon] option:first").prop("selected",!0),void $("#frm_inp select[name=cardinstmon]").prop("disabled",!0);if(lpayCardDivCd=$("select[name=iscmcd]").find("option:selected").attr("data-card-div"),void 0!=lpayCardDivCd&&"CC"!=lpayCardDivCd)return $("#frm_inp select[name=cardinstmon] option:first").prop("selected",!0),void $("#frm_inp select[name=cardinstmon]").prop("disabled",!0)}else $("#frm_inp input[name=rdo_cardinst]:radio").attr("disabled",!0),$("#frm_inp select[name=cardinstmon]").attr("disabled",!0);setcardinstmon()}function init_cardselect(){cardkndcd=$("#frm_send input[name=cardkndcd]").val(),cardkndcd_dup=$("#frm_send input[name=cardkndcd_dup]").val(),paytype=$("#frm_inp input[name=paytype]:hidden").val();var a="N",b="N";""!=cardkndcd&&$("#lpay_paymean li input[name^=lpay_paymean_][name$=_iscmcd][value="+cardkndcd+"]:hidden").length>0&&(a="Y"),""!=cardkndcd_dup&&$("#lpay_paymean li input[name^=lpay_paymean_][name$=_iscmcd][value="+cardkndcd_dup+"]:hidden").length>0&&(a="Y"),null!=cardkndcd&&""!=cardkndcd?$("#frm_inp input[name=hist_paymean_iscmcd]:hidden").val()==cardkndcd?($("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").click(),$("#frm_inp select[name=iscmcd] option").each(function(){$(this).val()==cardkndcd&&(b="Y")}),"Y"==b&&($("#frm_inp select[name=iscmcd]").val(cardkndcd),setIscmCd(cardkndcd),toggleAction5("#cardList_"+cardkndcd),selPayMean("hist_paymean"),null==$("#frm_inp select[name=iscmcd]").val()&&($("#frm_inp select[name=iscmcd]").val(""),$(".inlineBorder").removeClass("active")))):"Y"==a?($("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").click(),$("#frm_inp input[name=lpay_type]:radio[value='"+cardkndcd+"']").prop("checked",!0),$("#card_select").show(),$("#frm_inp select[name=iscmcd]").val(cardkndcd),null==$("#frm_inp select[name=iscmcd]").val()&&($("#frm_inp select[name=iscmcd]").val(""),$("#frm_inp input[name=lpay_type]").prop("checked",!1)),selPayMean("lpay_paymean_"+$("#frm_inp input[name=lpay_type]:radio[value='"+cardkndcd+"']").attr("data-card-id"))):($("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").click(),$("#frm_inp select[name=iscmcd] option").each(function(){$(this).val()==cardkndcd&&(b="Y")}),"Y"==b&&($("#frm_inp select[name=iscmcd]").val(cardkndcd),setIscmCd(cardkndcd),toggleAction5("#cardList_"+cardkndcd),payShortCut("16",cardkndcd),null==$("#frm_inp select[name=iscmcd]").val()&&($("#frm_inp select[name=iscmcd]").val(""),$(".inlineBorder").removeClass("active")))):null!=cardkndcd_dup&&""!=cardkndcd_dup?$("#frm_inp input[name=hist_paymean_iscmcd]:hidden").val()==cardkndcd_dup?($("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").click(),$("#frm_inp select[name=iscmcd] option").each(function(){$(this).val()==cardkndcd_dup&&(b="Y")}),"Y"==b&&($("#frm_inp select[name=iscmcd]").val(cardkndcd_dup),setIscmCd(cardkndcd_dup),toggleAction5("#cardList_"+cardkndcd_dup),selPayMean("hist_paymean"),null==$("#frm_inp select[name=iscmcd]").val()&&($("#frm_inp select[name=iscmcd]").val(""),$(".inlineBorder").removeClass("active")))):"Y"==a?($("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").click(),$("#frm_inp input[name=lpay_type]:radio[value='"+cardkndcd_dup+"']").prop("checked",!0),$("#frm_inp select[name=iscmcd]").val(cardkndcd_dup),selPayMean("lpay_paymean_"+$("#frm_inp input[name=lpay_type]:radio[value='"+cardkndcd_dup+"']").attr("data-card-id")),null==$("#frm_inp select[name=iscmcd]").val()&&($("#frm_inp select[name=iscmcd]").val(""),$("#frm_inp input[name=lpay_type]").prop("checked",!1))):($("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").click(),$("#frm_inp select[name=iscmcd] option").each(function(){$(this).val()==cardkndcd_dup&&(b="Y")}),"Y"==b&&($("#frm_inp select[name=iscmcd]").val(cardkndcd_dup),setIscmCd(cardkndcd_dup),toggleAction5("#cardList_"+cardkndcd_dup),payShortCut("16",cardkndcd_dup),null==$("#frm_inp select[name=iscmcd]").val()&&($("#frm_inp select[name=iscmcd]").val(""),$(".inlineBorder").removeClass("active")))):($("#frm_inp select[name=iscmcd]").find("option").attr("selected",!1).eq(0).attr("selected",!0),$("#frm_inp select[name=iscmcd]").find("option").prop("selected",!1).eq(0).prop("selected",!0),$("#frm_inp input[name=onintmonth]:hidden").val(""),$("#frm_inp input[name=intmonth]:hidden").val(""),$(".inlineBorder").removeClass("active"),$("#frm_inp input[name=lpay_type]").prop("checked",!1),removeClassPayMean(),$("#eventcardsaleamt_cont").hide(),""!=firsObjName&&paySelect(firsObjName))}function init_point(){$("#chk_lpoint").attr("checked",!1),$("#chk_lt_point").attr("checked",!1),$("#chk_deposit_all").attr("checked",!1),$("#chk_lpoint").prop("checked",!1),$("#chk_lt_point").prop("checked",!1),$("#chk_deposit_all").prop("checked",!1)}function init_cpn_info(a,b,c){"Y"==a&&($("#frm_send input[name=promcartsn]").val(""),$("#frm_send input[name=prommdclcd]").val(""),$("#frm_send input[name=fvrpolctpcd]").val(""),$("#frm_send input[name=totdcamt]").val(""),$("#frm_send input[name=cpnpromno]").val(""),$("#frm_send input[name=cpnrscmgmtsn]").val(""),$("#frm_send input[name=adtncostdtlsctnm]").val(""),$("#frm_send input[name=cardkndcd]").val(""),$("#frm_send input[name=includeSaveInstCpn]").val(""),$("#dcAmt1").text("")),"Y"==b&&($("#frm_send input[name=promcartsn_dup]").val(""),$("#frm_send input[name=prommdclcd_dup]").val(""),$("#frm_send input[name=fvrpolctpcd_dup]").val(""),$("#frm_send input[name=totdcamt_dup]").val(""),$("#frm_send input[name=cpnpromno_dup]").val(""),$("#frm_send input[name=cpnrscmgmtsn_dup]").val(""),$("#frm_send input[name=adtncostdtlsctnm_dup]").val(""),$("#frm_send input[name=cardkndcd_dup]").val(""),$("#frm_send input[name=includeSaveInstCpn_dup]").val(""),$("#dcAmt2").text("("+$("#frm_inp select[name=dup_coupon] option").not("[value=N], :disabled").length+"개)")),
"Y"==c&&($("#frm_send input[name=promcartsn_third]").val(""),$("#frm_send input[name=prommdclcd_third]").val(""),$("#frm_send input[name=fvrpolctpcd_third]").val(""),$("#frm_send input[name=totdcamt_third]").val(""),$("#frm_send input[name=cpnpromno_third]").val(""),$("#frm_send input[name=cpnrscmgmtsn_third]").val(""),$("#frm_send input[name=adtncostdtlsctnm_third]").val(""),$("#frm_send input[name=cardkndcd_third]").val(""),$("#frm_send input[name=includeSaveInstCpn_third]").val(""),$("#dcAmt3").text(""),$("singlePayText").text(""))}function setcardinstmon(){if($("#frm_inp select[name=cardinstmon]").empty(),$("#frm_inp select[name=cardinstmon]").append("<option value=''>일시불</option>"),cardinstmonlist=$("#frm_inp input[name=onintmonth]:hidden").val().split(","),cardinstmonlist.length>0)for(i=0;i<cardinstmonlist.length;i++)"null"!=cardinstmonlist[i]&&""!=cardinstmonlist[i]&&(text=cardinstmonlist[i]+"개월",$("#frm_inp select[name=cardinstmon]").append("<option value='"+cardinstmonlist[i]+"'>(무) "+text+"</option>"));if(cardinstmonlist=$("#frm_inp input[name=intmonth]:hidden").val().split(","),cardinstmonlist.length>0)for(i=0;i<cardinstmonlist.length;i++)"null"!=cardinstmonlist[i]&&""!=cardinstmonlist[i]&&(text=cardinstmonlist[i]+"개월",$("#frm_inp select[name=cardinstmon]").append("<option value='"+cardinstmonlist[i]+"'>(유) "+text+"</option>"));$("#frm_inp select[name=cardinstmon] option").length>1&&"35"!=$("#frm_send input[name=prommdclcd_third]").val()?$("#frm_inp select[name=cardinstmon]").attr("disabled",!1):$("#frm_inp select[name=cardinstmon]").attr("disabled",!0)}function chkboxMAsianaAgree(){if(document.getElementById("info_agree_check").checked){if(0==document.getElementById("ip_asianaNo").value.length)return void alert("회원번호가 올바르지 않습니다. 확인후 입력해 주시기 바랍니다.");if(document.getElementById("ip_asianaNo").value.length<=0)return void alert("아시아나클럽 회원번호를 9자리의 숫자로 입력해 주세요");if(isNaN(document.getElementById("ip_asianaNo").value))return void alert("아시아나클럽 회원번호는 숫자로만 입력하셔야 합니다.");1==checkForAsiana(document.getElementById("ip_asianaNo").value)?($("#frm_send input[name=asiana_mbr_no]:hidden").val(document.getElementById("ip_asianaNo").value),alert("회원번호가 정상적으로 확인되었습니다.")):alert("회원번호가 올바르지 않습니다. 확인후 입력해 주시기 바랍니다.")}else alert("정보제공 동의를 하셔야 합니다.")}function checkBtn(a){var b=$(a).find("input:checkbox"),c=b.attr("name");"grockle_info"==c?b.attr("checked",$(a).hasClass("checked")):"grockle_same"==c?b.trigger("click"):b.trigger("click")}function fn_setDisplayAssentArea(a){$(".box_agree_check.assent_all_wrap").length>0&&("Y"==a?($(".box_agree_check").hide(),$(".box_agree_check.assent_all_wrap").show()):($(".box_agree_check").show(),$(".box_agree_check.assent_all_wrap").hide()))}function selPayType(a){console.log("selPayType : "+a);var b="#pay_type"+a;$("[id^='pay_type']").removeClass("on"),$(b).addClass("on"),setPaytype(a),fn_setDisplayAssentArea("block"!=$("#pay_method").css("display")||"#pay_type4"!=b&&"#pay_type1"!=b?"N":"Y")}function setPaytype(a){for(var b=[[1,PAYTYPE_CODE_CARD],[2,PAYTYPE_CODE_BANK],[3,PAYTYPE_CODE_PHONE],[4,PAYTYPE_CODE_LPAY],[5,PAYTYPE_CODE_NAVERPAY]],c=0;c<b.length;c++)if(b[c][0]==a){$("#frm_inp input[name=paytype]:hidden").val(b[c][1]);break}}function fn_ordernomemberAgree(a){$(a).closest("div.check_layer03").hasClass("on")?($(a).closest("div.check_layer03").removeClass("on"),$(a).closest("div.check").removeClass("on").addClass("off"),$("#grockle_resident_div").hide()):($(a).closest("div.check_layer03").addClass("on"),$(a).closest("div.check").removeClass("off").addClass("on"),$("#grockle_resident_div").show())}function deliSelect(a,b){"new"==a?($("#deli_"+b+" dl.deli_mine").hide(),$("#deli_"+b+" dl.deli_new").show(),$("#deli_"+b+" #li_mine").removeClass("on"),$("#deli_"+b+" #li_new").addClass("on")):"mine"==a&&($("#deli_"+b+" dl.deli_mine").show(),$("#deli_"+b+" dl.deli_new").hide(),$("#deli_"+b+" #li_mine").addClass("on"),$("#deli_"+b+" #li_new").removeClass("on"))}function chkSendMsgLimit(a,b,c){str=$("#"+a).val(),strlen=str.length;for(var d=0,e=0;e<strlen;e++)if(d+=1,d>b)return alert("최대 "+b+"자 까지 입력가능합니다."),$("#"+a).val(str.substring(0,b)),$("#"+c).html(b),!1;return $("#"+c).html(d),!0}function chkDeliMsgLimit(a,b,c){str=$("#"+a).val(),strlen=str.length;for(var d=0,e=0;e<strlen;e++)if(d+=str.charCodeAt(e)>128?2:1,d>b)return alert("최대 "+b+"byte까지 입력가능합니다."),$("#"+a).val(str.cut(b)),$("#"+c).html(b),!1;return $("#"+c).html(strlen),!0}function fn_useLottePointCancel(){$("#useLottePoint").hide(),$("#card_no1").val(""),$("#card_no2").val(""),$("#card_no3").val(""),$("#card_no4").val(""),$("#card_passwd").val(""),$(".btn_lotte_point2").text("본인 확인하기"),3==$("input[name=temp_paytype]:hidden").val()&&1==$("#chk_lt_point").prop("checked")&&($("#chk_lt_point").trigger("click"),$("#lt_point_amt").show(),$("#lt_point_amt_btn").hide())}function select_third_coupon(){if(init_point(),setCashReceiptArea(),fn_initPointList("ALL"),"35"==$("#frm_send input[name=prommdclcd_third]").val()&&$("#frm_inp input[name=rdo_paytype]:radio:checked").val()==PAYTYPE_CODE_PHONE||$("#frm_inp input[name=rdo_paytype]:radio:checked").val()==PAYTYPE_CODE_NAVERPAY){$("#frm_inp input[name=rdo_paytype]:radio:checked").val()==PAYTYPE_CODE_PHONE&&is_init>0&&alert("일시불 할인을 받으시면 휴대폰결제를 하실수 없습니다."),$("#frm_inp input[name=rdo_paytype]:radio:checked").val()==PAYTYPE_CODE_NAVERPAY&&is_init>0&&alert("일시불 할인을 받으시면 네이버페이 결제를 하실수 없습니다."),$("#hist_paymean").removeClass("on"),$("#general_paymean").removeClass("on");var a=$("#pay_type1").hasClass("disable"),b=$("#pay_type2").hasClass("disable"),c=$("#pay_type4").hasClass("disable");a?b?c||$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").click():$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").click():($("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").click(),$("#chk_lpoint").prop("checked",!1),$("#chk_lpoint").prop("disabled",!0),$("#chk_lt_point").prop("checked",!1),$("#chk_lt_point").prop("disabled",!0))}else $("#frm_inp input[name=rdo_paytype]:radio:checked").val()==PAYTYPE_CODE_LPAY&&(ltPointCert="Y",$("#lt_point_amt").show(),$("#lt_point_amt_btn").hide()),$("#frm_inp input[name=rdo_paytype]:radio").each(function(){$(this).prop("disabled",!1)}),parseInt($("#useable_lpoint_amt").val())>0&&$("#chk_lpoint").prop("disabled",!1),"Y"==ltPointCert&&$("#chk_lt_point").prop("disabled",!1);select_third_coupon_controll($("#frm_send input[name=prommdclcd_third]").val()),fn_calcTotalPrice()}function ord_session_clear(){sessionStorage.removeItem("dup_cnt_div"),sessionStorage.removeItem("dup_prom_no"),sessionStorage.removeItem("fvr_val"),sessionStorage.removeItem("goods_no"),sessionStorage.removeItem("itme_no"),sessionStorage.removeItem("max_fvr_val"),sessionStorage.removeItem("prom_no"),sessionStorage.removeItem("prom_nm"),sessionStorage.removeItem("rsc_mgmt_sn"),sessionStorage.removeItem("safe_browsing")}function dup_coupon_select(){var a=$(this).val();iphoneChk=!1,maxDupIdx!=a&&$("#max_dc").prop("checked",!1),$("#frm_inp select[name=dup_coupon]").find("option").each(function(){if(a==$(this).val()){var b,c=$("#frm_inp select[name=coupon]").val(),d=$("#frm_inp input[name=prommdclcd]").eq(c).val(),e=$("#frm_inp input[name=cpnpromno]").eq(c).val(),f=$("#frm_inp input[name=cpnpromno_dup]").eq(a).val(),g=0,h="0",i=0;if(ord_session_clear(),init_cpn_info("N","N","Y"),$("#frm_inp input[name=third_coupon]:radio:last").prop("checked",!0),$("span[name=dup_span]").each(function(){$(this).html("")}),"N"==a)return init_cpn_info("N","Y","N"),void select_dup_coupon();if($(this).prop("disabled",!1),void 0==c||"N"==c?(b=single_prom,g=single_prom_cnt,sessionStorage.setItem("dup_cnt_div","single")):(b=multi_prom,g=multi_prom_cnt,h="0"==e?d:e,sessionStorage.setItem("dup_cnt_div","multi")),g>0){for(var j=0;j<b.length;j++)if(b[j][0]==h&&b[j][1]==f){i=b[j][2],sessionStorage.setItem("prom_no",b[j][0]),sessionStorage.setItem("dup_prom_no",b[j][1]),sessionStorage.setItem("fvr_val",b[j][2]),sessionStorage.setItem("goods_no",b[j][3]),sessionStorage.setItem("itme_no",b[j][4]),sessionStorage.setItem("max_fvr_val",b[j][5]),sessionStorage.setItem("prom_nm",b[j][6]),sessionStorage.setItem("rsc_mgmt_sn",b[j][7]);break}if(parseInt(i)>0)return"N"!=a?(promcartsn=$("#frm_inp input[name=promcartsn_dup]").eq(a).val(),d=$("#frm_inp input[name=prommdclcd_dup]").eq(a).val(),fvrpolctpcd=$("#frm_inp input[name=fvrpolctpcd_dup]").eq(a).val(),totdcamt=sessionStorage.getItem("fvr_val"),e=$("#frm_inp input[name=cpnpromno_dup]").eq(a).val(),cpnrscmgmtsn=$("#frm_inp input[name=cpnrscmgmtsn_dup]").eq(a).val(),adtncostdtlsctnm=$("#frm_inp input[name=adtncostdtlsctnm_dup]").eq(a).val(),cardkndcd=$("#frm_inp input[name=cardkndcd_dup]").eq(a).val(),includeSaveInstCpn=$("#frm_inp input[name=includeSaveInstCpn_dup]").eq(a).val()):(promcartsn="",d="",fvrpolctpcd="",totdcamt="",e="",cpnrscmgmtsn="",adtncostdtlsctnm="",cardkndcd="",includeSaveInstCpn=""),$("#frm_send input[name=promcartsn_dup]").val(promcartsn),$("#frm_send input[name=prommdclcd_dup]").val(d),$("#frm_send input[name=fvrpolctpcd_dup]").val(fvrpolctpcd),$("#frm_send input[name=totdcamt_dup]").val(totdcamt),$("#frm_send input[name=cpnpromno_dup]").val(e),$("#frm_send input[name=cpnrscmgmtsn_dup]").val(cpnrscmgmtsn),$("#frm_send input[name=adtncostdtlsctnm_dup]").val(adtncostdtlsctnm),$("#frm_send input[name=cardkndcd_dup]").val(cardkndcd),$("#frm_send input[name=includeSaveInstCpn_dup]").val(includeSaveInstCpn),$("span[name=dup_span]:eq("+a+")").html("(<strong>"+String(totdcamt).money()+"</strong> 원 할인)"),select_dup_coupon(),void $("#dcAmt2").html("(-"+String(i).money()+"원)");$(this).prop("disabled",!0),alert("죄송합니다.\n추가할인 불가능 상품입니다.")?(add_dis_impossible_flag=!1,add_dis_impossible()):(add_dis_impossible_flag=!0,add_dis_impossible())}else init_cpn_info("N","Y","N")}})}function add_dis_impossible(){$("#frm_inp select[name=dup_coupon]").blur(),$("#frm_inp select[name=dup_coupon]").val("N"),$("#frm_inp select[name=dup_coupon]")[0].selectedIndex=0,init_cpn_info("N","Y","N"),select_dup_coupon()}function select_coupon(){console.log("select_coupon"),init_cardselect(),getCardInsCheck(),init_point(),setCashReceiptArea(),fn_initPointList("ALL"),fn_calcTotalPrice(),paycardinstmon(),$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_CARD&&sel_card_confirm_type()}function select_dup_coupon(){console.log("select_dup_coupon"),init_cardselect(),init_point(),setCashReceiptArea(),fn_initPointList("ALL"),fn_calcTotalPrice(),getCardInsCheck(),paycardinstmon(),$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_CARD&&sel_card_confirm_type()}function sel_card_confirm_type(){var a="";$(".slide_ul .check").each(function(){a=$(this).attr("id")}),""!=a&&""!=$("#frm_inp input[name="+a+"_card_confirm_type]:hidden").val()&&void 0!=$("#frm_inp input[name="+a+"_card_confirm_type]:hidden").val()&&$("#frm_inp input[name=card_confirm_type]:radio[value='"+$("#frm_inp input[name="+a+"_card_confirm_type]:hidden").val()+"']").prop("checked",!0)}function select_third_coupon_controll(a){"35"==a?($("#frm_inp input[name=rdo_cardinst]:radio").each(function(){$(this).prop("disabled",!0)}),$("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").prop("disabled",!1),$("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").prop("checked",!0),$("#frm_inp select[name=cardinstmon] option:first").prop("selected",!0),$("#frm_inp select[name=cardinstmon]").prop("disabled",!0)):($("#frm_inp input[name=rdo_cardinst]:radio").each(function(){$(this).prop("disabled",!1)}),$("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").prop("checked",!0),$("#frm_inp select[name=cardinstmon] option:first").prop("selected",!0),$("#frm_inp select[name=cardinstmon]").prop("disabled",!1)),paycardinstmon()}function fnClear(a){a.style.background=""}function lottecard_payment(a){lotte_auth_type=a,"SPSA"==a||"ACSA"==a||"MAPC"==a?chkAppIsInstall(a):fn_simple_payform_submit(lotte_auth_type)}function chkAppIsInstall(a){"MAPC"==a?""!=cp_schema&&isAndroid?window.myJs.appIsInstall("com.lcacApp"):""!=cp_schema&&isIOS?window.location="appIsInstall://lotteappcard":fn_simple_payform_submit(lotte_auth_type):""!=cp_schema&&isAndroid?window.myJs.appIsInstall("com.lotte.lottesmartpay"):""!=cp_schema&&isIOS?window.location="appIsInstall://lottesmartpay":fn_simple_payform_submit(lotte_auth_type)}function rtnCardPaymentApp(a){$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_LPAY?"N"==a?confirm("L.pay APP이 설치되어 있지 않습니다.\n지금 L.pay APP을 설치 하시겠습니까?")?lpay_lnk_app():$("#frm_inp input[name=rdo_paytype]:radio:eq(1)").trigger("click"):fn_lpay_process_call():$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_CARD&&("N"==a&&(lotte_auth_type=""),console.log("1704 lotte_auth_type=="+lotte_auth_type),fn_simple_payform_submit(lotte_auth_type))}function fn_simple_payform_submit(a){$("#ANSIM_LAYER").css("width","100%"),$("#ANSIM_LAYER").css("height","530px"),window.scrollTo(0,0),$("#ANSIM_LAYER").show(),$("#X_ANSIM_FRAME").show(),$("#SIMPLEPAYFORM input[name=PAY]:hidden").val(a),$("#SIMPLEPAYFORM").attr("target","X_ANSIM_FRAME"),$("#SIMPLEPAYFORM").attr("action","/smpi/M_LCSMPIAgent01.jsp"),$("#SIMPLEPAYFORM").submit()}function xmpi_exec(){$("#frm_card").attr("target","X_ANSIM_FRAME"),$("#frm_card").attr("action","/dacom/xansim/m_hagent01.jsp"),$("#frm_card").submit()}function spay_exec(){$("#frm_spay input[name=totsttlamt]:hidden").val($("#frm_send input[name=totsttlamt]:hidden").val()),$("#frm_spay input[name=cardinst]:hidden").val($("#frm_send input[name=cardinst]:hidden").val()),$("#frm_spay input[name=cardinstmon]:hidden").val($("#frm_send input[name=cardinstmon]:hidden").val()),$("#frm_spay").attr("target","X_ANSIM_FRAME"),$("#frm_spay").attr("action","/spay/shopMW.jsp"),$("#frm_spay").submit()}function cellphone_exec(){$("#frm_mobilians input[name=totsttlamt]:hidden").val($("#frm_send input[name=totsttlamt]:hidden").val()),$("#frm_mobilians").attr("target","X_ANSIM_FRAME"),$("#frm_mobilians").attr("action","/mobilians/mc_web.jsp"),$("#frm_mobilians").submit()}function setCertResult(a,b,c,d,e){$("#ANSIM_LAYER").hide(),$("#X_ANSIM_FRAME").attr("src","/dacom/xansim/iframe.jsp"),$("#frm_send input[name=xid]:hidden").val(a),$("#frm_send input[name=eci]:hidden").val(b),$("#frm_send input[name=cavv]:hidden").val(c),$("#frm_send input[name=cardno]:hidden").val(d),doPayment()}function setCertResult2(a,b,c,d,e){$("#frm_send input[name=xid]:hidden").val(a),$("#frm_send input[name=eci]:hidden").val(b),$("#frm_send input[name=cavv]:hidden").val(c),$("#frm_send input[name=cardno]:hidden").val(d),$("#frm_send input[name=joincode]:hidden").val(e),doPayment()}function disableItems(a){$("#cover").css("z-index","1000004"),a?($("#cover").css("display","block"),$("#ORDER").hide(),$("#PROCESSING").show(),$("#cover").on("click",function(){close_iframe()})):($("#cover").css("display","none"),$("#ORDER").show(),$("#PROCESSING").hide(),$("#cover").off("click"))}function returnPaymentPage(){disableItems(!1),$("#X_ANSIM_FRAME").attr("src","/dacom/xansim/iframe.jsp")}function close_iframe(){$("#frm_lpay input[name=simple_lpay_open]:hidden").val("N"),returnPaymentPage(),document.getElementById("X_ANSIM_FRAME").width=450,document.getElementById("X_ANSIM_FRAME").height=0,document.getElementById("ANSIM_LAYER").style.display="none",document.getElementById("X_ANSIM_FRAME").style.display="none"}function doPayment(){""==$("#frm_send input[name=totdcamt]:hidden").val()&&$("#frm_send input[name=totdcamt]:hidden").val("0"),$("#cover").css("display","none"),$("#ORDER").show(),$("#PROCESSING").hide(),$("#X_ANSIM_FRAME").attr("src","/dacom/xansim/iframe.jsp"),$("#frm_send").submit()}function ansimclose(){$("#ANSIM_LAYER").hide(),$("#X_ANSIM_FRAME").attr("src","/dacom/xansim/iframe.jsp"),$("#ORDER").show(),$("#PROCESSING").hide()}function getName(){var a=$("#frm_inp input[name=inprmitnm]").val();a+=" 님",$("#frm_inp input[name=receivename]").val(a)}function fn_selPointAll(a){var b=$("#frm_inp input[name=totsttlamt]:hidden").val(),c=0,d=a.id;if("chk_deposit_all"==d&&setCashReceiptArea(),a.checked){if(0==parseInt(b))return void(a.checked=!1);"chk_lpoint_all"==d?(b=parseInt(b)+parseInt($("#old_lpoint_amt").val()),c=parseInt($("#useable_lpoint_amt").val()),$("#lpoint_amt").val(c>b?b:c)):"chk_lt_point_all"==d?(b=parseInt(b)+parseInt($("#old_lt_point_amt").val()),c=parseInt($("#useable_lt_point_amt").val()),$("#lt_point_amt").val(c>b?b:c)):"chk_deposit_all"==d&&($("#cash_receipts").show(),b=parseInt(b)+parseInt($("#old_deposit_amt").val()),c=parseInt($("#useable_deposit_amt").val()),$("#deposit_amt").val(c>b?b:c))}else"chk_lpoint_all"==d?($("#lpoint_amt").val(""),$("#old_lpoint_amt").val("0")):"chk_lt_point_all"==d?($("#lt_point_amt").val(""),$("#old_lt_point_amt").val("0")):"chk_deposit_all"==d&&($("#deposit_amt").val(""),$("#old_deposit_amt").val("0"));fn_calcTotalPrice(),init_cardselect(),init_cardinstmon(),paycardinstmon()}function fn_point_change(a){var b=a.id,c=a.value,d=$("#frm_inp input[name=totsttlamt]:hidden").val(),e=$("#old_"+b).val(),f=0;c=""==c?"0":c,d=parseInt(d)+parseInt(e),"lpoint_amt"==b&&$("#chk_lpoint").prop("checked")?(f=parseInt($("#useable_lpoint_amt").val()),$("#chk_lpoint_all").prop("checked",!1)):"lt_point_amt"==b&&$("#chk_lt_point").prop("checked")&&(f=parseInt($("#useable_lt_point_amt").val()),$("#chk_lt_point_all").prop("checked",!1)),f=f>d?d:f,parseInt(c)>f?a.value=0==f?0:10*Math.floor(f/10):a.value="0"==c?"":c,fn_calcTotalPrice(),init_cardselect(),init_cardinstmon(),paycardinstmon()}function fn_point_focus(a){a.value="",fn_point_change(a)}function fn_freeDlvpCpnUse(){var a=$("#dlv_prom_use_yn").val(),b=$("#dlv_fvr_val").val(),c=$("#frm_inp input[name=totsttlamt]:hidden").val();return"N"==a&&parseInt(b)>parseInt(c)?($("#dlv_prom_use_yn").val("N"),$("#frm_inp input[name=free]").eq(1).prop("checked",!0),void alert("배송비할인 금액이 결제금액보다 클 수 없습니다.")):($("#dlv_prom_use_yn").val($("#frm_inp input[name=free]:checked").val()),fn_calcTotalPrice(),void paycardinstmon())}function setCertSmartpayResult(a,b,c,d,e,f,g,h,i,j){paramSmartpaySet(a,b,c,d,f,g,h,i,j)}function paramSmartpaySet(a,b,c,d,e,f,g,h,i){$("#frm_send input[name=xid]").val(a),$("#frm_send input[name=eci]").val(b),$("#frm_send input[name=cavv]").val(c),$("#frm_send input[name=cardno]").val(d),$("#frm_send input[name=restype]").val(f),""!=f&&""!=g&&g!=$("#frm_send input[name=user_key]").val()&&$("#frm_send input[name=update_easn_yn]").val("Y"),$("#frm_send input[name=user_key]").val(g),$("#frm_send input[name=res_type]").val(f),$("#frm_send input[name=req_type]").val(f),$("#frm_send input[name=apvl_desc]").val(h),$("#frm_send input[name=acqr_cd]").val()==paytype_card_047&&("SPS"==i||"SPSW"==i?$("#frm_send input[name=card_pay_meth_cd]").val("01"):"SPSA"==i?$("#frm_send input[name=card_pay_meth_cd]").val("11"):"ACS"==i||"ACSW"==i?$("#frm_send input[name=card_pay_meth_cd]").val("02"):"ACSA"==i?$("#frm_send input[name=card_pay_meth_cd]").val("22"):"APC"==i||"MAPC"==i?$("#frm_send input[name=card_pay_meth_cd]").val("03"):"ALP"==i?$("#frm_send input[name=card_pay_meth_cd]").val("04"):$("#frm_send input[name=card_pay_meth_cd]").val("")),""==a&&""==b&&""==c&&""==d?(returnPaymentPage(),$("#X_ANSIM_FRAME").css("width","450px"),$("#X_ANSIM_FRAME").css("height","0px"),$("#X_ANSIM_FRAME").hide(),$("#ANSIM_LAYER").hide()):doPayment()}function misp_plugIn(a){a==paytype_card_016||a==paytype_card_026||a==paytype_card_002||a==paytype_card_054||a==paytype_card_021?$("#mISP_INFO").show():$("#mISP_INFO").hide()}function init(){$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_CARD?$("#pay_card").show():$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_BANK?$("#pay_bank").show():$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_LPAY&&$("#pay_card").show(),localStorageReSet("order_"),ord_session_clear(),single_prom=singleProm,single_prom_cnt=singlePromCnt,multi_prom=multiProm,multi_prom_cnt=multiPromCnt,$("#frm_inp select[name=iscmcd] option:first").attr("selected",!0),$("#frm_inp input[name=rdo_cardinst]:radio").attr("disabled",!0),$("#frm_inp select[name=cardinstmon]").attr("disabled",!0),$("#frm_inp select[name=bankno] option:first").attr("selected",!0),benefit_dlvp_set(),fn_freeDlvpCpnUse(),$("#frm_inp select[name=rdo_cash]").change(),setLottePointSaveDiv(0)}function productToggle(a,b){$(a).toggleClass("on"),$(b).toggle()}function createCardType(){var a='<option value ="">카드선택</option>';a+=cardStr,$("#frm_inp select[name=iscmcd]").html(a),getCardInsCheck(),$(".inlineBorder").removeClass("active")}function fn_gucci_realtime(){for(var a=!0,b=$("#frm_send input[name=ordqty]:hidden").val().split(split_gubun_1),c=$("#frm_send input[name=itemno]:hidden").val().split(split_gubun_1),d=$("#frm_send input[name=goodsno]:hidden").val().split(split_gubun_1),e="",f="",g="",h=0;h<d.length;h++)if(e=d[h],f=c[h],g=b[h],$.ajax({async:!1,type:"POST",dataType:"json",url:"/product/searchGucciRealtimeCheck.do?"+__commonParam,data:{ord_qty:g,goods_no:e,item_no:f},success:function(b){b.count>0&&(alert("구찌연동오류: "+b.msg),a=!1)},error:function(b,c){alert("죄송합니다. 잠시 후 다시 이용해 주세요."),a=!1}}),!a)return a;return a}function fn_orderGucciAgreeSup(a){$(a).closest("div.check_layer").hasClass("on")?($(a).closest("div.check_layer").removeClass("on"),$(a).closest("div.check").removeClass("on").addClass("off"),$("#gucci_sup_div").hide()):($(a).closest("div.check_layer").addClass("on"),$(a).closest("div.check").removeClass("off").addClass("on"),$("#gucci_sup_div").show())}function fn_orderGucciAgreeTrns(a){$(a).closest("div.check_layer").hasClass("on")?($(a).closest("div.check_layer").removeClass("on"),$(a).closest("div.check").removeClass("on").addClass("off"),$("#gucci_trns_div").hide()):($(a).closest("div.check_layer").addClass("on"),$(a).closest("div.check").removeClass("off").addClass("on"),$("#gucci_trns_div").show())}function benefit_dlvp_set(a){var b,c=1;if(null==a)for(;;){if(b=$("input[name=bene_deli_data_"+c+"]:hidden"),0==b.length)break;var d=$("input[name=bene_deli_data_"+c+"]:hidden").val().split("|"),e="",f="",g="",h="",i="",j="",k=$("input[name=smartOrd]").val(),l=$("input[name=crspk_exist_yn]").val();"Y"==l&&(k="N"),$("input[name=bene_deli_data_"+c+"]:hidden").each(function(){chk_data=$(this).val().split("|"),d[1]==chk_data[1]&&(j=""==e?"":split_gubun_1,e+=j+chk_data[0],f+=j+chk_data[1],g+=j+chk_data[2],h+=j+k,i+=j+chk_data[3])});var m="",n="",o="",p=0;$.ajax({type:"post",async:!1,url:"/popup/multi_deli_amt.do?"+__commonParam,data:"goodsNoMany="+e+"&dlvPolcNoMany="+f+"&realSalePrcMany="+g+"&smpUseYnMany="+h+"&ordQtyMany="+i,success:function(a){m=a.split(":"),n=m[0],o=m[1],p=$.trim(m[2])}}),"0000"==$.trim(n)?($("#bene_group_deli_amt_"+c).find("span").attr("dlex",p),$("#bene_group_deli_amt_"+c).find("span").html("Y"==freeShippingYn?'무료 <span class="no_bold">(플래티넘+ 회원)</span>':0==p?"무료":new String(p).money()+'<span class="no_bold">원</span>')):alert($.trim(o)),c++}else{var q=a[0],p=a[1],r=a[2],c="";$("input[name^=bene_deli_data_]").each(function(){var a=$(this).val().substring(0,$(this).val().lastIndexOf("|"));a==q&&(c=$(this).attr("name").substring("bene_deli_data_".length))});$("#bene_group_deli_amt_"+c).find("span").attr("dlex");$("#bene_group_deli_amt_"+c).find("span").attr("dlex",p),$("#bene_group_deli_amt_"+c).find("span").html("Y"==freeShippingYn?'무료 <span class="no_bold">(플래티넘+ 회원)</span>':0==p?'무료<span class="no_bold">(배송지 '+r+")</span>":new String(p).money()+'<span class="no_bold">원(배송지 '+r+")</span>"),fn_calcTotalPrice()}}function selSearchImallAddr(a,b,c,d,e){$("#frm_inp input[name=corpPostNoSn]:hidden").eq(0).val(d),$("#frm_inp input[name=postNo]:hidden").eq(0).val(e),$("#frm_inp input[name=inpzip1]:hidden").eq(0).val(a),$("#frm_inp input[name=inpzip2]:hidden").eq(0).val(b),$("#frm_inp input[name=inpaddr1]").eq(0).val(c),$("#frm_inp input[name=inpaddr2]").eq(0).val(""),$("#frm_inp input[name=inpaddr2]").focus(),$("dd.add_result").empty(),$("dd.add_result").hide()}function searchImallAddr(){var a=$("#inpsearch").val();return a?void $.ajax({type:"post",async:!1,url:"/order/imall_search_address.do?"+__commonParam,data:"dname="+a+"&grockle_yn="+grockle_yn,success:function(a){$("dd.add_result").show(),$("dd.add_result").html(a)},error:function(a,b,c){alert("우편번호 검색이 실패했습니다.\n다시 시도해주세요."),$("#frm_inp input[name=inpsearch]").focus()}}):void alert("검색할 동이름을 입력해주세요.")}function fn_pay_realtime(a){for(var b=JSON.parse(dupGoodsInfo.replace(/'/g,'"')),c=!0,d="",e="",f="",g="",h="",i=0;i<b.length;i++)""!=d&&d.length>0&&(d+="[!AND!]",e+="[!AND!]",f+="[!AND!]"),d+=b[i][0],e+=b[i][1],f+=b[i][2];return g="Y"==a?$("#temp_zip1_1").val()+$("#temp_zip2_1").val():"0"==deli_size?$("#frm_inp input[name=inpzip1]:hidden").val()+$("#frm_inp input[name=inpzip2]:hidden").val():void 0!=$("#deli_option_1 input[name=deli_chk_1]:radio:checked").val()||"undefined"!=$("#deli_option_1 input[name=deli_chk_1]:radio:checked").val()?$(":hidden[name=postNo]").eq(0).val():$("#frm_inp input[name=postNo]").eq(0).val(),h=$("#frm_send input[name=cartsn]:hidden").val(),$.ajax({async:!1,cache:!1,type:"POST",dataType:"json",url:"/product/searchOrderRealtimePay.do?"+__commonParam,data:{goods_no_list:d,item_no_list:e,real_qty_list:f,post_no_manay:g,cartSn:h,dlvp_cnt:0,goods_no_many:"",item_no_manay:"",ord_qty_many:""},success:function(a){if(a.count>0){var b="상품의 재고 수량이 부족합니다.";"[null]"!=a.list&&(b=a.count>1?"각상품 "+a.list+"의 재고 수량이 부족합니다.":"상품 "+a.list+"의 재고 수량이 부족합니다."),alert(b),c=!1}else"N"==a.deliv?(alert("배송불가 지역 입니다"),c=!1):c=!0},error:function(a,b){alert("죄송합니다. 잠시 후 다시 이용해 주세요."),c=!1}}),c}function send(){if(sendTclick("Sporder_Clk_Btn_9"),("137725"!=cp_cn||chk_ocb_card_no())&&("Y"==grockle_yn||searchCncnMbrChk())&&fn_invQtyCheck($("#frm_send input[name=cartsn]:hidden").val())){if(G=$("#frm_inp select[name=iscmcd]").val(),cpncardcd=$("#frm_send input[name=cardkndcd]:hidden").val(),cpncardcd_dup=$("#frm_send input[name=cardkndcd_dup]:hidden").val(),""!=cpncardcd||""!=cpncardcd_dup){if(""==G||$("#frm_inp input[name=rdo_paytype]:radio:checked").val()!=PAYTYPE_CODE_CARD&&$("#frm_inp input[name=rdo_paytype]:radio:checked").val()!=PAYTYPE_CODE_LPAY)return alert("카드할인을 받으시려면 해당 카드로 결제하셔야 합니다."),$("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").attr("disabled",!1),$("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").attr("checked",!0),$("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").prop("checked",!0),void $("#frm_inp select[name=iscmcd]").change();if(""!=G&&G!=cpncardcd&&G!=cpncardcd_dup)return $("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").attr("disabled",!1),$("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").attr("checked",!0),$("#frm_inp input[name=rdo_cardinst]:radio:eq(0)").prop("checked",!0),void $("#frm_inp select[name=iscmcd]").change()}if($("#assent_all").length>0&&"block"==$("#assent_all").parents(".box_agree_check").css("display")&&!$("#pg_assent_crd").prop("checked")&&!$("#frm_inp input[name=ord_agr_yn]").is(":checked"))return void(confirm("주문 내역 확인 및 결제 서비스 이용약관을 확인 후 동의하셔야 구매가 가능합니다.")&&($("#frm_send input[name=ord_agr_yn]:hidden").val("Y"),$("input:checkbox[id='order_agree_on']").prop("checked",!0).trigger("change"),$("#pg_assent_crd").click()));if(!$("#frm_inp input[name=ord_agr_yn]").is(":checked"))return void(confirm("주문 내역 확인 동의를 하셔야 합니다.")&&($("#frm_send input[name=ord_agr_yn]:hidden").val("Y"),$("input:checkbox[id='order_agree_on']").prop("checked",!0).trigger("change")));if($("#frm_send input[name=ord_agr_yn]:hidden").val("Y"),"block"==$("#assent_all").parents(".box_agree_check").css("display")&&!$("#pg_assent_crd").prop("checked"))return void(confirm("결제 서비스 이용약관을 확인 후 동의하셔야 구매가 가능합니다.")&&$("#pg_assent_crd").click());if(""==totpayamt){var a=$("#frm_inp input[name=defaulttotsttlamt]:hidden").val(),b=($("#frm_send input[name=includeSaveInstCpn]").val(),$("#frm_send input[name=totdcamt]").val());totpayamt="Y"==includeSaveInstCpn?a.toString():(a-b).toString();var c=0,d=$("#frm_send input[name=qs_yn]:hidden").val();"N"==freeShippingYn?c=$("#frm_inp input[name=chk_multi_dlvp]:checkbox").prop("checked")?$("#frm_inp input[name=caltotdeliamt]:hidden").val():$("#frm_inp input[name=orgtotdeliamt]:hidden").val():"Y"==d&&(c=$("#frm_inp input[name=orgtotdeliamt]:hidden").val()),"N"==freeShippingYn?totpayamt=(parseInt(totpayamt)+parseInt(c)-parseInt($("#frm_inp input[name=orgtotdeliamt]:hidden").val())).toString():"Y"==d&&(totpayamt=(parseInt(totpayamt)+parseInt(c)-parseInt($("#frm_inp input[name=orgtotdeliamt]:hidden").val())).toString())}if($("#frm_inp input[name=next_use]").is(":checked")&&Number(totpayamt)>0&&($("#frm_send input[name=pay_mean_hist_use_yn]").val("Y"),$("#frm_send input[name=pay_mean_hist_pay_mean_cd]").val($("#frm_inp input[name=rdo_paytype]:radio:checked").val()),$("#frm_send input[name=bnk_cd]").val(""),$("#frm_send input[name=acqr_cd]").val(""),$("#frm_send input[name=card_pay_meth_cd]").val(""),$("#frm_send input[name=pay_mean_hist_pay_mean_cd]").val()==PAYTYPE_CODE_CARD?($("#frm_send input[name=acqr_cd]").val($("#frm_inp select[name=iscmcd]").val()),$("#frm_send input[name=card_pay_meth_cd]").val($("#frm_inp input[name=card_confirm_type]:radio:checked").val())):$("#frm_send input[name=pay_mean_hist_pay_mean_cd]").val()==PAYTYPE_CODE_BANK?$("#frm_send input[name=bnk_cd]").val($("#frm_inp select[name=bankno]").val()):$("#frm_send input[name=pay_mean_hist_pay_mean_cd]").val()==PAYTYPE_CODE_LPAY&&$("#frm_send input[name=acqr_cd]").val($("#frm_inp select[name=iscmcd]").val())),0==Number(totpayamt)&&""!=$("#frm_inp input[name=op_pay_mean_hist_pay_mean_cd]").val()&&($("#frm_send input[name=pay_mean_hist_use_yn]").val("Y"),$("#frm_send input[name=pay_mean_hist_pay_mean_cd]").val($("#frm_inp input[name=op_pay_mean_hist_pay_mean_cd]").val()),$("#frm_send input[name=bnk_cd]").val(""),$("#frm_send input[name=acqr_cd]").val(""),$("#frm_send input[name=card_pay_meth_cd]").val(""),$("#frm_send input[name=pay_mean_hist_pay_mean_cd]").val()==PAYTYPE_CODE_CARD?($("#frm_send input[name=acqr_cd]").val($("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()),$("#frm_send input[name=card_pay_meth_cd]").val($("#frm_inp input[name=op_pay_mean_hist_card_pay_meth_cd]").val())):$("#frm_send input[name=pay_mean_hist_pay_mean_cd]").val()==PAYTYPE_CODE_BANK?$("#frm_send input[name=bnk_cd]").val($("#frm_inp input[name=op_pay_mean_hist_bnk_cd]").val()):$("#frm_send input[name=pay_mean_hist_pay_mean_cd]").val()==PAYTYPE_CODE_LPAY&&$("#frm_send input[name=acqr_cd]").val($("#frm_inp select[name=iscmcd]").val())),$("#frm_inp input[name=paytype]:hidden").val()!=PAYTYPE_CODE_PHONE||cellphone_confirm()){if("Y"==imallYN&&(dlvpuseyn="Y",cbltelrgnno="000",cblteltxnono="0000",cbltelendno="0000"),username!=$("#nameSp").text()?($("#frm_send input[name=ord_man_nm]").val($("#nameSp").text()),$("#frm_send input[name=ord_final_nm]").val($("#nameSp").text())):($("#frm_send input[name=ord_man_nm]").val(""),$("#frm_send input[name=ord_final_nm]").val(username)),!$("#frm_inp input[name=chk_multi_dlvp]:checkbox").prop("checked")){var e=$("#frm_inp input[name=gift_msg_y_index]:hidden").val(),f="",g="",h="";f=$("#frm_inp #giftMs_"+e+" input[name=receivename_"+e+"]").val(),g=$("#frm_inp #giftMs_"+e+" input[name=sendname_"+e+"]").val(),h=$("#frm_inp #giftMs_"+e+" #sendmessage_"+e).val(),"1"==$("#frm_inp #gift_msgMulti_"+e+" input[name=gift_yn_"+e+"]:radio:checked").val()&&($("#frm_inp .gift_msgMultiInsert input[name=gift_yn_1]:radio[value='1']").prop("checked",!0),$("#frm_inp .gift_msgMultiInsert input[name=gift_yn_1]:radio[value='2']").prop("checked",!1),$("#frm_inp .gift_msgMultiInsert input[name=receivename_1]").val(f),$(".gift_msgMultiInsert #sendmessage_1").val(h),$("#frm_inp .gift_msgMultiInsert input[name=sendname_1]").val(g))}if("Y"!=imallYN){if(!setDeliData())return}else if(!setImallDeliData())return;if(fn_chkDeliDeptClose()){for(var i=$("#frm_send input[name=goodsno]:hidden").val().split(split_gubun_1),j=$("#frm_send input[name=use_dlv_hope_dd]:hidden").val().split(split_gubun_1),k=$("#frm_send input[name=mdl_no]:hidden").val().split(split_gubun_1),l=$("#frm_send input[name=ordqty]:hidden").val().split(split_gubun_1),m=!0,n="",o=0;o<i.length;o++)if("Y"==j[o]){
if(""==$("#select_dd").val()||"날짜를 선택해 주세요."==$("#select_dd").val())return $("#select_dd").focus(),void alert("희망배송일을 선택하세요.");$.ajax({async:!1,url:"/order/dlvHopeChk.do",dataType:"json",cache:!1,data:{mdlNo:k[o],qty:l[o],dlvHopeDd:$("#select_dd").val()},success:function(a){return a.success?void(n+=o<i.length-1?$("#select_dd").val()+":^:":$("#select_dd").val()):($("#select_dd").focus(),alert("선택하신 배송일의 예약이 마감되었습니다.\n 희망배송일을 다시 선택해주세요."),void(m=!1))}})}else n+=o<i.length-1?"9999-12-31:^:":"9999-12-31";if(m){if($("#frm_send input[name=goods_choc_desc]:hidden").val(n),"Y"!=grockle_yn&&("SMARTPICK"==gubun||"ECOUPON"==gubun)){var p=$("#frm_inp select[name=areaNum_select]").val(),q="",r="",s="",t="",u="";(void 0==p||0==p.length)&&(p=1);for(var o=1;p>=o;o++){$("#frm_inp input[name=mst_adre_nm_temp_"+o+"]:hidden").val($("#frm_inp input[name=mst_adre_nm_"+o+"]").val()),$("#frm_inp input[name=mst_adre_no_temp_01_"+o+"]:hidden").val($("#frm_inp select[name=mst_adre_no_01_"+o+"]").val()),$("#frm_inp input[name=mst_adre_no_temp_02_"+o+"]:hidden").val($("#frm_inp input[name=mst_adre_no_02_"+o+"]").val()),$("#frm_inp input[name=mst_adre_no_temp_03_"+o+"]:hidden").val($("#frm_inp input[name=mst_adre_no_03_"+o+"]").val()),$("#frm_inp input[name=msg_cont_temp_"+o+"]:hidden").val($("#frm_inp textarea[name=msg_cont_"+o+"]").val());var v=$.trim($("#frm_inp input[name=mst_adre_no_temp_02_"+o+"]:hidden").val())+$.trim($("#frm_inp input[name=mst_adre_no_temp_03_"+o+"]:hidden").val()),w=$.trim($("#frm_inp input[name=mst_adre_no_temp_01_"+o+"]:hidden").val())+v,x=/(01[016789])(\d{3}|\d{4})\d{4}$/g,y="받는 분";if($("#frm_inp input[name=chk_multi_dlvp]:checkbox").prop("checked")&&(y+=o),""==v)return void alert(y+"의 휴대폰 번호가 비어있습니다.");if(!x.test(w))return void alert(y+"의 휴대폰 번호가 올바르지 않습니다.");if(""==$.trim($("#frm_inp input[name=mst_adre_nm_temp_"+o+"]:hidden").val()))return void alert(y+"의 이름이 비어있습니다.");o>1&&(q+=split_gubun_1,r+=split_gubun_1,s+=split_gubun_1,t+=split_gubun_1,u+=split_gubun_1),t+=$("#frm_inp input[name=mst_adre_nm_temp_"+o+"]:hidden").val(),q+=$.trim($("#frm_inp input[name=mst_adre_no_temp_01_"+o+"]:hidden").val()),r+=$.trim($("#frm_inp input[name=mst_adre_no_temp_02_"+o+"]:hidden").val()),s+=$.trim($("#frm_inp input[name=mst_adre_no_temp_03_"+o+"]:hidden").val()),u+=$("#frm_inp input[name=msg_cont_temp_"+o+"]:hidden").val()}$("#frm_send input[name=mst_adre_nm]:hidden").val(t),$("#frm_send input[name=mst_adre_no_01]:hidden").val(q),$("#frm_send input[name=mst_adre_no_02]:hidden").val(r),$("#frm_send input[name=mst_adre_no_03]:hidden").val(s),$("#frm_send input[name=msg_cont]:hidden").val(u)}if($("#frm_inp input[name=chk_multi_dlvp]:checkbox").prop("checked")){for(var z=$("#frm_send input[name=cartsn]:hidden").val().split(split_gubun_1),A=$("#frm_send input[name=ordqty]:hidden").val().split(split_gubun_1),B=$("#frm_send input[name=goodsnm]:hidden").val().split(split_gubun_1),C=$("#frm_send input[name=dlvmeancd]:hidden").val().split(split_gubun_1),D=0,p=$("#frm_inp select[name=areaNum_select]").val(),E="",o=0;o<z.length;o++){D=0;var F=1;if($("input[name^=multi_prod_"+z[o]+"]").each(function(){D+=parseInt($(this).val()),p>=F&&(E+=$(this).val()),p>F?E+=split_gubun_3:F==p&&(E+=split_gubun_1),F++}),parseInt(A[o])!=D&&"90"!=C[o])return void alert(B[o]+" 수가 맞지 않습니다.")}$("#frm_send input[name=smpadreperqty]:hidden").val(E)}if(paytype=$("#frm_inp input[name=paytype]:hidden").val(),totsttlamt=$("#frm_inp input[name=totsttlamt]:hidden").val(),parseInt(totsttlamt)>0){var G,H,I;if(paytype==PAYTYPE_CODE_CARD||paytype==PAYTYPE_CODE_LPAY){if(G=$("#frm_inp select[name=iscmcd]").val(),H=$("#frm_inp select[name=cardinstmon]").val(),""==H||"35"==$("#frm_send input[name=prommdclcd_third]").val())cardinst="01",H="",$("#frm_inp select[name=cardinstmon]").val("");else{var J=$("#frm_inp input[name=onintmonth]:hidden").val();$("#frm_inp input[name=intmonth]:hidden").val();"2"==H?0==J.indexOf(H)?cardinst="02":cardinst="03":J.indexOf(H)>-1?cardinst="02":cardinst="03"}if($("#frm_inp input[name=rdo_cardinst]:radio[value='"+cardinst+"']").prop("checked",!0),totsttlamt=$("#frm_inp input[name=totsttlamt]:hidden").val(),bankno="",I="",reg_no1="",reg_no2="",totsttlamt<1e3)return void alert("1,000원 미만의 금액은 카드결제가 불가능합니다.");if(""==$.trim(G)&&paytype==PAYTYPE_CODE_CARD)return void alert("카드 종류를 선택해주세요.");if(paytype==PAYTYPE_CODE_LPAY){if("none"!=$(".box_Lpay_agree_check").css("display")&&"none"!=$(".box_Lpay_agree_check div a").css("display"))return void alert("L.pay 앱을 실행하여 카드를 등록해주세요.");if(""==$.trim(G))return void alert("카드 종류를 선택해주세요.")}else{if(totsttlamt>3e5&&varUa<0&&"mlotte003"==cp_schema&&$.trim(G)!=paytype_card_048&&$.trim(G)!=paytype_card_029&&$.trim(G)!=paytype_card_016&&$.trim(G)!=paytype_card_026&&$.trim(G)!=paytype_card_047&&$.trim(G)!=paytype_card_002&&$.trim(G)!=paytype_card_054&&$.trim(G)!=paytype_card_021&&$.trim(G)!=paytype_card_020&&$.trim(G)!=paytype_card_008)return $("#frm_inp input[name=rdo_paytype]:radio").length>1?void alert("결제금액이 30만원 이상인 경우는 롯데, 신한, 현대, 국민, 비씨, 광주, 우체국카드만 가능합니다. 그 외 카드는 무통장입금으로 결제하시거나 고객센터("+exp_tel_no+")로 전화주세요."):void alert("결제금액이 30만원 이상인 경우는 롯데, 신한, 현대, 국민, 비씨, 광주, 우체국카드만 가능합니다. 그 외 카드는 무통장입금으로 결제하시거나 고객센터("+exp_tel_no+")로 전화주세요.");if(totsttlamt>3e5&&varUa<0&&$.trim(G)!=paytype_card_048&&$.trim(G)!=paytype_card_029&&$.trim(G)!=paytype_card_016&&$.trim(G)!=paytype_card_026&&$.trim(G)!=paytype_card_047&&$.trim(G)!=paytype_card_031&&$.trim(G)!=paytype_card_002&&$.trim(G)!=paytype_card_054&&$.trim(G)!=paytype_card_021&&$.trim(G)!=paytype_card_020&&$.trim(G)!=paytype_card_008&&$.trim(G)!=paytype_card_018&&$.trim(G)!=paytype_card_036)return $("#frm_inp input[name=rdo_paytype]:radio").length>1?void alert("결제금액이 30만원 이상인 경우는 롯데, 신한, 현대, 국민, 비씨, 삼성, 광주, 우체국카드만 가능합니다. 그 외 카드는 무통장입금으로 결제하시거나 고객센터("+exp_tel_no+")로 전화주세요."):void alert("결제금액이 30만원 이상인 경우는 롯데, 신한, 현대, 국민, 비씨, 삼성, 광주, 우체국카드만 가능합니다. 그 외 카드는 무통장입금으로 결제하시거나 고객센터("+exp_tel_no+")로 전화주세요.");if(totsttlamt>3e5&&$.trim(G)!=paytype_card_048&&$.trim(G)!=paytype_card_029&&$.trim(G)!=paytype_card_016&&$.trim(G)!=paytype_card_026&&$.trim(G)!=paytype_card_020&&$.trim(G)!=paytype_card_047&&$.trim(G)!=paytype_card_031&&$.trim(G)!=paytype_card_002&&$.trim(G)!=paytype_card_054&&$.trim(G)!=paytype_card_021&&$.trim(G)!=paytype_card_008&&$.trim(G)!=paytype_card_018&&$.trim(G)!=paytype_card_036)return $("#frm_inp input[name=rdo_paytype]:radio").length>1?void alert("결제금액이 30만원 이상인 경우는 롯데, 신한, 현대, 국민, 삼성, 비씨, 하나SK, 광주, 우체국 카드만 가능합니다. 그 외 카드는 무통장입금으로 결제하시거나 고객센터("+exp_tel_no+")로 전화주세요."):void alert("결제금액이 30만원 이상인 경우는 롯데, 신한, 현대, 국민, 삼성, 비씨, 하나SK, 광주, 우체국 카드만 가능합니다. 그 외 카드는 무통장입금으로 결제하시거나 고객센터("+exp_tel_no+")로 전화주세요.");if(totsttlamt>3e5&&varUa<0&&"mlotte001"==cp_schema&&$.trim(G)==paytype_card_031&&""!=cp_schema&&""!=cp_udid&&!appVerChk(cp_v,"133"))return void alert("롯데닷컴 앱에서 삼성카드 30만원 이상 결제를 하시려면 롯데닷컴 최신버전 앱으로 업데이트 해주세요.");if(totsttlamt>3e5&&varUa>-1&&$.trim(G)==paytype_card_047&&"mlotte001"==cp_schema&&""!=cp_udid&&!appVerChk(cp_v,"160"))return void alert("롯데닷컴 앱에서 롯데카드 30만원 이상 결제를 하시려면 롯데닷컴 최신버전 앱으로 업데이트 해주세요.");if(totsttlamt>3e5&&varUa>-1&&$.trim(G)==paytype_card_031&&"mlotte001"==cp_schema&&""!=cp_udid&&!appVerChk(cp_v,"164"))return void alert("롯데닷컴 앱에서 삼성카드 30만원 이상 결제를 하시려면 롯데닷컴 최신버전 앱으로 업데이트 해주세요.");if("01"!=cardinst&&""==$.trim(H))return void alert("할부기간을 선택해주세요.")}}else if(paytype==PAYTYPE_CODE_BANK){if(G="",cardinst="",H="",bankno=$("#frm_inp select[name=bankno]").val(),I=$("#frm_inp input[name=onlineacctname]").val(),reg_no1="",reg_no2="",""==$.trim(bankno))return void alert("입금 은행을 선택해주세요.");if(""==$.trim(I))return alert("입금자이름을 입력해주세요."),void $("#frm_inp input[name=onlineacctname]").focus()}else if(paytype==PAYTYPE_CODE_PHONE)G="",cardinst="",H="",bankno="",I="",reg_no1=$("#frm_inp input[name=reg_no1]").val(),reg_no2=$("#frm_inp input[name=reg_no2]").val();else{if(paytype!=PAYTYPE_CODE_NAVERPAY)return void 0!=typeof $("#pntOnlyPay").val()&&"19"==$("#pntOnlyPay").val()?void alert("L.POINT 전용 상품입니다. \n현재 보유하고 계신 L.POINT가 부족하여 주문을 진행 하실 수 없습니다."):void 0!=typeof $("#pntOnlyPay").val()&&"21"==$("#pntOnlyPay").val()?void alert("L-money 전용 상품입니다. \n현재 보유하고 계신 L-money가 부족하여 주문을 진행 하실 수 없습니다."):void alert("결제수단을 선택해주세요.");if(totsttlamt,totsttlamt<100)return void alert("네이버페이는 100원 이상만 결제 가능합니다.");G="",cardinst="",H="",bankno="",I="",reg_no1="",reg_no2=""}if($("#frm_send input[name=paytype]:hidden").val(paytype),$("#frm_send input[name=iscmcd]:hidden").val(G),$("#frm_send input[name=cardinst]:hidden").val(cardinst),$("#frm_send input[name=cardinstmon]:hidden").val(H),$("#frm_send input[name=bankno]:hidden").val(bankno),$("#frm_send input[name=onlineacctname]:hidden").val(I),$("#frm_send input[name=reg_no1]:hidden").val(reg_no1),$("#frm_send input[name=reg_no2]:hidden").val(reg_no2),paytype==PAYTYPE_CODE_LPAY)if($("#lpay_paymean .lpay.check.on.crucial").length>0){var K=$("#lpay_paymean .lpay.check.on.crucial").attr("id").replace("lpay_paymean_","");$("#frm_send input[name=lpay_card_id]:hidden").val($("select[name=iscmcd] option[data-card-id='"+K+"']").data("card-id")),$("#frm_send input[name=lpay_card_anm]:hidden").val($("select[name=iscmcd] option[data-card-id='"+K+"']").data("card-anm"))}else $("#frm_send input[name=lpay_card_id]:hidden").val($("select[name=iscmcd]").find("option:selected").attr("data-card-id")),$("#frm_send input[name=lpay_card_anm]:hidden").val($("select[name=iscmcd]").find("option:selected").attr("data-card-anm"))}else $("#frm_send input[name=paytype]:hidden").val(""),$("#frm_send input[name=iscmcd]:hidden").val(""),$("#frm_send input[name=cardinst]:hidden").val(""),$("#frm_send input[name=cardinstmon]:hidden").val(""),$("#frm_send input[name=bankno]:hidden").val(""),$("#frm_send input[name=onlineacctname]:hidden").val(""),$("#frm_send input[name=reg_no1]:hidden").val(""),$("#frm_send input[name=reg_no2]:hidden").val(""),$("#frm_send input[name=lpay_card_id]:hidden").val(""),$("#frm_send input[name=lpay_card_anm]:hidden").val("");var L,M,N,O,P,Q,R;L=void 0==$("#lpoint_amt").prop("id")?0:$("#lpoint_amt").val().length<1?0:$("#lpoint_amt").val(),M=void 0==$("#lt_point_amt").prop("id")?0:$("#lt_point_amt").val().length<1?0:$("#lt_point_amt").val(),N=void 0==$("#deposit_amt").prop("id")?0:$("#deposit_amt").val().length<1?0:$("#deposit_amt").val();var S=new Array,T=new Array,U=new Array;$.each($("#frm_inp input:checkbox[name=chk_point]:checked"),function(){S.push($(this).val()),"lpoint"==$(this).val()&&(T.push(lPoint),U.push(L)),"lt_point"==$(this).val()&&(T.push(ltPoint),U.push(M))});var V=new Array;$.each($("#frm_inp input:checkbox[name=chk_point_all]:checked"),function(){V.push($(this).val()),"deposit"==$(this).val()&&(T.push(deposit),U.push(N))}),O=S.join(),Q=T.join(),R=U.join(),P=V.join(),$("#frm_send input[name=lpoint_amt]:hidden").val(L),$("#frm_send input[name=lt_point_amt]:hidden").val(M),$("#frm_send input[name=deposit_amt]:hidden").val(N),$("#frm_send input[name=chk_point]:hidden").val(O),$("#frm_send input[name=chk_point_all]:hidden").val(P),$("#frm_send input[name=pay_mean_cd]:hidden").val(Q),$("#frm_send input[name=pay_amt]:hidden").val(R);var W,X,Y,Z;if(W=$("#dlv_prom_use_yn").val(),"Y"==W?(X=$("#dlv_fvr_val").val(),Y=$("#dlv_prom_no").val(),Z=$("#dlv_rsc_mgmt_sn").val()):(X="",Y="",Z=""),$("#frm_send input[name=dlv_prom_use_yn]:hidden").val(W),$("#frm_send input[name=dlv_fvr_val]:hidden").val(X),$("#frm_send input[name=dlv_prom_no]:hidden").val(Y),$("#frm_send input[name=dlv_rsc_mgmt_sn]:hidden").val(Z),$("#frm_send input[name=totsttlamt]:hidden").val(totsttlamt),$("#frm_card input[name=X_CARDTYPE]:hidden").val(G),$("#frm_card input[name=X_AMOUNT]:hidden").val(totsttlamt),totsttlamt>3e5&&(G==paytype_card_048||G==paytype_card_029)?($("#frm_card input[name=X_ISMART_USE_SIGN]:hidden").val("Y"),("Y"==lotte_app_yn||"Y"==smart_pic_app_yn||"Y"==ellotte_app_yn)&&$("#frm_card input[name=X_MALL_APP_NAME]:hidden").val(schema_domain)):($("#frm_card input[name=X_ISMART_USE_SIGN]:hidden").val(""),$("#frm_card input[name=X_MALL_APP_NAME]:hidden").val("")),G==paytype_card_047&&($("#SIMPLEPAYFORM input[name=order_amount]:hidden").val(totsttlamt),$("#SIMPLEPAYFORM input[name=order_cardname]:hidden").val("LOTTECARD")),paytype==PAYTYPE_CODE_BANK||paytype==PAYTYPE_CODE_NAVERPAY||""!=L&&L>0||""!=N&&N>0){var _=$("#frm_inp select[name=cr_issu_mean_sct_cd]").val(),aa=$("#frm_inp select[name=rdo_cash]").val(),ba="",ca="",da=0,ea="",fa=!0,ga="";if("1"==aa){$("#frm_send input[name=cr_issu_mean_sct_cd]:hidden").val(_),$("#frm_send input[name=cr_use_sct_cd]:hidden").val("0");"1"==_&&(_="2"),"3"==_&&(ca=$("#frm_inp select[name=cr_issu_mean_no_phone1]").val()),$("#cash_receipts0"+_+" input").each(function(){return da=$(this).attr("maxlength"),ea=$(this).attr("title"),ba=$(this).val(),tmp_str=" 이상",ga=$(this).attr("disabled"),"disabled"!=ga&&("cr_issu_mean_no_credit_crd4"==$(this).attr("name")?da=3:"cr_issu_mean_no_rcpt_crd4"==$(this).attr("name")?da=1:"cr_issu_mean_no_phone2"==$(this).attr("name")?da=3:tmp_str="로",ba.length<da)?(alert(ea+"를 "+da+"자리"+tmp_str+" 입력해 주세요."),$(this).focus(),fa=!1,!1):void(ca+=ba)}),$("#frm_send input[name=cr_issu_mean_no]:hidden").val(ca)}else if("2"==aa){$("#frm_send input[name=cr_issu_mean_sct_cd]:hidden").val($("#frm_inp input[name=cr_issu_mean_sct_cd_bman]:hidden").val()),$("#frm_send input[name=cr_use_sct_cd]:hidden").val("1"),$("#co_value input").each(function(){if(da=$(this).attr("maxlength"),da>1){if(ea=$(this).attr("title"),ba=$(this).val(),ba.length<da)return alert(ea+"를 "+da+"자리로 입력해 주세요."),$(this).focus(),fa=!1,!1;ca+=ba}}),num1=ca.charAt(0),num2=ca.charAt(1),num3=ca.charAt(2),num4=ca.charAt(3),num5=ca.charAt(4),num6=ca.charAt(5),num7=ca.charAt(6),num8=ca.charAt(7),num9=ca.charAt(8),num10=ca.charAt(9);var ha=1*num1+3*num2+7*num3+1*num4+3*num5+7*num6+1*num7+3*num8+5*num9;ha+=parseInt(5*num9/10);var ia=ha%10;if(0==ia)var ja=0;else var ja=10-ia;if(ja!=num10)return alert("사업자등록번호가 올바르지 않습니다."),$("#frm_inp input[name=cr_issu_mean_no_bman1]").focus(),fa=!1,!1;$("#frm_send input[name=cr_issu_mean_no]:hidden").val(ca)}else $("#frm_send input[name=cr_issu_mean_sct_cd]:hidden").val(""),$("#frm_send input[name=cr_use_sct_cd]:hidden").val(""),$("#frm_send input[name=cr_issu_mean_no]:hidden").val(ca);if(!fa)return}if($("#frm_inp input[name=paytype]:hidden").val()!=PAYTYPE_CODE_LPAY&&""==$("#frm_send input[name=lt_cd_no]").val()&&"Y"!=simple_mem_yn&&$("#temp_lt_point_amt").length>0&&""!=$("#temp_lt_point_amt").val()&&"0"!=$("#temp_lt_point_amt").val())return void $("html, body").animate({scrollTop:$("#submit_btn").offset().top},function(){$("#laver_Lpay_order").show()});$("#chk_smp_ecpn_gift_yn").length>0&&$("#frm_send input[name=smp_ecpn_gift_yn]:hidden").val($("#chk_smp_ecpn_gift_yn").val()),$("#smp_ecpn_rfd_tgt").length>0&&(1==$("#smp_ecpn_rfd_tgt_cd_01").attr("checked")||1==$("#smp_ecpn_rfd_tgt_cd_01").prop("checked")?$("#frm_send input[name=smp_ecpn_rfd_tgt_cd]:hidden").val($("#smp_ecpn_rfd_tgt_cd_01").val()):1==$("#smp_ecpn_rfd_tgt_cd_02").attr("checked")||1==$("#smp_ecpn_rfd_tgt_cd_02").prop("checked")?$("#frm_send input[name=smp_ecpn_rfd_tgt_cd]:hidden").val($("#smp_ecpn_rfd_tgt_cd_02").val()):$("#frm_send input[name=smp_ecpn_rfd_tgt_cd]:hidden").val(""));for(var ka=$("#frm_send input[name=goodsno]:hidden").val().split(split_gubun_1),la="",o=0;o<ka.length;o++)la+=ka[o]+":";regOpOrdPayErrLog(),doXansim()}}}}}function regOpOrdPayErrLog(){var a=$("#frm_send input[name=paytype]:hidden").val(),b=$("#frm_send input[name=pay_mean_cd]:hidden").val(),c="",d=$("#frm_send input[name=grockle_mbr_no]:hidden").val(),e="";"16"==a&&(e=$("#frm_send input[name=iscmcd]:hidden").val()),"Y"==grockle_yn&&""!=d&&(c=d),$.ajax({type:"post",async:!1,url:"/order/order_regordpay.do?"+__commonParam,data:"pay_mean_cd="+b+"&paytype="+a+"&iscmcd="+e+"&non_login_id="+c+"&grockle_yn="+grockle_yn,success:function(a){$("#cardinscheck").html(a)},error:function(a,b,c){}})}function hanaskcard_payment(){var a=$("#frm_send input[name=iscmcd]:hidden").val(),b="hanaM",c=$("#frm_send input[name=cardinstmon]:hidden").val(),d="02"==$("#frm_send input[name=cardinst]:hidden").val()?"Y":"N",e=$("#frm_send input[name=totsttlamt]:hidden").val(),f=$("#frm_send input[name=goodsnm]:hidden").val(),g=f.split(split_gubun_1);g.length>1&&(f=g[0]+" 외 "+(g.length-1)),$("#frm_vpay input[name=vp_cardcode]:hidden").val(b),$("#frm_vpay input[name=vp_goodname]:hidden").val(f),$("#frm_vpay input[name=vp_price]:hidden").val(e),$("#frm_vpay input[name=vp_quota]:hidden").val(c),$("#frm_vpay input[name=vp_quota_flag]:hidden").val(d),$("#frm_vpay input[name=vp_iscmcd]:hidden").val(a),$("#frm_vpay").attr("target","X_ANSIM_FRAME"),$("#frm_vpay").attr("action","/vpay/req-authM.jsp"),$("#frm_vpay").submit()}function payment_pop_position(){$("#ANSIM_LAYER").css("top","10px"),window.scrollTo(0,0)}function doXansim(){if(paytype=$("#frm_send input[name=paytype]:hidden").val(),pay_mean_cd=$("#frm_send input[name=pay_mean_cd]:hidden").val(),cardkndcd=$("#frm_send input[name=cardkndcd]:hidden").val(),cardkndcd_dup=$("#frm_send input[name=cardkndcd_dup]:hidden").val(),$("#frm_send input[name=credit_crd_gb]:hidden").val(""),disableItems(!0),paytype==PAYTYPE_CODE_LPAY){$("#frm_lpay input[name=req_div]:hidden").val("pay_req"),fn_LpayIframeSet();for(var a=["goodsno","lt_point_amt","totsttlamt","iscmcd","cardinst","cardinstmon","lpay_card_id","lpay_card_anm","giftyn","prommdclcd","ordr_nm","ordr_cell_no"],b=0;b<a.length;b++)$("#frm_lpay input[name="+a[b]+"]:hidden").val($("#frm_send input[name="+a[b]+"]:hidden").val());$("#frm_send input[name=xid]:hidden").val(""),$("#frm_send input[name=eci]:hidden").val(""),$("#frm_send input[name=cavv]:hidden").val(""),$("#frm_send input[name=cardno]:hidden").val(""),$("#frm_send input[name=lpay_conf_no]:hidden").val(""),$("#frm_send input[name=lpay_pay_sn]:hidden").val(""),$("#frm_send input[name=lpay_json_data]:hidden").val(""),$("#frm_send input[name=cardno]:hidden").val($("select[name=iscmcd]").find("option:selected").attr("data-card-no")),$("#frm_send input[name=credit_crd_gb]:hidden").val("4"),$("#frm_send input[name=smart_pay_use_yn]").val(""),$("#pageDesc").html("결제 준비 중입니다.<br>잠시만 기다려 주세요."),$("#pageCover,#pageLoading").show(),$("#frm_lpay").submit()}else if(paytype==PAYTYPE_CODE_CARD){X_CARDTYPE=$("#frm_card input[name=X_CARDTYPE]:hidden").val(),(X_CARDTYPE==paytype_card_047||X_CARDTYPE==paytype_card_029||X_CARDTYPE==paytype_card_031||X_CARDTYPE==paytype_card_048||X_CARDTYPE==paytype_card_020||X_CARDTYPE==paytype_card_008||X_CARDTYPE==paytype_card_036||X_CARDTYPE==paytype_card_018)&&(payment_pop_position(),$("#ANSIM_LAYER").css("width","100%"),$("#ANSIM_LAYER").css("height","530px"),window.scrollTo(0,0),$("#ANSIM_LAYER").show(),$("#X_ANSIM_FRAME").show(),$("#frm_send input[name=credit_crd_gb]:hidden").val("2"));var c=$("input[name=card_confirm_type]:radio:checked").val();$("#frm_send input[name=smart_pay_use_yn]").val("");var d=$("#frm_inp input[name=lotte_hist_card_pay_meth_cd]").val();X_CARDTYPE==paytype_card_047?"01"==c&&"11"==d?($("#frm_send input[name=smart_pay_use_yn]").val("Y"),lottecard_payment("SPSA")):"01"==c&&"01"==d?($("#frm_send input[name=smart_pay_use_yn]").val("Y"),lottecard_payment("SPSW")):"02"==c&&"02"==d?lottecard_payment("ACSW"):"02"==c&&"22"==d?lottecard_payment("ACSA"):"02"==c?lottecard_payment(""):"03"==c?lottecard_payment("MAPC"):"04"==c?lottecard_payment("ALP"):"99"==c&&lottecard_payment(""):X_CARDTYPE==paytype_card_029||X_CARDTYPE==paytype_card_031||X_CARDTYPE==paytype_card_048||X_CARDTYPE==paytype_card_018?(window.scrollTo(0,0),iscmcd!=paytype_card_018&&("01"==c?($("#frm_send input[name=smart_pay_use_yn]").val("Y"),$("#frm_card input[name=X_SP_CHAIN_CODE]:hidden").val("1")):"03"==c?$("#frm_card input[name=X_SP_CHAIN_CODE]:hidden").val("3"):$("#frm_card input[name=X_SP_CHAIN_CODE]:hidden").val("0")),xmpi_exec()):X_CARDTYPE==paytype_card_016&&(""==cp_udid||""!=cp_udid&&varUa>-1&&"mlotte001"==cp_schema&&appVerChk(cp_v,"169")||""!=cp_udid&&varUa<0&&ua_lower_str.search("iphone")>-1&&appVerChk(cp_v,"136")||""!=cp_udid&&varUa<0&&ua_lower_str.search("ipad")>-1&&appVerChk(cp_v,"127")||"Y"==smart_pic_app_yn||"Y"==ellotte_app_yn||"sklotte001"==cp_schema)?(payment_pop_position(),$("#ANSIM_LAYER").css("width","350px"),$("#ANSIM_LAYER").css("height","530px"),window.scrollTo(0,0),$("#ANSIM_LAYER").show(),$("#X_ANSIM_FRAME").show(),spay_exec()):X_CARDTYPE==paytype_card_016||X_CARDTYPE==paytype_card_021||X_CARDTYPE==paytype_card_054||X_CARDTYPE==paytype_card_002?confirm("국민,광주,우체국체크카드(ISP) 결제는 3G 또는 LTE로 진행 해야 안정적으로 결제하실 수 있습니다.\n결제를 진행하시겠습니까?")?($("#frm_send input[name=credit_crd_gb]:hidden").val("1"),misp_create_data()):disableItems(!1):X_CARDTYPE==paytype_card_026?($("#frm_send input[name=credit_crd_gb]:hidden").val("1"),misp_create_data()):X_CARDTYPE==paytype_card_020?($("#frm_send input[name=credit_crd_gb]:hidden").val("2"),hanaskcard_payment()):X_CARDTYPE==paytype_card_036||X_CARDTYPE==paytype_card_008?($("#frm_send input[name=credit_crd_gb]:hidden").val("2"),ilkmpi_send()):(disableItems(!1),alert("지원되지 않는 카드 입니다.\n다시 시도해 주십시오."))}else paytype==PAYTYPE_CODE_BANK?(bankno=$("#frm_send input[name=bankno]:hidden").val(),onlineacctname=$("#frm_send input[name=onlineacctname]:hidden").val(),""==$.trim(bankno)||""==$.trim(onlineacctname)?(disableItems(!1),alert("무통장 입금 정보가 부정확합니다.\n다시 시도해 주십시오.")):($("#frm_send").attr("action","/order/order_complete.do?"+__commonParam),doPayment())):paytype==PAYTYPE_CODE_PHONE?(payment_pop_position(),$("#ANSIM_LAYER").css("width","380px"),$("#ANSIM_LAYER").css("height","800px"),window.scrollTo(0,0),$("#ANSIM_LAYER").show(),$("#X_ANSIM_FRAME").show(),cellphone_exec()):paytype==PAYTYPE_CODE_NAVERPAY?(is_init=0,$("#frm_send").attr("action","/order/insertTempOrderInfoNaverPay.do?"+__commonParam),doPayment()):paytype==PAYTYPE_CODE_CARD||paytype==PAYTYPE_CODE_LPAY||""==cardkndcd&&""==cardkndcd_dup?""==paytype&&""!=pay_mean_cd?-1!=pay_mean_cd.indexOf(ltPoint)&&""==$("#frm_send input[name=lt_cd_no]").val()?(disableItems(!1),$("html, body").animate({scrollTop:$("#submit_btn").offset().top},function(){$("#laver_Lpay_order").show()})):($("#frm_send").attr("action","/order/order_complete.do?"+__commonParam),doPayment()):(disableItems(!1),alert("지원되지 않는 결제방법 입니다.\n다시 시도해 주십시오.")):(disableItems(!1),alert("카드외 다른 결제방법 사용 시 카드할인 및 적립을 할 수 없습니다."))}function openLotteMembers(){alert("롯데멤버스 페이지로 이동합니다.\n비밀번호를 설정하시면\n롯데닷컴에서 L.POINT를 사용하실 수 있습니다.");var a="m.lpoint.com/app/point/WMPA100100.do";""!=cp_schema?isIOS?window.location="family://"+a:isAndroid&&window.myJs.callAndroid("https://"+a):window.open("https://"+a)}function make_certification(){if("0"==$("input[name=third_coupon]:radio:checked").val())return void alert("일시불 할인은 L.POINT, L-money와 함께 사용할 수 없습니다.");var a,b,c,d,e;if(e=$("#card_passwd").val(),e.length<1)return void alert("카드 비밀번호를 입력해 주세요.");var f=a+b+c+d;$.ajax({type:"post",async:!1,url:"/popup/lotte_point_mng.do?"+__commonParam,data:"card_no="+f+"&passwd="+e+"&from_page="+from_page+"&page_div=R&proc_div=P",success:function(a){$("#LottePoint_Result_div").html(a),""!=$("#temp_lt_point_amt").val()&&"0"!=$("#temp_lt_point_amt").val()&&($("#lt_point_amt").val($("#temp_lt_point_amt").val()),fn_calcTotalPrice())}})}function fn_selPoint(a){var b=a.id;if(setCashReceiptArea(),a.checked){var c=parseInt($("#frm_inp input[name=totsttlamt]:hidden").val()),d=0;if(0==c)return void(a.checked=!1);"chk_lpoint"==b?($("#cash_receipts").show(),d=parseInt($("#useable_lpoint_amt").val()),$("#lpoint_amt").val(d>c?c:d),$("#lpoint_amt").attr("disabled",!1),$("#chk_lpoint_all").attr("disabled",!1),$("#chk_lpoint_all").attr("checked",!0),$("#chk_lpoint_all").prop("checked",!0)):"chk_lt_point"==b&&(d=parseInt($("#useable_lt_point_amt").val()),""!=$("#temp_lt_point_amt").val()&&"0"!=$("#temp_lt_point_amt").val()?$("#lt_point_amt").val($("#temp_lt_point_amt").val()):$("#lt_point_amt").val(d>c?c:d),$("#lt_point_amt").attr("disabled",!1),$("#chk_lt_point_all").attr("disabled",!1),$("#chk_lt_point_all").attr("checked",!0),$("#chk_lt_point_all").prop("checked",!0))}else"chk_lpoint"==b?fn_initPointList(lPoint):"chk_lt_point"==b&&fn_initPointList(ltPoint);fn_calcTotalPrice(),init_cardselect(),init_cardinstmon(),a.checked||void 0==$("#chk_deposit_all").attr("id")||fn_selPointAll(document.getElementById("chk_deposit_all")),pointUse(),paycardinstmon()}function fn_calcTotalPrice(){var a="";prommdclcd=$("#frm_send input[name=prommdclcd]").val(),dcamt=$("#frm_send input[name=totdcamt]").val(),dup_cpn_amt=sessionStorage.getItem("fvr_val"),third_cpn_amt=$("#frm_send input[name=totdcamt_third]").val(),prommdclcd_third=$("#frm_send input[name=prommdclcd_third]").val(),cardkndcd=$("#frm_send input[name=cardkndcd]").val(),payamt=$("#frm_inp input[name=defaulttotsttlamt]:hidden").val(),includeSaveInstCpn=$("#frm_send input[name=includeSaveInstCpn]").val();var b=$("#frm_send input[name=qs_yn]:hidden").val();lpoint_amt=void 0==$("#lpoint_amt").prop("id")?"":$("#lpoint_amt").val().length<1?0:$("#lpoint_amt").val(),lt_point_amt=void 0==$("#lt_point_amt").prop("id")?"":$("#lt_point_amt").val().length<1?0:$("#lt_point_amt").val(),deposit_amt=void 0==$("#deposit_amt").prop("id")?"":$("#deposit_amt").val().length<1?0:$("#deposit_amt").val(),dlv_prom_use_yn=$("#dlv_prom_use_yn").val(),dlv_fvr_val="Y"==dlv_prom_use_yn?$("#dlv_fvr_val").val():"0",tot_deli_amt=0,"N"==freeShippingYn?$("#frm_inp input[name=chk_multi_dlvp]:checkbox").prop("checked")?tot_deli_amt=$("#frm_inp input[name=caltotdeliamt]:hidden").val():tot_deli_amt=$("#frm_inp input[name=orgtotdeliamt]:hidden").val():"Y"==b&&(tot_deli_amt=$("#frm_inp input[name=orgtotdeliamt]:hidden").val()),totpayamt="Y"==includeSaveInstCpn?payamt.toString():(payamt-dcamt).toString(),"N"==freeShippingYn?totpayamt=(parseInt(totpayamt)+parseInt(tot_deli_amt)-parseInt($("#frm_inp input[name=orgtotdeliamt]:hidden").val())).toString():"Y"==b&&(totpayamt=(parseInt(totpayamt)+parseInt(tot_deli_amt)-parseInt($("#frm_inp input[name=orgtotdeliamt]:hidden").val())).toString());var c=totpayamt;"Y"!=includeSaveInstCpn&&(c=Number(c)+Number(dcamt)),$("#bene_tot_amt").find("span").text(String(c).money()+"원"),$("#frm_inp input[name=totordamt]:hidden").val(c);var d="";d="Y"==freeShippingYn?"배송비무료":$("#frm_inp input[name=orgtotdeliamt]:hidden").val()>0?"배송비포함":"배송비무료",$("#totalOrdAmt").html("<strong>"+String(c).money()+"</strong>원<span>"+d+"</span>");var e=$("#frm_send input[name=totRsrvAplyVal]").val(),f="",g=0;if(g="Y"!=$("#frm_send input[name=includeSaveInstCpn]").val()?0:dcamt,"0"==$("select[name='coupon']").val()&&"27"==$("#frm_send input[name=prommdclcd]").val()&&(e=0),Number(e)+Number(g)>0&&"27"!=$("#frm_send input[name=prommdclcd]").val()?(f="<ul><li class='list_depth2'><p class='left'>총 적립 금액</p><p class='right'>"+new String(Number(g)+Number(e)).money()+"점 예정</p></li></ul>",$("#li_totRsrvAplyVal").html(f)):$("#li_totRsrvAplyVal").hide(),dup_cpn_amt>0&&(totpayamt=(totpayamt-dup_cpn_amt).toString()),third_cpn_amt>0&&(totpayamt=(totpayamt-third_cpn_amt).toString()),"Y"==b){var h=Number(dcamt)+Number(dup_cpn_amt)+Number(third_cpn_amt);totpayamt=fn_quicDeliAmtChk(c,tot_deli_amt,h,totpayamt),dlv_prom_use_yn="N"}else"Y"==dlv_prom_use_yn&&dlv_fvr_val>0&&tot_deli_amt>0?totpayamt=(totpayamt-dlv_fvr_val).toString():"Y"==dlv_prom_use_yn&&dlv_fvr_val>0&&0==tot_deli_amt&&(dlv_prom_use_yn="N",$("#dlv_prom_use_yn").val("N"));lpoint_amt>0&&(totpayamt=(totpayamt-lpoint_amt).toString()),lt_point_amt>0&&(totpayamt=(totpayamt-lt_point_amt).toString()),deposit_amt>0&&(totpayamt=(totpayamt-deposit_amt).toString()),prommdclcdNm="",prommdclcd==adtn_cost_dtl_sct_cd_card?(cardkndcd==paytype_card_002?prommdclcdNm="광주":cardkndcd==paytype_card_008?prommdclcdNm="외환":cardkndcd==paytype_card_016?prommdclcdNm="KB국민":cardkndcd==paytype_card_018?prommdclcdNm="NH":cardkndcd==paytype_card_021?prommdclcdNm="우리":cardkndcd==paytype_card_020?prommdclcdNm="하나SK":cardkndcd==paytype_card_026?prommdclcdNm="비씨":cardkndcd==paytype_card_029?prommdclcdNm="신한":cardkndcd==paytype_card_031?prommdclcdNm="삼성":cardkndcd==paytype_card_036?prommdclcdNm="씨티":cardkndcd==paytype_card_047?prommdclcdNm="롯데":cardkndcd==paytype_card_048?prommdclcdNm="현대":cardkndcd==paytype_card_054&&(prommdclcdNm="우체국체크"),prommdclcdNm+="카드할인"):prommdclcd==adtn_cost_dtl_sct_cd_coupon?prommdclcdNm="즉석쿠폰":prommdclcd==adtn_cost_dtl_sct_cd_staff?prommdclcdNm="임직원할인":prommdclcd==adtn_cost_dtl_sct_cd_mrktng_cpn&&(prommdclcdNm="쿠폰/쇼핑지원권"),$("#deli_amt_ul").show(),$("#deli_amt_ul li").filter(".pr_text2").text(new String(tot_deli_amt).money()+"원");var i=0,j=0;dcamt>0&&"N"==includeSaveInstCpn&&(a+='<li class="pr_text1">'+prommdclcdNm+'</li><li class="pr_text2">(-)'+dcamt.money()+"원</li>",i+=parseInt(dcamt)),dup_cpn_amt>0&&(a=apply_br_tag(a),a+='<li class="pr_text1">추가할인</li><li class="pr_text2">(-)'+dup_cpn_amt.money()+"원</li>",i+=parseInt(dup_cpn_amt)),third_cpn_amt>0&&(a=apply_br_tag(a),a+='<li class="pr_text1">'+("35"==prommdclcd_third?"일시불할인":"")+'</li><li class="pr_text2">(-)'+third_cpn_amt.money()+"원</li>",i+=parseInt(third_cpn_amt)),"Y"==dlv_prom_use_yn&&dlv_fvr_val>0&&tot_deli_amt>0?(i+=parseInt(dlv_fvr_val),$("#fdAmt").html("(<span class=tBold>-"+String(dlv_fvr_val).money()+'</span><span class="no_bold">원</span>)')):$("#fdAmt").html(""),"Y"==maxdc_yn&&("Y"==includeSaveInstCpn?$("#max_bene_dctot_amt").html(String(Number(dcamt)+Number(i)).money()):$("#max_bene_dctot_amt").html(String(Number(i)).money())),"Y"==includeSaveInstCpn?$("#bene_dctot_amt").html(String(Number(dcamt)+Number(i)).money()):$("#bene_dctot_amt").html(String(Number(i)).money()),$("#bene_dctot_amt").text()==$("#max_bene_dctot_amt").text()?($("#max_slae_dlv").removeClass("type2"),$("#select_sale_div").addClass("type2"),$("#select_sale_div").hide()):($("#select_sale_div").removeClass("type2"),$("#max_slae_dlv").addClass("type2"),$("#select_sale_div").show()),lpoint_amt>0?(a=apply_br_tag(a),a+='<li class="pr_text1">L-money</li><li class="pr_text2">(-)'+lpoint_amt.money()+"점</li>",$("#old_lpoint_amt").val(lpoint_amt),i+=parseInt(lpoint_amt),j+=parseInt(lpoint_amt)):lpoint_amt>-1&&$("#old_lpoint_amt").val(lpoint_amt),lt_point_amt>0?(a=apply_br_tag(a),a+='<li class="pr_text1">L.POINT</li><li class="pr_text2">(-)'+lt_point_amt.money()+"점</li>",$("#old_lt_point_amt").val(lt_point_amt),$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_LPAY&&$("#temp_lt_point_amt").val(lt_point_amt),i+=parseInt(lt_point_amt),j+=parseInt(lt_point_amt)):lt_point_amt>-1&&$("#old_lt_point_amt").val(lt_point_amt),deposit_amt>0?(a=apply_br_tag(a),a+='<li class="pr_text1">보관금</li><li class="pr_text2">(-)'+deposit_amt.money()+"원</li>",$("#old_deposit_amt").val(deposit_amt),i+=parseInt(deposit_amt),j+=parseInt(deposit_amt)):deposit_amt>-1&&$("#old_deposit_amt").val(deposit_amt),$("#usePointSum").html(j.toString().money()+'<span class="no_bold">원</span>'),"Y"==dlv_prom_use_yn&&dlv_fvr_val>0&&(a=apply_br_tag(a),a+='<li class="pr_text1">무료배송권</li><li class="pr_text2">(-)'+dlv_fvr_val.money()+"원</li>");var k=("0"==i.toString().money(),""+i.toString().money()+"원");$("#discount").html(k),$("#lottepointSave").empty(),setLottePointSaveDiv(dcamt),0!=totpayamt||void 0!=typeof $("#pntOnlyPay").val()&&""!=$("#pntOnlyPay").val()&&"N"!=$("#pntOnlyPay").val()?($("#div_paytype_void").show(),$("#div_paytype #pay_method").show(),$("#frm_inp input[name=rdo_paytype]:radio:checked").val()==paytype_code_card||$("#frm_inp input[name=rdo_paytype]:radio:checked").val()==paytype_code_lpay?$("#div_paytype #pay_card").show():$("#frm_inp input[name=rdo_paytype]:radio:checked").val()==paytype_code_bank&&$("#div_paytype #pay_bank").show(),$("#h3_paytype_title").show(),$("#payment_method_next_use").show(),$(".slide_wrap").show(),""!=$("#eventcardsale_cont").text()&&$("#eventcardsale_cont").show(),""!=$("#eventcard_cont").text()&&$("#eventcard_cont").show(),""!=$("#eventcardsaleamt_cont").text()&&$("#eventcardsaleamt_cont").show()):($("#div_paytype_void").hide(),$("#div_paytype #pay_method").hide(),$("#div_paytype #pay_card").hide(),
$("#div_paytype #pay_bank").hide(),$("#h3_paytype_title").hide(),$("#payment_method_next_use").hide(),$(".slide_wrap").hide(),$("#eventcardsale_cont").hide(),$("#eventcard_cont").hide(),$("#eventcardsaleamt_cont").hide(),$("#naverPaycard_cont").hide()),$("#submit_btn").show(),$("#totalprice").html(totpayamt.money()+"<span>원</span>"),$("#frm_inp input[name=totsttlamt]:hidden").val(totpayamt);var l=$("[id^=pay_type].on").attr("id");if(fn_setDisplayAssentArea(totpayamt>0&&"block"==$("#pay_method").css("display")&&("pay_type4"==l||"pay_type1"==l)?"Y":"N"),"Y"==claim_sale_yn){var m=""==$("#frm_inp input[name=claim_sale_fvr_val]:hidden").val()?"0":$("#frm_inp input[name=claim_sale_fvr_val]:hidden").val(),n=$("#frm_inp input[name=claim_sale_card_max_amt]:hidden").val(),o=""==o?"0":o,p=$("#frm_inp input[name=paytype]:hidden").val(),q="138425"!=cp_cn&&"137725"!=cp_cn&&"156230"!=cp_cn,r=parseInt(totpayamt)-parseInt(totpayamt)*parseInt(m)*.01,s=10*Math.floor(.1*r);parseInt(n)<parseInt(totpayamt)-parseInt(r)&&(s=parseInt(totpayamt)-parseInt(n)),q?($("#eventcardsaleamt_cont").html("청구할인가 "+String(s).money()+"원 예상"),$("#eventcardsaleamt_cont").show(),$("#claim_sale_price").html(String(s).money()+"원")):($("#eventcardsaleamt_cont").hide(),$("#claim_sale_price").html("")),parseInt(totpayamt)>=parseInt(o)&&$("#frm_inp select[name=iscmcd]").val()==claim_sale_card_knd_cd&&(p==PAYTYPE_CODE_CARD||p==PAYTYPE_CODE_LPAY)&&parseInt(totpayamt)>0?q&&fn_formshow():q&&fn_formshow()}pointUse(),fn_all_dc()}function setLottePointSaveDiv(a){var b="";try{var c=$("#frm_send input[name=totRsrvAplyVal]").val();"Y"!=$("#frm_send input[name=includeSaveInstCpn]").val()&&(a=0),Number(c)>0&&("0"==$("select[name='coupon']").val()&&"27"==$("#frm_send input[name=prommdclcd]").val()?$("#lottepointSave").html('<li class="list_depth2 lpoint"><p class="left">적립 L.POINT</p><p class="right">임직원할인 이용 시 적립 대상 제외</p></li>'):(b='<li class="list_depth2 lpoint"><p class="left">적립 L.POINT</p><p class="right">'+new String(Number(c)).money()+'점 예정</p></li><li class="list_depth2 lpoint2"><p class="left">(롯데포인트플러스카드 시</p><p class="right">'+new String(2*Number(c)).money()+"점 예정)</p></li>",$("#lottepointSave").html(b),$("#totRsrvAplyValView").text(new String(Number(c)).money()+"점 예정")))}catch(d){}}function fn_initPointList(a){("ALL"==a||a==lPoint)&&($("#lpoint_amt").val(""),$("#old_lpoint_amt").val(""),$("#lpoint_amt").attr("disabled",!0),$("#chk_lpoint_all").attr("checked",!1),$("#chk_lpoint_all").prop("checked",!1),$("#chk_lpoint_all").attr("disabled",!0)),("ALL"==a||a==ltPoint)&&($("#lt_point_amt").val(""),$("#old_lt_point_amt").val(""),$("#temp_lt_point_amt").val(""),$("#lt_point_amt").attr("disabled",!0),$("#chk_lt_point_all").attr("checked",!1),$("#chk_lt_point_all").prop("checked",!1),$("#chk_lt_point_all").attr("disabled",!0)),("ALL"==a||a==deposit)&&($("#deposit_amt").val(""),$("#old_deposit_amt").val(""))}function cellphone_confirm(){var a=$("#frm_inp input[name=totsttlamt]:hidden").val();return parseInt(a)>5e5?(alert("휴대폰 결제는 월 50만원까지 결제 가능합니다."),!1):parseInt(a)+parseInt(curMonPhnSttlAmt)>5e5?(alert("휴대폰 결제는 월 50만원까지 결제 가능합니다.(잔여한도:"+(5e5-parseInt(curMonPhnSttlAmt))+")"),!1):!0}function misp_install(){isAndroid?"Y"==tstore_yn?$("#X_ANSIM_FRAME").attr("src","tstore://PRODUCT_VIEW/0000025711/0"):$("#X_ANSIM_FRAME").attr("src","http://mobile.vpay.co.kr/jsp/MISP/andown.jsp"):isIOS?$("#X_ANSIM_FRAME").attr("src","http://itunes.apple.com/kr/app/id369125087?mt=8"):alert("지원되지 않는 운영체제 입니다.")}function misp_exec(){if(isIOS){var a=new Date;setTimeout(function(){new Date-a<3e3&&(window.location.href="http://itunes.apple.com/kr/app/id369125087?mt=8")},1500),top.location.href="ispmobile://?TID="+$("#frm_send input[name=MISP_TID]:hidden").val()}else isAndroid?window.location.href="intent://TID="+$("#frm_send input[name=MISP_TID]:hidden").val()+"#Intent;scheme=ispmobile;package=kvp.jjy.MispAndroid320;end":alert("지원되지 않는 운영체제 입니다.")}function misp_send(){$("#frm_send").attr("action","/misp/toTransData.jsp"),$("#frm_send").attr("method","post"),$("#frm_send").attr("target","X_ANSIM_FRAME"),$("#frm_send").submit()}function misp_create_data(){iscmcd=$("#frm_send input[name=iscmcd]:hidden").val(),"Y"==grockle_yn?(phone_num1=$("#frm_inp [name=grockle_cell1]:enabled").val(),phone_num2=$("#frm_inp input[name=grockle_cell2]").val(),phone_num3=$("#frm_inp input[name=grockle_cell3]").val(),companyCd="SKT",grockle_mbr_no=$("#frm_send input[name=grockle_mbr_no]:hidden").val()):(phone_num1=phone_no1,phone_num2=phone_no2,phone_num3=phone_no3,companyCd=commid,grockle_mbr_no=""),cardinst=$("#frm_send input[name=cardinst]:hidden").val(),cardinstmon=$("#frm_send input[name=cardinstmon]:hidden").val(),totsttlamt=$("#frm_send input[name=totsttlamt]:hidden").val(),goodsnm=$("#frm_send input[name=goodsnm]:hidden").val().replace(/'/gi,"").replace(/&/gi,"").replace(/=/gi,"").replace(/%/gi,""),goodsnm=encodeURIComponent(goodsnm),$.ajax({type:"post",async:!1,url:"/order/misp_confirm.do?"+__commonParam,data:"iscmcd="+iscmcd+"&companyCd="+companyCd+"&cardinst="+cardinst+"&cardinstmon="+cardinstmon+"&phone_num1="+phone_num1+"&phone_num2="+phone_num2+"&phone_num3="+phone_num3+"&totsttlamt="+totsttlamt+"&goodsnm="+goodsnm+"&grockle_yn="+grockle_yn+"&grockle_mbr_no="+grockle_mbr_no,success:function(a){$("#cover").off("click"),$("#cover").on("click",function(){$(this).hide()}),$("#misp_confirm_div").html(a),misp_send()},error:init_misp()})}function init_misp(){$("#frm_send input[name=KVP_NOINT]:hidden").val(""),$("#frm_send input[name=KVP_QUOTA]:hidden").val(""),$("#frm_send input[name=KVP_GOODNAME]:hidden").val(""),$("#frm_send input[name=KVP_PRICE]:hidden").val(""),$("#frm_send input[name=KVP_NOINT_INF]:hidden").val(""),$("#frm_send input[name=KVP_QUOTA_INF]:hidden").val(""),$("#frm_send input[name=MISP_GoodName]:hidden").val(""),$("#frm_send input[name=MISP_Price]:hidden").val(""),$("#frm_send input[name=MISP_NoInt]:hidden").val(""),$("#frm_send input[name=MISP_Noint_Inf]:hidden").val(""),$("#frm_send input[name=MISP_HpNum]:hidden").val(""),$("#frm_send input[name=MISP_MerchantNo]:hidden").val(""),$("#frm_send input[name=MISP_Tcode]:hidden").val(""),$("#frm_send input[name=MISP_TID]:hidden").val("")}function ilkmpi_send(){iscmcd=$("#frm_send input[name=iscmcd]:hidden").val(),pan="",apvl_halbu=$("#frm_send input[name=cardinstmon]:hidden").val(),pay_ansim_price=$("#frm_send input[name=totsttlamt]:hidden").val(),handNum=phone_no1+phone_no2+phone_no3,handNum.length<10&&(handNum="00000000000"),iscmcd==paytype_card_008?pan="4599300000000000":iscmcd==paytype_card_036&&(pan="4539350000000007"),$("#ILKFORM input[name=apvl_halbu]:hidden").val(apvl_halbu),$("#ILKFORM input[name=pay_ansim_price]:hidden").val(pay_ansim_price),$("#ILKFORM input[name=handNum]:hidden").val(handNum),$("#ILKFORM input[name=purchase_amount]:hidden").val(pay_ansim_price),$("#ILKFORM input[name=pan]:hidden").val(pan),$("#ILKFORM").submit()}function go_smartpay(){self.location.href=__sslDomain+"/mylotte/smartpay/smartpay.do?"+__commonParam+"&targetUrl="+encodeURIComponent(window.location.href,"UTF-8")}function alliancePointUse(a){disableItems(!0)}function showGrockleDiv(a){var b=$("#"+a),c=b.css("display");"block"==c?b.css("display","none"):b.css("display","block")}function oneselfCheck(){$("#cover").css({display:"block",height:"100%",top:0}),window.scrollTo(0,$("#container").offset().top),$("#CONFIRM_FRAME").attr("src","/popup/oneself_certification_form.do?"+__commonParam+"&name="+$("#grockle_name").val()),$("#CONFIRM_LAYER").css("width","100%"),$("#CONFIRM_LAYER").css("height","100%"),$("#CONFIRM_LAYER").show(),$("#CONFIRM_FRAME").show(),disableItems(!0)}function acthChkNum(a){var b=/^[0-9]+$/,c=event.keyCode,d=String.fromCharCode(c),e=new RegExp(b);8!=c&&46!=c&&(e.test(d)||(event.returnValue=!1))}function nextElement(a){if(varUa>-1){var b=$(a).attr("maxlength"),c=$(a).val(),d="";d="cr_issu_mean_no_phone2"==$(a).attr("name")?"cr_issu_mean_no_phone3":$(a).next("input").attr("name"),c.length==b&&$("#frm_inp input[name="+d+"]").focus()}}function setCashReceiptArea(){var a="",b=$("#chk_lpoint").prop("checked"),c=$("#chk_deposit_all").prop("checked");a=$("#frm_inp input[name=rdo_paytype]:radio").length>0?$("#frm_inp input[name=rdo_paytype]:radio:checked").val():$("#frm_inp input[name=paytype]:hidden").val(),a==PAYTYPE_CODE_BANK||b||c||a==PAYTYPE_CODE_NAVERPAY?($("#cash_receipts").show(),setCellNo()):($("#cash_receipts").hide(),$("#pers_value span > input").val(""),$("#co_value p > input").val(""))}function navback(){history.length>0?history.go(-2):alert("이전페이지가 존재하지 않습니다.")}function show_multi_deli_area(a){if(deli_init(),a>1)for($("#deli_1_amt_area").show(),i=0;i<a;i++)$(".deli_chk1").eq(i).show();else for($("#deli_1_amt_area").hide(),i=0;i<a;i++)$(".deli_chk1").eq(i).hide();for($("div[id^=multi_deli_]").hide(),$("div[id^=prod_title_]").hide(),$("div[id^=deli_prod_]").hide(),i=1;i<=a;i++)if($("#multi_deli_"+i).show(),1!=a&&$("#prod_title_"+i).show(),$("#chk_multi_dlvp").prop("checked"))$("input[name=gift_yn_"+i+"]:visible:last").prop("checked",!0),$("input[name=gift_yn_"+i+"]:visible:last").click();else{for(var b=$("#frm_inp input[name=prodTotalCnt]:hidden").val(),c=2;b>=c;c++)$("#frm_inp .gift_msg_sel_"+c+" input[name^=gift_yn_"+c+"]:radio[value='1']").prop("checked",!1),$("#frm_inp .gift_msg_sel_"+c+" input[name^=gift_yn_"+c+"]:radio[value='2']").prop("checked",!0),$("dd[name^=gift_msg_form_"+c+"]").hide(),$("#gift_none_msg_"+c).hide();$("input[name=gift_yn_"+i+"]:visible:last").click()}fn_calcTotalPrice()}function setImallDeliData(){var a,b=!1;if("Y"==grockle_yn&&"ECOUPON"!=gubun)b=!0;else{var c=$("[id^=orderer_name_val]:visible").find("#nameInpt");if(void 0!=$("#deli_1 input[name=deli_chk_1]:radio:checked").val()&&"U"==$("#deli_1 input[name=deli_chk_1]:radio:checked").val()){if(""==$.trim(c.val()))return alert("주문자를 입력해 주세요."),c.focus(),!1;$("[id^='orderer_name_text']").find("#nameSp").text(c.val()),$("[id^='orderer_name_val']").find("#nameInpt").val(c.val())}else if(c.length>0)return alert("주문자를 입력해 주세요."),c.focus(),!1;"U"!=$("#deli_option_1 input[name=deli_chk_1]:radio:checked").val()&&"C"!=$("#deli_option_1 input[name=deli_chk_1]:radio:checked").val()&&("undefined"!=$("input[name=deli_select]").val()&&void 0!=$("input[name=deli_select]").val()||"undefined"!=$("#deli_option_1 input[name=deli_chk_1]:radio:checked").val()&&void 0!=$("#deli_option_1 input[name=deli_chk_1]:radio:checked").val())||(b=!0)}if(b){var d="N";void 0==$("#deli_1 input[name=deli_chk_1]:radio:checked").val()&&"Y"==simple_mem_yn&&(d="Y",$("#deli_1 input[name=deli_chk_1]:radio:checked").val("C"));var e="#frm_inp";if("Y"!=grockle_yn&&(e+="C"==$("#deli_1 input[name=deli_chk_1]:radio:checked").val()||"U"==$("#deli_1 input[name=deli_chk_1]:radio:checked").val()||"Y"==d?" #li_new":" #li_mine"),g="",basedlvpyn="",dlvpnm="",dlvpsn="",usrsortrnk="",deli_chk="",rmitnm=$(e+" input[name=inprmitnm]").val(),dlvzip1=$(e+" input[name=inpzip1]:hidden").val(),dlvzip2=$(e+"  input[name=inpzip2]:hidden").val(),postaddr=$(e+"  input[name=inpaddr1]").val(),dtladdr=$(e+"  input[name=inpaddr2]").val(),postNo=$("#frm_inp input[name=postNo]").eq(0).val(),corpPostNoSn=$("#frm_inp input[name=corpPostNoSn]").eq(0).val(),void 0==$("#deli_1 input[name=deli_chk_1]:radio:checked").val()&&"Y"!=d){var f=$(e+" #deli_select_1").val();cellsctno=$("#deli_phone_val_1"+f+" [name=inpcell1]:enabled").val(),celltxnono=$("#deli_phone_val_1"+f+" input[name=inpcell2]").val(),cellendno=$("#deli_phone_val_1"+f+" input[name=inpcell3]").val()}else("C"==$("#deli_1 input[name=deli_chk_1]:radio:checked").val()||"U"==$("#deli_1 input[name=deli_chk_1]:radio:checked").val()||"Y"==d)&&(cellsctno=$("#deli_phone_val_1 [name=inpcell1]:enabled").val(),celltxnono=$("#deli_phone_val_1 input[name=inpcell2]").val(),cellendno=$("#deli_phone_val_1 input[name=inpcell3]").val(),"U"==$("#deli_1 input[name=deli_chk_1]:radio:checked").val()&&(cbltelrgnno=$("#deli_phone_val_1 input[name=inptel1]").val(),cblteltxnono=$("#deli_phone_val_1 input[name=inptel2]").val(),cbltelendno=$("#deli_phone_val_1 input[name=inptel3]").val()));if(rcvmessage=$(e+" select[name=deli_msg]").val(),"직접입력"==rcvmessage&&(rcvmessage=$(e+" input[name=rcvmessage]").val(),a="Y"),"Y"!=grockle_yn){if(g=$(e+" input[name=deli_selected_no]").val(),basedlvpyn=$("#frm_inp input[name=basedlvpyn]").eq(g).val(),dlvpnm=$(e+" input[name=inpdlvpnm]").val(),"C"!=$("#deli_option_1 input[name=deli_chk_1]:radio:checked").val()&&"Y"!=d&&("undefined"!=$("input[name=deli_select]").val()&&void 0!=$("input[name=deli_select]").val()||"undefined"!=$("#deli_option_1 input[name=deli_chk_1]:radio:checked").val()&&void 0!=$("#deli_option_1 input[name=deli_chk_1]:radio:checked").val())?(dlvpsn=$("#frm_inp input[name=dlvpsn]").eq(g).val(),usrsortrnk=$("#frm_inp input[name=usrsortrnk]").eq(g).val(),deli_chk="U"):(dlvpsn="",usrsortrnk="0",deli_chk="C"),""==$.trim(dlvpnm))return alert("배송지명을 입력해주세요."),void $("#frm_inp input[name=inpdlvpnm]").focus();$("#dlvpuseyn_1").length>0&&0==$("#dlvpuseyn_1").prop("checked")&&(dlvpuseyn="N")}if(""==$.trim(rmitnm))return alert("받으시는 분을 입력해주세요."),void $("#frm_inp input[name=inprmitnm]").focus();if(""==$.trim(dlvzip1)||""==$.trim(dlvzip2)||""==$.trim(postaddr)||""==$.trim($(e+" #txt_zip1_1").val())||""==$.trim($(e+" #txt_zip2_1").val()))return alert("주소를 검색 후 입력해주세요."),void $("#frm_inp input[name=inpsearch]").focus();if(""==$.trim(dtladdr))return alert("나머지 주소를  입력해주세요."),void $("#frm_inp input[name=inpaddr2]").focus();if(!$.trim(celltxnono).isNum()||$.trim(celltxnono).length<3||$.trim(celltxnono).length>4)return alert("연락처를 3~4자리 숫자로 입력해주세요."),void $("#frm_inp input[name=inpcell2]").focus();if(!$.trim(cellendno).isNum()||$.trim(cellendno).length<3||$.trim(cellendno).length>4)return alert("연락처를 3~4자리 숫자로 입력해주세요."),void $("#frm_inp input[name=inpcell3]").focus()}else{var g=$("#frm_inp input[name=deli_selected_no]").val();basedlvpyn=$("#frm_inp input[name=basedlvpyn]").eq(g).val(),dlvpsn=$("#frm_inp input[name=dlvpsn]").eq(g).val(),dlvpnm=$("#frm_inp input[name=dlvpnm]").eq(g).val(),rmitnm=$("#frm_inp input[name=rmitnm]").eq(g).val(),dlvzip1=$("#frm_inp input[name=dlvzip1]").eq(g).val(),dlvzip2=$("#frm_inp input[name=dlvzip2]").eq(g).val(),postaddr=$("#frm_inp input[name=postaddr]").eq(g).val(),dtladdr=$("#frm_inp input[name=dtladdr]").eq(g).val(),cellsctno=$("#deli_phone_val_1_"+dlvpsn+" [name=inpcell1]:enabled").val(),celltxnono=$("#deli_phone_val_1_"+dlvpsn+" input[name=inpcell2]").val(),cellendno=$("#deli_phone_val_1_"+dlvpsn+" input[name=inpcell3]").val(),usrsortrnk=$("#frm_inp input[name=usrsortrnk]").eq(g).val(),corpPostNoSn=$("#frm_inp input[name=corpPostNoSn]").eq(g).val(),postNo=$("#frm_inp input[name=postNo]").eq(g).val(),deli_chk="",rcvmessage=$("#frm_inp #li_mine select[name=deli_msg]").val(),"직접입력"==rcvmessage&&(rcvmessage=$("#frm_inp #li_mine input[name=rcvmessage]").val(),a="Y")}if($("#frm_send input[name=chk_dlvp_reuse]").val(""),void 0!=$("#chk_dlvp_reuse")&&null!=$("#chk_dlvp_reuse")&&$("#deli_1 #li_mine").hasClass("on")&&1==$("#chk_dlvp_reuse").prop("checked")&&$("#frm_send input[name=chk_dlvp_reuse]").val("Y"),$("#frm_send input[name=chk_dlvp_reuse]").val(""),$("#chk_dlvp_reuse").length>0&&("U"==deli_chk&&1==$("#chk_dlvp_reuse_mod").prop("checked")?$("#frm_send input[name=chk_dlvp_reuse]").val("Y"):""==deli_chk&&1==$("#chk_dlvp_reuse").prop("checked")&&$("#frm_send input[name=chk_dlvp_reuse]").val("Y")),fn_pay_realtime(d)){if($("#frm_send input[name=basedlvpyn]:hidden").val(basedlvpyn),$("#frm_send input[name=dlvpsn]:hidden").val(dlvpsn),$("#frm_send input[name=dlvpnm]:hidden").val(dlvpnm),$("#frm_send input[name=rmitnm]:hidden").val(rmitnm),$("#frm_send input[name=dlvzip1]:hidden").val(dlvzip1),$("#frm_send input[name=dlvzip2]:hidden").val(dlvzip2),$("#frm_send input[name=postaddr]:hidden").val(postaddr),$("#frm_send input[name=dtladdr]:hidden").val(dtladdr),$("#frm_send input[name=cellsctno]:hidden").val(cellsctno),$("#frm_send input[name=celltxnono]:hidden").val(celltxnono),$("#frm_send input[name=cellendno]:hidden").val(cellendno),$("#frm_send input[name=cbltelrgnno]:hidden").val(cbltelrgnno),$("#frm_send input[name=cblteltxnono]:hidden").val(cblteltxnono),$("#frm_send input[name=cbltelendno]:hidden").val(cbltelendno),$("#frm_send input[name=usrsortrnk]:hidden").val(usrsortrnk),$("#frm_send input[name=delichk]:hidden").val(deli_chk),$("#frm_send input[name=corp_post_no_sn]:hidden").val(corpPostNoSn),$("#frm_send input[name=post_no]:hidden").val(dlvzip1+dlvzip2),$("#frm_send input[name=rcvmessage]").val(rcvmessage),$("#frm_send input[name=addrcvmessageyn]").val(a),$("#frm_send input[name=dlvpuseyn]:hidden").val(dlvpuseyn),$("#frm_inp input[name=chk_multi_dlvp]:checkbox").prop("checked"))if("1"==$("#frm_inp .gift_msgMultiInsert input[name=gift_yn_1]:radio:checked").val()){if(receivename=$("#frm_inp .gift_msgMultiInsert input[name=receivename_1]").val(),sendmessage=$(".gift_msgMultiInsert #sendmessage_1").val(),sendname=$("#frm_inp .gift_msgMultiInsert input[name=sendname_1]").val(),(""==$.trim(receivename)||""==$.trim(sendmessage)||""==$.trim(sendname))&&!confirm("종이카드를 작성하지 않고 주문을 진행하시겠습니까?"))return}else receivename="",sendmessage="",sendname="";else if("1"==$(e+" input[name=gift_yn]:radio:checked").val()){if(receivename=$(e+" input[name=receivename]").val(),sendmessage=$(e+" textarea[name=sendmessage]").val(),sendname=$(e+" input[name=sendname]").val(),""==$.trim(receivename)&&""==$.trim(sendmessage)&&""==$.trim(sendname)&&!confirm("종이카드를 작성하지 않고 주문을 진행하시겠습니까?"))return}else receivename="",sendmessage="",sendname="";$("#frm_send input[name=receivename]:hidden").val(receivename),$("#frm_send input[name=sendmessage]:hidden").val(sendmessage),$("#frm_send input[name=sendname]:hidden").val(sendname);for(var h=cartSn.split(split_gubun_1),i="",j=new Array(h),k=0;k<h.length;k++)i=void 0==typeof $("#frm_inp textarea[name=shop_memo_"+h[k]+"]")?"":$("#frm_inp textarea[name=shop_memo_"+h[k]+"]").val(),j[k]=i;$("#frm_send input[name=shop_memo_cont]:hidden").val(j.join(split_gubun_1));for(var k=0;k<h.length;k++)i=void 0==typeof $("#frm_inp input[name=gift_pkg_"+h[k]+"]:radio:checked")?"N":$("#frm_inp input[name=gift_pkg_"+h[k]+"]:radio:checked").val(),j[k]=i;return $("#frm_send input[name=gift_pkg_yn]:hidden").val(j.join(split_gubun_1)),!0}}function deli_init(a){var b="";void 0!=a&&""!=a&&(b=a+"_"),$("input[name^=tmp_deli_amt_"+b+"]:hidden").each(function(){$("#frm_inp input[name=caltotdeliamt]:hidden").val(parseInt($("#frm_inp input[name=caltotdeliamt]:hidden").val())-parseInt($(this).val())),$(this).val("0")}),$("div[id^=tmp_deli_amt_"+b+"]").each(function(){$(this).find("span").text("배송비 : 무료")}),$("input[name^=deli_data_"+b+"]:hidden").each(function(){$(this).next().next().children().val("0")})}function multiDeliAmt(a){var b=a.attr("name"),c=b.replace("multi_prod_",""),d=(b.substring(b.lastIndexOf("_")+1),$("#deli_product_"+c+" input[name^=deli_data_]:hidden").val()),e=new Array,f=0,g=0,h=new Array;$("input[name^=deli_data_]").each(function(){$(this).val().split("|")[1]==d.split("|")[1]&&$(this).each(function(){if(Number($(this).next().next().find("input").val())>0){for(var a=!1,b=0;b<h.length;b++)if(h[b]==$(this).attr("name")){a=!0;break}a||(h[f]=$(this).attr("name"),e[f]=$(this).next().next().find("input"),f++)}})});for(var i=0;f>i;i++){var j,k=e[i],l=k.attr("name"),m=l.replace("multi_prod_",""),n=l.substring(l.lastIndexOf("_")+1),o=$("#deli_product_"+m+" input[name^=deli_data_]:hidden").val(),p=o.split("|"),q="",r="",s="",t="",u="",v="",w=$("input[name=smartOrd]").val(),x=$("input[name=crspk_exist_yn]").val();"Y"==x&&(w="N"),$("input[name=deli_data_"+n+"]:hidden").each(function(){j=$(this).val().split("|"),p[1]==j[1]&&(v=""==q?"":split_gubun_1,q+=v+j[0],r+=v+j[1],s+=v+j[2],t+=v+w,u+=v+$(this).siblings("span").find("input").val())});var y="",z="",A="",B=0;if($.ajax({type:"post",async:!1,url:"/popup/multi_deli_amt.do?"+__commonParam,data:"goodsNoMany="+q+"&dlvPolcNoMany="+r+"&realSalePrcMany="+s+"&smpUseYnMany="+t+"&ordQtyMany="+u,success:function(a){y=a.split(":"),z=y[0],A=y[1],B=$.trim(y[2])}}),"0000"==$.trim(z)){var C=$("input[name=tmp_deli_amt_"+n+"_"+p[1]+"]:hidden").val();$("input[name=tmp_deli_amt_"+n+"_"+p[1]+"]:hidden").val(B),$("#tmp_deli_amt_"+n+"_"+p[1]).find("span").text("배송비 : "+(0==B?"무료":new String(B).money()+"원"));var D=0;$("input[name^=tmp_deli_amt_"+n+"_]:hidden").each(function(){D+=parseInt($(this).val())}),$("input[name=tmp_deli_amt_"+n+"_"+p[1]+"]:hidden").each(function(){$("#frm_inp input[name=caltotdeliamt]:hidden").val(parseInt($("#frm_inp input[name=caltotdeliamt]:hidden").val())-parseInt(C)+parseInt($(this).val()))}),fn_calcTotalPrice(),$("#frm_send input[name=totdeliamt]:hidden").val($("#frm_inp input[name=caltotdeliamt]:hidden").val()),g+=Number(B)}else alert($.trim(A))}if(1>f){var k,l,m,n,o,p,C,B=0;$("input[name^=deli_data_]").each(function(){$(this).val().split("|")[1]==d.split("|")[1]&&$(this).each(function(){k=$(this).next().next().find("input"),l=k.attr("name"),m=l.replace("multi_prod_",""),n=l.substring(l.lastIndexOf("_")+1),o=$("#deli_product_"+m+" input[name^=deli_data_]:hidden").val(),p=o.split("|"),C=$("input[name=tmp_deli_amt_"+n+"_"+p[1]+"]:hidden").val(),$("input[name=tmp_deli_amt_"+n+"_"+p[1]+"]:hidden").val(B),$("#tmp_deli_amt_"+n+"_"+p[1]).find("span").text("배송비 : "+(0==B?"무료":new String(B).money()+"원")),$("input[name=tmp_deli_amt_"+n+"_"+p[1]+"]:hidden").each(function(){$("#frm_inp input[name=caltotdeliamt]:hidden").val(parseInt($("#frm_inp input[name=caltotdeliamt]:hidden").val())-parseInt(C)+parseInt($(this).val()))})})}),fn_calcTotalPrice(),$("#frm_send input[name=totdeliamt]:hidden").val($("#frm_inp input[name=caltotdeliamt]:hidden").val())}benefit_dlvp_set([d,g,f])}function getPage(){return document.frm_send.pageName.value}function naver_store_map(a,b,c,d,e){if("boolean"!=typeof b||b===!1)return void com.lotte.util.LoadScript("http://map.naver.com/js/naverMap.naver?key=956f6f619b13d3caf5540349078f9593",function(){naver_store_map(a,!0,c,d,e)});$("#cover").css({display:"block",height:"100%",top:0});var f=$(document).scrollTop()-$(".new1025").height()+100,g="position:absolute;width:100%;opacity:1;z-index:999;top:"+f+"px;left:0px;";$("#shop_location").removeClass("shop_location"),$("#shop_location").attr("style",g);var h=e==goods_smp_normal_etc?"Y":"N",i="goods_no="+a+"&smp_entr_no="+c+"&smp_entr_contr_no="+d+"&smp_ecoupon_yn="+h+"&"+__commonParam;$.ajax({type:"post",async:!0,url:"/product/m/mobileNaverMap.do?",data:i,beforeSend:function(){$("#loading").css("display","block")},success:function(a){$("#shop_location").html(a),$("#shop_location").show()},error:function(a){alert("매장위치 조회 중 오류가 발생하였습니다.\n잠시 후 조회해 주세요."),$("#shop_location").hide()},complete:function(){$("#loading").css("display","none")}})}function setMaxDc(){var a=0,b=0,c=0,d=0,e=0,f="0";$("#frm_inp input[name=coupon]").each(function(){var g=$(this).val();"N"!=g?(promcartsn=$("#frm_inp input[name=promcartsn]").eq(g).val(),prommdclcd=$("#frm_inp input[name=prommdclcd]").eq(g).val(),fvrpolctpcd=$("#frm_inp input[name=fvrpolctpcd]").eq(g).val(),totdcamt=$("#frm_inp input[name=totdcamt]").eq(g).val(),cpnpromno=$("#frm_inp input[name=cpnpromno]").eq(g).val(),cpnrscmgmtsn=$("#frm_inp input[name=cpnrscmgmtsn]").eq(g).val(),adtncostdtlsctnm=$("#frm_inp input[name=adtncostdtlsctnm]").eq(g).val(),cardkndcd=$("#frm_inp input[name=cardkndcd]").eq(g).val(),includeSaveInstCpn=$("#frm_inp input[name=includeSaveInstCpn]").eq(g).val(),$("#frm_inp input[name=dup_coupon]").length<2?parseInt(totdcamt)>=parseInt(b)&&(a=totdcamt,"N"==includeSaveInstCpn&&parseInt(totdcamt)>parseInt(b)?(b=totdcamt,maxFirstIdx=g,c=0,maxDupIdx=""):"Y"==includeSaveInstCpn&&parseInt(totdcamt)>parseInt(d)&&(d=totdcamt,maxSaveFirstIdx=g,e=0,maxSaveDupIdx="")):$("#frm_inp input[name=dup_coupon]").each(function(){var h,i=$(this).val(),j=0;if(v_cpn_crd_dc_amt=0,dup_cpnpromno=$("#frm_inp input[name=cpnpromno_dup]").eq(i).val(),"N"!=i){if(void 0==g||"N"==g?(h=single_prom,j=single_prom_cnt):(h=multi_prom,j=multi_prom_cnt,f="0"==cpnpromno?prommdclcd:cpnpromno),j>0){v_cpn_crd_dc_amt=0,totdupdcamt=0;for(var k=0;k<h.length;k++)if(h[k][0]==f&&h[k][1]==dup_cpnpromno){v_cpn_crd_dc_amt=h[k][2],totdupdcamt=h[k][2];break}parseInt(v_cpn_crd_dc_amt)>0?"N"!=i?(dup_promcartsn=$("#frm_inp input[name=promcartsn_dup]").eq(i).val(),dup_prommdclcd=$("#frm_inp input[name=prommdclcd_dup]").eq(i).val(),dup_fvrpolctpcd=$("#frm_inp input[name=fvrpolctpcd_dup]").eq(i).val(),dup_cpnpromno=$("#frm_inp input[name=cpnpromno_dup]").eq(i).val(),dup_cpnrscmgmtsn=$("#frm_inp input[name=cpnrscmgmtsn_dup]").eq(i).val(),dup_adtncostdtlsctnm=$("#frm_inp input[name=adtncostdtlsctnm_dup]").eq(i).val(),dup_cardkndcd=$("#frm_inp input[name=cardkndcd_dup]").eq(i).val(),dup_includeSaveInstCpn=$("#frm_inp input[name=includeSaveInstCpn_dup]").eq(i).val(),"10"==prommdclcd&&""!=cardkndcd?("30"==$("#frm_inp input[name=prommdclcd_dup]:eq("+$(this).val()+")").val()&&cardkndcd==$("#frm_inp input[name=cardkndcd_dup]:eq("+$(this).val()+")").val()||""==$("#frm_inp input[name=cardkndcd_dup]:eq("+$(this).val()+")").val())&&parseInt(totdcamt)+parseInt(totdupdcamt)>=parseInt(a)&&(a=parseInt(totdcamt)+parseInt(totdupdcamt),"N"==includeSaveInstCpn&&parseInt(a)>parseInt(b)+parseInt(c)?(b=totdcamt,maxFirstIdx=g,c=totdupdcamt,maxDupIdx=i):"Y"==includeSaveInstCpn&&parseInt(a)>parseInt(d)+parseInt(e)&&(d=totdcamt,maxSaveFirstIdx=g,e=totdupdcamt,maxSaveDupIdx=i)):"27"==prommdclcd?parseInt(totdcamt)>=parseInt(a)&&("N"==includeSaveInstCpn&&parseInt(totdcamt)>parseInt(b)?(b=totdcamt,maxFirstIdx=g,c=0,maxDupIdx=""):"Y"==includeSaveInstCpn&&parseInt(totdcamt)>parseInt(d)&&(d=totdcamt,maxSaveFirstIdx=g,e=0,maxSaveDupIdx="")):parseInt(totdcamt)+parseInt(totdupdcamt)>=parseInt(a)&&(a=parseInt(totdcamt)+parseInt(totdupdcamt),"N"==includeSaveInstCpn&&parseInt(a)>parseInt(b)+parseInt(c)?(b=totdcamt,maxFirstIdx=g,c=totdupdcamt,maxDupIdx=i):"Y"==includeSaveInstCpn&&parseInt(a)>parseInt(d)+parseInt(e)&&(d=totdcamt,maxSaveFirstIdx=g,e=totdupdcamt,maxSaveDupIdx=i))):parseInt(totdcamt)>=parseInt(a)&&(a=totdcamt,"N"==includeSaveInstCpn&&parseInt(totdcamt)>parseInt(b)?(b=totdcamt,maxFirstIdx=g,c=0,maxDupIdx=""):"Y"==includeSaveInstCpn&&parseInt(totdcamt)>parseInt(d)&&(d=totdcamt,maxSaveFirstIdx=g,e=0,maxSaveDupIdx=""),promcartsn="",prommdclcd="",fvrpolctpcd="",totdcamt="0",cpnpromno="",cpnrscmgmtsn="",adtncostdtlsctnm="",cardkndcd="",includeSaveInstCpn=""):parseInt(totdcamt)>=parseInt(a)&&(a=parseInt(totdcamt),"N"==includeSaveInstCpn&&parseInt(totdcamt)>parseInt(b)?(b=totdcamt,maxFirstIdx=g,c=0,maxDupIdx=""):"Y"==includeSaveInstCpn&&parseInt(totdcamt)>parseInt(d)&&(d=totdcamt,maxSaveFirstIdx=g,e=0,maxSaveDupIdx=""),promcartsn="",prommdclcd="",fvrpolctpcd="",totdcamt="0",cpnpromno="",cpnrscmgmtsn="",adtncostdtlsctnm="",cardkndcd="",includeSaveInstCpn="")}}else parseInt(totdcamt)>=parseInt(a)&&(a=totdcamt,"N"==includeSaveInstCpn&&parseInt(totdcamt)>parseInt(b)?(b=totdcamt,maxFirstIdx=g,c=0,maxDupIdx=""):"Y"==includeSaveInstCpn&&parseInt(totdcamt)>parseInt(d)&&(d=totdcamt,maxSaveFirstIdx=g,e=0,maxSaveDupIdx=""))})):$("#frm_inp input[name=dup_coupon]").length>1&&$("#frm_inp input[name=dup_coupon]").each(function(){var b,d=$(this).val(),h=0;if(v_cpn_crd_dc_amt=0,"N"!=d&&(void 0==g||"N"==g?(b=single_prom,h=single_prom_cnt):(b=multi_prom,h=multi_prom_cnt,f="0"==cpnpromno?prommdclcd:cpnpromno),cpnpromno_dup=$("#frm_inp input[name=cpnpromno_dup]").eq(d).val(),h>0)){for(var i=0;i<b.length;i++)if(b[i][0]==f&&b[i][1]==cpnpromno_dup){v_cpn_crd_dc_amt=b[i][2],totdupdcamt=b[i][2];break}parseInt(v_cpn_crd_dc_amt)>0&&("N"!=d?(promcartsn=$("#frm_inp input[name=promcartsn_dup]").eq(d).val(),prommdclcd=$("#frm_inp input[name=prommdclcd_dup]").eq(d).val(),fvrpolctpcd=$("#frm_inp input[name=fvrpolctpcd_dup]").eq(d).val(),cpnpromno=$("#frm_inp input[name=cpnpromno_dup]").eq(d).val(),cpnrscmgmtsn=$("#frm_inp input[name=cpnrscmgmtsn_dup]").eq(d).val(),adtncostdtlsctnm=$("#frm_inp input[name=adtncostdtlsctnm_dup]").eq(d).val(),cardkndcd=$("#frm_inp input[name=cardkndcd_dup]").eq(d).val(),includeSaveInstCpn=$("#frm_inp input[name=includeSaveInstCpn_dup]").eq(d).val(),parseInt(v_cpn_crd_dc_amt)>parseInt(a)&&(a=parseInt(v_cpn_crd_dc_amt),parseInt(v_cpn_crd_dc_amt)>0?(c=v_cpn_crd_dc_amt,maxDupIdx=d):(c=0,maxDupIdx="",e=0,maxSaveDupIdx=""))):(promcartsn="",prommdclcd="",fvrpolctpcd="",totdcamt="0",cpnpromno="",cpnrscmgmtsn="",adtncostdtlsctnm="",cardkndcd="",includeSaveInstCpn=""))}})}),parseInt(b)+parseInt(c)<parseInt(d)+parseInt(e)&&(maxFirstIdx=maxSaveFirstIdx,maxDupIdx=maxSaveDupIdx),maxFirstIdx=""==maxFirstIdx?"N":maxFirstIdx,maxDupIdx=""==maxDupIdx?"N":maxDupIdx,"N"!=maxFirstIdx&&($("#frm_inp select[name=coupon]").val(maxFirstIdx),$("#frm_inp select[name=coupon]").change()),"N"!=maxDupIdx&&($("#frm_inp select[name=dup_coupon]").val(maxDupIdx),$("#frm_inp select[name=dup_coupon]").change()),"N"==maxFirstIdx&&"N"==maxDupIdx&&("Y"==app_card_only_yn?($("#frm_inp select[name=iscmcd]").val(app_card_cd),getCardInsCheck()):0==$("#frm_inp input[name=rdo_paytype]:radio:checked").index()&&0!=$("#frm_inp select[name=iscmcd] option:selected").index()&&getCardInsCheck()),0==maxFirstIdx&&$(".order_tp #lottepointSave .lottepointOrange").hide()}function chkEmpty(a){var b=!1;return(null==$(a).val()||""==$(a).val())&&(b=!0),b}function closeANSPop(){$("#ansimPop,#cover").hide(),$("#cover").off("click")}function showANSPop(){$("#ansimPop,#cover").show(),$("#cover").on("click",function(){closeANSPop()})}function setCellNo(){""!=phone_no1&&""!=phone_no2&&""!=phone_no3&&($("select[name=cr_issu_mean_no_phone1]").val(phone_no1),$("input[name=cr_issu_mean_no_phone2]").val(phone_no2),$("input[name=cr_issu_mean_no_phone3]").val(phone_no3))}function lpayCertInfoView(){$("#frm_inp select[name=iscmcd]").html(lpayCardStr),$("#frm_inp input[name=lpay_type]").prop("checked",!1),$(".btn_addpay").show()}function lpayCertInfoTemp(){lpayCardStr="",$(".box_Lpay_agree_check").css("display","none"),lpayCardStr='<option value ="">카드선택</option>',lpayCardStr+="<option value='047' data-card-div='CC' data-card-id='PM002' data-card-anm='롯데카드'  data-card-no='33333' data-card-nm='롯데카드(주)'>롯데카드(주)</option>",$("#frm_inp select[name=iscmcd]").html(lpayCardStr),lpay_card_list(),getCardInsCheck()}function lpayCertInfo(){selPayType(4),$("#pageDesc").html("카드목록을 조회 중입니다.<br>잠시만 기다려 주세요."),$("#pageCover,#pageLoading").show(),$("#frm_lpay input[name=req_div]:hidden").val("card_req"),$("#frm_lpay").submit()}function replaceLpayCardList(){lpayCardStr=$("#frm_inp select[name=iscmcd]").html();var a=createLpayMean();$("#lpay_paymean").html(a),$("#lpay_paymean").show(),lpay_card_list(),$("#frm_inp input[name=op_pay_mean_hist_pay_mean_cd]").val()==PAYTYPE_CODE_LPAY&&$("select[name=iscmcd] option:selected").length>0&&""!=$("select[name=iscmcd] option:selected").val()&&$("#lpay_paymean_"+$("select[name=iscmcd] option:selected").data("card-id")).click(),$(".btn_addpay").show(),createCardPaymean(),lpayCardStr.indexOf($("#general_paymean input[name=general_paymean_iscmcd]:hidden").val())>-1&&($("#general_paymean").html(""),$("#general_paymean").hide()),init_cardselect(),toggleAction17()}function LpayAgreeCheckLayer(){"none"==$(".box_Lpay_agree_check .txt01").css("display")&&$("#pay_type4").hasClass("on")?$(".box_Lpay_agree_check").addClass("open"):$(".box_Lpay_agree_check").removeClass("open")}function NaverPayAgreeCheckLayer(){"none"==$(".npay_notice_wrap .txt").css("display")&&$("#pay_type5").hasClass("on")?$(".npay_notice_wrap").addClass("open"):$(".npay_notice_wrap").removeClass("open")}function fn_useLPayLPointCancel(){$(".laver_Lpay_order").hide(),$("#useLottePoint").hide(),1==$("#chk_lt_point").prop("checked")&&$("#chk_lt_point").trigger("click"),3!=$("input[name=temp_paytype]:hidden").val()&&$("#temp_lt_point_amt").val("")}function lpay_card_reg(){$("#X_ANSIM_FRAME").attr("src","/lpay/callDLP.jsp?lpay_id=LP-PM-IAPI-03-002")}function lpay_lnk_app(){
$("#X_ANSIM_FRAME").attr("src","https://www.lpay.com/dlp/ldc/appInstall")}function lpay_card_list(){var a="<div id='lpay_list'><h3>L.Pay 간편결제 선택</h3>",b="N",c=0;$("#frm_inp select[name=iscmcd] option").each(function(){var d=$(this).val();$(this).text();""!=d&&(a+="<radiobox-list class='ng-scope'>	<radiobox class='combo'>",a+="		<input type='radio' id='rdo_lpay_idx_"+c+"' name='lpay_type' value='"+$(this).val()+"' onClick='lpay_card_click(\""+$(this).attr("data-card-id")+"\")' data-card-nm='"+$(this).attr("data-card-nm")+"'  class='radio01' data-card-id='"+$(this).attr("data-card-id")+"'>",a+="		<label for='rdo_lpay_idx_"+c+"' class='ng-binding'>"+$(this).text()+" </label>	</radiobox>			</radiobox-list>",b="Y",c++)}),a+="</div>","Y"==b?($("#lpay_list").html(a),$("#pay_type4").hasClass("on")&&($("#lpay_list").show(),$("#card_select").show())):lpayListCheck()}function lpay_card_click(a){$("#frm_inp select[name=iscmcd] option").each(function(){$(this).attr("data-card-id")==a&&$(this).prop("selected",!0)}),$("#frm_inp select[name=iscmcd]").change(),""!=$("#frm_inp select[name=iscmcd]").val()&&("Y"==card_sale_yn||"Y"==claim_sale_yn)&&fn_cardsavegoods(),"CC"!=$("#frm_inp select[name=iscmcd] option[data-card-id="+a+"]").data("card-div")&&($("#frm_inp select[name=cardinstmon] option:eq(0)").prop("selected",!0),$("#frm_inp select[name=cardinstmon]").prop("disabled",!0))}function listOpen(a,b){function c(){return h?($("#pageCover").hide(),f.css({bottom:-f.height()-12+"px","z-index":0}),g.removeClass("on")):($("#pageCover").show(),f.css({bottom:0,"z-index":"9999"}),g.addClass("on")),!1}$("#sel_deli_cnt").val(b);var d=$("#sel_deli_cnt").val(),e=$("#deli_"+d+" #li_mine #deli_select_"+d).val();$("input[type=radio][value="+e+"]").trigger("click");var f=$(".addr_list_layer"),g=$(".addr_list_open"),h=($(".addr_list_bg"),!1);"1"==a?c():"2"==a&&(f=$(".addr_list_layer2"),c()),filterBarScroll=$("#filterType").egScroll(!0,!1,!0),$("#filterType2").egScroll(!0,!1)}function btnModi(){var a=$(".addr_list_layer"),b=$(".addr_list_open"),c=$(".addr_list_bg"),d=!1;changeInfo("1"),c.hide(),$B(a[0]).transition("bottom:"+(-a.height()-12)+"px","bottom 0.3s ease",{onTransitionEnd:function(a){d=!1}}),b.removeClass("on")}function deleteDlvpInfo(a,b){if(1==$("#filterType >ul >li").size())return alert("마지막 배송지입니다."),!1;if(confirm("내 배송지 목록에서 삭제하시겠습니까?"))if(delete_flag)alert("배송지 삭제중입니다.");else{delete_flag=!0;var c=$("#filterType >ul >li[data-dlvpSn="+a+"]"),d=c.data("idx");$.ajax({type:"post",async:!1,url:"/popup/delete_deli.do?dlvp_sn="+a+"&index="+d+"&mbr_no="+b,success:function(a){"0000"==a&&alert("ok");for(var b=c.index(),d=b+1;d<$("#filterType >ul >li").length;d++){var e=$("#filterType >ul >li").eq(d).attr("data-idx");$("#filterType >ul >li").eq(d).attr("data-idx",e-1)}return c.remove(),filterBarScroll.refresh(),delete_flag=!1,!0}})}}function btnComplate(){if(!$('input:radio[name="detail_list"]').is(":checked"))return alert("배송지를 선택해 주세요"),!1;var a=$(".addr_list_layer"),b=$(".addr_list_open"),c=($(".addr_list_bg"),!1);$("#pageCover").hide(),a.css({bottom:-a.height()-12+"px","z-index":0}),b.removeClass("on"),c=!1;var d=$('input:radio[name="detail_list"]:checked'),e=$("#sel_deli_cnt").val();$("#deli_"+e+" dd[class*=deli_]").hide(),$("#deli_"+e+" dd.deli_"+d.data("d12")).show(),$("#deli_"+e+" #li_mine #selectedRmitNmList").html($("#deli_"+e+" #deliVal_rmitnm_"+d.data("d12")).val()+" ("+$("#deli_"+e+" #deliVal_dlvpnm_"+d.data("d12")).val()+")"),$("#deli_"+e+" #li_mine #deli_select_"+e).val(d.data("d12")),$("#deli_"+e+" #li_mine #deli_selected_no_"+e).val(d.data("d16")),$("#deli_"+e+" #li_mine input[name=inprmitnm]").val($("#deli_"+e+" #deliVal_rmitnm_"+d.data("d12")).val()),$("#deli_"+e+" #li_mine input[name=inpdlvpnm]").val($("#deli_"+e+" #deliVal_dlvpnm_"+d.data("d12")).val()),$("#deli_"+e+" #li_mine input[name=inpzip1]").val($("#deli_"+e+" #deliVal_zip1_"+d.data("d12")).val()),$("#deli_"+e+" #li_mine input[name=inpzip2]").val($("#deli_"+e+" #deliVal_zip2_"+d.data("d12")).val()),$("#deli_"+e+" #li_mine input[name=inpaddr1]").val($("#deli_"+e+" #deliVal_addr1_"+d.data("d12")).val()),$("#deli_"+e+" #li_mine input[name=inpaddr2]").val($("#deli_"+e+" #deliVal_addr2_"+d.data("d12")).val()),$("#deli_"+e+" #li_mine input[name=stnm_inp_zip1]").val($("#deli_"+e+" #deliVal_stnmzip1_"+d.data("d12")).val()),$("#deli_"+e+" #li_mine input[name=stnm_inp_zip2]").val($("#deli_"+e+" #deliVal_stnmzip2_"+d.data("d12")).val()),$("#deli_"+e+" #li_mine input[name=stnm_inp_addr1]").val($("#deli_"+e+" #deliVal_stnmaddr1_"+d.data("d12")).val()),$("#deli_"+e+" #li_mine input[name=stnm_inp_addr2]").val($("#deli_"+e+" #deliVal_stnmaddr2_"+d.data("d12")).val()),$("input[name=gift_yn_"+e+"]:radio").prop("checked")&&($("input[name=gift_yn_"+e+"]:radio").eq(0).prop("checked",!0),$("input[name=gift_yn_"+e+"]:radio").eq(0).click()),switchDeliOption("mine",e,d.data("d12"))}function btnCancel(){var a=$(".addr_list_layer");$(".addr_list_bg");$("#pageCover").hide(),a.css({bottom:-a.height()-12+"px","z-index":0}),_open=!1}function chImg(a,b){a.src="http://image.lotte.com/lotte/images/common/product/no_"+b+".gif"}function fn_inputPayType(a){var b;console.log("checkVal : "+a);$("#pay_type1").hasClass("disable"),$("#pay_type2").hasClass("disable"),$("#pay_type3").hasClass("disable"),$("#pay_type4").hasClass("disable"),$("#pay_type5").hasClass("disable");a==PAYTYPE_CODE_CARD?b="1":a==PAYTYPE_CODE_BANK?b="2":a==PAYTYPE_CODE_PHONE?b="3":a==PAYTYPE_CODE_LPAY?b="4":a==PAYTYPE_CODE_NAVERPAY&&(b="5");var c="#pay_type"+b,d=$(c).hasClass("disable");return console.log("input idHassYn : "+d),d?$("#pay_type1").hasClass("disable")?$("#pay_type2").hasClass("disable")?$("#pay_type3").hasClass("disable")?$("#pay_type4").hasClass("disable")?$("#pay_type5").hasClass("disable")?void 0:PAYTYPE_CODE_NAVERPAY:PAYTYPE_CODE_LPAY:PAYTYPE_CODE_PHONE:PAYTYPE_CODE_BANK:PAYTYPE_CODE_CARD:a}function paytypeDisableCheckHist(a){var b;a==PAYTYPE_CODE_CARD?b="1":a==PAYTYPE_CODE_BANK?b="2":a==PAYTYPE_CODE_PHONE?b="3":a==PAYTYPE_CODE_LPAY?b="4":a==PAYTYPE_CODE_NAVERPAY&&(b="5");var c="#pay_type"+b,d=$(c).hasClass("disable");return d}function chgCrspkWithNormal(a,b,c,d,e,f){if("C"==a&&(null==c||null==d||null==e||""==c||""==d||""==e))return void alert("지정된 스마트픽 핃업 지점 정보가 존재하지 않습니다.");var g='{"div":"'+a+'", "cart_sn":"'+b+'"';null!=c&&null!=d&&null!=e?(g+=',"crspk_yn":"Y"',g+=',"crspk_corp_cd":"'+c+'"',g+=',"crspk_corp_str_sct_cd":"'+d+'"',g+=',"crspk_str_no":"'+e+'"'):(g+=',"crspk_yn":"N"',g+=',"crspk_corp_cd":""',g+=',"crspk_corp_str_sct_cd":""',g+=',"crspk_str_no":""'),g+="}",$.ajax({type:"POST",url:"/json/mylotte/cart/chgCrspkWithNormal.json",data:JSON.parse(g),dataType:"json",success:function(a){alert(a.result.response_msg),"0000"==a.result.response_code&&("Y"==f&&$("#searchMartPop").hide(),$("#pageCover").show(),$("#pageLoading").show(),location.reload())}})}function searchMartResult(a){var b="/smartpick/crosspick_map.do",c="?chg_attr_yn=Y";c+="&cart_sn="+a,$("#searchMartPop").show(),$("#searchMartPop").find("iframe").attr("src",b+c)}function searchMartClose(){$("#searchMartPop").hide(),$("#searchMartPop").find("iframe").attr("src","")}function fn_chkDeliDeptClose(){var a=!0,b=$("#frm_send input[name=qs_yn]:hidden").val();if("undefined"!=typeof b&&"Y"==b){var c="";if(c="Y"==grockle_yn?$("#frm_inp input[name=inpzip1]:hidden").val()+$("#frm_inp input[name=inpzip2]:hidden").val():$("#frm_send input[name=dlvzip]").val(),"undefined"==typeof c||""==c)return alert("우편번호가 저장되어있지 않아 배송지 정보를 알수 없습니다.\n새 배송지를 입력하여 다시 시도해주세요!"),!1;$.ajax({async:!1,url:"/mylotte/searchDlvChk_quick.do",dataType:"json",data:{post_no:c},success:function(b){b.success?"Y"==b.postyn?("Y"!=b.dpclose&&(alert("공휴일 및 롯데백화점 본점 휴무일, \n배송마감일에는 \n퀵 배송 주문이 불가합니다."),a=!1),"Y"!=b.timeyn&&(alert("퀵 배송 주문은 09:00~16:30에만 가능합니다."),a=!1)):(alert("서울지역만 퀵 배송이 가능합니다.\n배송지를 다시 입력해 주세요."),a=!1):(alert("서버와 통신 조회중 입니다. 결제하기 버튼을 다시 클릭해 주세요."),a=!1)}})}return a}function fn_quicDeliAmtChk(a,b,c,d){var e=$("#frm_send input[name=stdamt]:hidden").val(),f=$("#frm_send input[name=deliamtup]:hidden").val(),g=$("#frm_send input[name=deliamtdown]:hidden").val(),h=0;return d=(parseInt(a)-parseInt(c)-parseInt(b)).toString(),a=parseInt(a)-parseInt(b),h=parseInt(d)>=parseInt(e)?g:f,d=(parseInt(d)+parseInt(h)).toString(),a=parseInt(a)+parseInt(h),$("#frm_inp input[name=defaulttotsttlamt]:hidden").val(a),$("#frm_inp input[name=totsttlamt]:hidden").val(a),$("#bene_tot_amt").find("span").text(String(a).money()+"원"),$("#frm_inp input[name=totordamt]:hidden").val(a),$("#totalOrdAmt").html("<strong>"+String(a).money()+"</strong>원<span>(배송비포함)</span>"),$("#frm_inp input[name=orgtotdeliamt]:hidden").val(h),$("#frm_inp input[name=caltotdeliamt]:hidden").val(h),$("#frm_send input[name=totdeliamt]:hidden").val(h),$("#bene_group_deli_amt_1").find("span").attr("dlex",h),$("#bene_group_deli_amt_1").find("span").html(h.money()+'<span class="no_bold">원</span>'),$("#quickDeliAmt").text(h.money()),d}function fn_all_dc(){var a="Y",b="";$(".max_discount").hasClass("on")?(""!=$("#frm_send input[name=prommdclcd]").val()&&"Y"==a&&(b="<ul><li class='list_depth2'><div class='left'><span class='coupon_title'>"+$("#frm_send input[name=adtncostdtlsctnm]").val()+"</span><div class='coupon_wrap' onclick=\"javascript:$('.coupon_pop').show(); scrollYN('N','');sendTclick('Sporder_clk_Pop2');\"><span class='coupon'>쿠폰변경</span></div></div><p class='right middle short_blind ' style='display:block;'>"+("Y"!=$("#frm_send input[name=includeSaveInstCpn]").val()?"(-)":"")+$("#frm_send input[name=totdcamt]").val().money()+("Y"!=$("#frm_send input[name=includeSaveInstCpn]").val()?"원":"점 적립")+"</p>",a="N"),""!=$("#frm_send input[name=prommdclcd_dup]").val()&&("Y"==a?(b="<ul><li class='list_depth2'><div class='left'><span class='coupon_title'>"+$("#frm_send input[name=adtncostdtlsctnm_dup]").val()+"</span><div class='coupon_wrap' onclick=\"javascript:$('.coupon_pop').show(); scrollYN('N','');sendTclick('Sporder_clk_Pop2');\"><span class='coupon'>쿠폰변경</span></div></div><p class='right middle short_blind' style='display:block;'>"+("Y"!=$("#frm_send input[name=includeSaveInstCpn_dup]").val()?"(-)":"")+$("#frm_send input[name=totdcamt_dup]").val().money()+("Y"!=$("#frm_send input[name=includeSaveInstCpn_dup]").val()?"원":"점 적립")+"</p>",a="N"):b+="<li class='list_depth2'><p class='left coupon_name'>"+$("#frm_send input[name=adtncostdtlsctnm_dup]").val()+"</p><p class='right short_blind' style='display:block;'>"+("Y"!=$("#frm_send input[name=includeSaveInstCpn_dup]").val()?"(-)":"")+$("#frm_send input[name=totdcamt_dup]").val().money()+("Y"!=$("#frm_send input[name=includeSaveInstCpn_dup]").val()?"원":"점 적립")+"</p>"),""!=$("#frm_send input[name=prommdclcd_third]").val()&&("Y"==a?(b="<ul><li class='list_depth2'><div class='left'><span class='coupon_title'>"+$("#frm_send input[name=adtncostdtlsctnm_third]").val()+"</span><div class='coupon_wrap' onclick=\"javascript:$('.coupon_pop').show(); scrollYN('N','');sendTclick('Sporder_clk_Pop2');\"><span class='coupon'>쿠폰변경</span></div></div><p class='right middle short_blind' style='display:block;'>(-)"+$("#frm_send input[name=totdcamt_third]").val().money()+"원</p>",a="N"):b+="<li class='list_depth2'><p class='left coupon_name'>"+$("#frm_send input[name=adtncostdtlsctnm_third]").val()+"</p><p class='right short_blind' style='display:block;'>(-)"+$("#frm_send input[name=totdcamt_third]").val().money()+"원</p></li>"),"Y"==$("#frm_inp input[name=free]:radio:checked").val()&&"Y"!=freeShippingYn&&("Y"==a?(b="<ul><li class='list_depth2'><div class='left'><span class='coupon_title'>무료배송권</span><div class='coupon_wrap' onclick=\"javascript:$('.coupon_pop').show(); scrollYN('N','');sendTclick('Sporder_clk_Pop2');\"><span class='coupon'>쿠폰변경</span></div></div><p class='right short_blind' style='display:block;'>(-)"+$("#dlv_fvr_val").val().money()+"원</p>",a="N"):b+="<li class='list_depth2'><p class='left coupon_name'>무료배송권</p><p class='right short_blind' style='display:block;'>(-)"+$("#dlv_fvr_val").val().money()+"원</p></li>")):("N"!=$("#frm_send input[name=prommdclcd]").val()&&"10"==$("#frm_send input[name=prommdclcd]").val()&&"Y"==a&&(b="<ul><li class='list_depth2'><div class='left'><span class='coupon_title'>"+getCardNm($("#frm_send input[name=cardkndcd]").val())+"카드 할인이 적용되어 있습니다.</span><div class='coupon_wrap off' onclick=\"javascript:$('.coupon_pop').show(); scrollYN('N','');sendTclick('Sporder_clk_Pop2');\"><span class='coupon'>쿠폰변경</span></div></div><p class='right middle short_blind'>"+$("#frm_send input[name=totdcamt]").val().money()+"원</p>",a="N"),""!=$("#frm_send input[name=prommdclcd_dup]").val()&&""!=$("#frm_send input[name=cardkndcd_dup]").val()&&("Y"==a?(b="<ul><li class='list_depth2'><div class='left'><span class='coupon_title'>"+getCardNm($("#frm_send input[name=cardkndcd_dup]").val())+"카드 쿠폰이 적용되어 있습니다.</span><div class='coupon_wrap off' onclick=\"javascript:$('.coupon_pop').show(); scrollYN('N','');sendTclick('Sporder_clk_Pop2');\"><span class='coupon'>쿠폰변경</span></div></div><p class='right middle short_blind'>(-)"+$("#frm_send input[name=totdcamt_dup]").val().money()+"원</p>",a="N"):b+="<li class='list_depth2'><p class='left coupon_name'>"+getCardNm($("#frm_send input[name=cardkndcd_dup]").val())+"카드 쿠폰이 적용되어 있습니다.</span><p class='right short_blind'>(-)"+$("#frm_send input[name=totdcamt_dup]").val().money()+"원</p></li>"),""!=$("#frm_send input[name=prommdclcd_third]").val()&&("Y"==a?(b="<ul><li class='list_depth2'><div class='left'><span class='coupon_title'>일시불 할인이 적용되어 있습니다.</span><div class='coupon_wrap off' onclick=\"javascript:$('.coupon_pop').show(); scrollYN('N','');sendTclick('Sporder_clk_Pop2');\"><span class='coupon'>쿠폰변경</span></div></div><p class='right middle short_blind'>(-)"+$("#frm_send input[name=totdcamt_third]").val().money()+"원</p>",a="N"):b+="<li class='list_depth2'><p class='left coupon_name'>일시불 할인이 적용되어 있습니다.</p><p class='right short_blind'>(-)"+$("#frm_send input[name=totdcamt_third]").val().money()+"원</p></li>")),"N"==a?b+="</ui>":(""!=$("#frm_inp input[name=prommdclcd]").val()&&void 0!=$("#frm_inp input[name=prommdclcd]").val()||""!=$("#frm_inp input[name=prommdclcd_dup]").val()&&void 0!=$("#frm_inp input[name=prommdclcd_dup]").val()||""!=$("#frm_inp input[name=prommdclcd_third]").val()&&void 0!=$("#frm_inp input[name=prommdclcd_third]").val()||"Y"==$("#dlv_prom_use_yn").val())&&$(".max_discount").hasClass("on")&&(b="<ul><li class='list_depth2'><div class='left'><span class='coupon_title'></span><div class='coupon_wrap off' onclick=\"javascript:$('.coupon_pop').show(); scrollYN('N','');sendTclick('Sporder_clk_Pop2');\"><span class='coupon'>쿠폰변경</span></div></div><p class='right middle short_blind'></p>"),$("#amount_detail_list").html(b),fn_all_dc_view()}function fn_all_dc_view(){var a="N",b="N",c="N",d="N",e=$("#frm_send input[name=totRsrvAplyVal]").val(),f="";$("#amount_detail_list").removeClass("bb_none"),$("#pointUse").removeClass("bb_none"),$("#li_lottepointSave").removeClass("bb_none"),$("#li_totRsrvAplyVal").removeClass("bb_none"),(""!=$("#frm_inp input[name=prommdclcd]").val()&&void 0!=$("#frm_inp input[name=prommdclcd]").val()||""!=$("#frm_inp input[name=prommdclcd_dup]").val()&&void 0!=$("#frm_inp input[name=prommdclcd_dup]").val()||""!=$("#frm_inp input[name=prommdclcd_third]").val()&&void 0!=$("#frm_inp input[name=prommdclcd_third]").val()||"Y"==$("#dlv_prom_use_yn").val())&&(a="Y"),(""!=$("#lt_point_amt").val()&&void 0!=$("#lt_point_amt").val()||""!=$("#lpoint_amt").val()&&void 0!=$("#lpoint_amt").val()||""!=$("#deposit_amt").val()&&void 0!=$("#deposit_amt").val())&&(b="Y"),f="Y"!=$("#frm_send input[name=includeSaveInstCpn]").val()?0:dcamt,Number(e)>0&&(c="Y"),"27"!=$("#frm_send input[name=prommdclcd]").val()&&Number(e)+Number(f)>0&&(d="Y"),"Y"==a||"Y"==b||"Y"==c||"Y"==d?($("#amount_detail").show(),$(".max_discount").hasClass("on")?("Y"==a?($("#amount_detail_list").show(),"Y"!=b&&"Y"!=c&&$("#amount_detail_list").addClass("bb_none")):$("#amount_detail_list").hide(),"Y"==b?($("#pointUse").show(),"Y"!=c&&$("#pointUse").addClass("bb_none")):$("#pointUse").hide(),"Y"==c?($("#li_lottepointSave").show(),$("#li_lottepointSave").addClass("bb_none")):$("#li_lottepointSave").hide(),$("#li_totRsrvAplyVal").hide(),$(".list_depth2 .coupon_wrap").removeClass("off"),$(".right.short_blind").show()):("Y"==a&&("N"!=$("#frm_send input[name=prommdclcd]").val()&&"10"==$("#frm_send input[name=prommdclcd]").val()||""!=$("#frm_send input[name=prommdclcd_dup]").val()&&""!=$("#frm_send input[name=cardkndcd_dup]").val()||""!=$("#frm_send input[name=prommdclcd_third]").val())?($("#amount_detail_list").show(),"Y"!=d&&$("#amount_detail_list").addClass("bb_none")):$("#amount_detail_list").hide(),$("#pointUse").hide(),$("#li_lottepointSave").hide(),"Y"==d?($("#li_totRsrvAplyVal").show(),$("#li_totRsrvAplyVal").addClass("bb_none")):$("#li_totRsrvAplyVal").hide(),$(".list_depth2 .coupon_wrap").addClass("off"),$(".right.short_blind").hide())):$("#amount_detail").hide(),$(".max_discount").hasClass("on")||"N"!=$("#frm_send input[name=prommdclcd]").val()&&"10"==$("#frm_send input[name=prommdclcd]").val()||""!=$("#frm_send input[name=prommdclcd_dup]").val()&&""!=$("#frm_send input[name=cardkndcd_dup]").val()||""!=$("#frm_send input[name=prommdclcd_third]").val()||"Y"==d||$("#amount_detail").hide()}function pointUse(){var a="",b=$("#lt_point_amt").val(),c=$("#lpoint_amt").val(),d=$("#deposit_amt").val();""!=b&&void 0!=b&&(a+='<li class="list_depth2"><p class="left">L.POINT 사용</p><p class="right">(-)'+new String(Number(b)).money()+"원</p></li>"),""!=c&&void 0!=c&&(a+='<li class="list_depth2"><p class="left">L-money사용</p><p class="right">(-)'+new String(Number(c)).money()+"원</p></li>"),""!=d&&void 0!=d&&(a+='<li class="list_depth2"><p class="left">보관금 사용</p><p class="right">(-)'+new String(Number(d)).money()+"원</p></li>"),""!=a?($("#pointUse").html("<ul>"+a+"</ul>"),$(".max_discount").hasClass("on")?$("#pointUse").show():$("#pointUse").hide()):$("#pointUse").hide()}function setIscmCd(a){$("#frm_inp select[name=iscmcd]").val(a),$("#frm_inp select[name=iscmcd]").change(),""!=$("#frm_inp select[name=iscmcd]").val()&&("Y"==card_sale_yn||"Y"==claim_sale_yn)&&fn_cardsavegoods()}function fn_card_point(){$("#SHINHAN_CARD_LAYER").hide(),$("#BC_CARD_LAYER").hide(),$("#SAMSUNG_CARD_LAYER").hide(),$("#KB_CARD_LAYER").hide(),$("#shinhan_point").attr("checked",!1),$("#shinhan_point").prop("checked",!1),$("#shinhan_point").change(),$("#bc_point").attr("checked",!1),$("#bc_point").prop("checked",!1),$("#bc_point").change(),$("#samsung_point").attr("checked",!1),$("#samsung_point").prop("checked",!1),$("#samsung_point").change(),$("#kb_point").attr("checked",!1),$("#kb_point").prop("checked",!1),$("#kb_point").change()}function setAnother(a){var b=$("#frm_inp input[name=paytype]:hidden").val(),c="";if($("#general_paymean").removeClass("phone"),$("#general_paymean").removeClass("lpay"),b==PAYTYPE_CODE_CARD){if(""==$("#frm_inp select[name=iscmcd] option:selected").val()||void 0==$("#frm_inp select[name=iscmcd] option:selected").val())return alert("신용카드를 선택해 주세요."),!1;c=cardView("general_paymean")}else if(b==PAYTYPE_CODE_BANK){if(""==$("#frm_inp select[name=bankno] option:selected").val())return!1;if(!bankCheck())return!1;c=bankView("general_paymean")}else if(b==PAYTYPE_CODE_PHONE)c=phoneView(),$("#general_paymean").addClass("phone");else if(b==PAYTYPE_CODE_LPAY){if($("#frm_inp input[name=lpay_type]:radio").length<1)return alert("L.pay 결제수단을 먼저 등록해주세요."),!1;if($("#frm_inp input[name=lpay_type]:radio:checked").length<1)return alert("신용카드를 선택해 주세요."),!1;c=lpayView("general_paymean"),$("#general_paymean").addClass("lpay")}else if(b==PAYTYPE_CODE_NAVERPAY){if(!naverPayCheck())return!1;$("#naverPaycard_cont").show(),c=naverPayView("general_paymean")}else if(void 0==b)return alert("결제수단을 선택해 주세요."),!1;c+="<input type='hidden' name='general_paymean_type' value='"+b+"'>",$("#general_paymean").html(c),selPayMean("general_paymean"),$("#general_paymean").show(),"Y"==a&&($("#agree_layer_bg").hide(),$("#agree_layer").hide(),scrollYN("Y",""),$(".pay_method").hide(),$(".pay_method").hide()),toggleAction17(),payScrollView(0),$("#general_paymean_evt").addClass("on"),(b==PAYTYPE_CODE_CARD||b==PAYTYPE_CODE_LPAY)&&paycardinstmon()}function lpayView(a){var b="",c="",d=$("#frm_inp select[name=cardinstmon] option:selected").val(),e=$("#frm_inp input[name=lpay_type]:radio:checked").data("card-id");return $("#frm_inp select[name=iscmcd] option[data-card-id="+e+"]").prop("selected",!0),$("#frm_inp select[name=cardinstmon] option").each(function(){b+=d==$(this).val()?"<option value='"+$(this).val()+"' selected>"+$(this).text()+"</option>":"<option value='"+$(this).val()+"'>"+$(this).text()+"</option>"}),c+="<input type='hidden' name='"+a+"_iscmcd' value='"+$("#frm_inp select[name=iscmcd] option:selected").val()+"'>",c+="<input type='hidden' name='"+a+"_switch' value='N'>",c+="<div class='l_pay_logo'>    <img src='http://image.lotte.com/lotte/mo2015/angular/order/pay_lpay_2.png' alt=''>    <img src='http://image.lotte.com/lotte/mo2015/angular/order/pay_lpay_on_2.png' alt='' class='on_img'></div><div class='card_name'>    <p class='title1'>"+$("#frm_inp input[name=lpay_type]:radio[data-card-id='"+e+"']").attr("data-card-nm")+"</p>    <p class='title2'>"+$("#frm_inp select[name=iscmcd] option:selected").text()+"</p></div><div class='s_text'>	   <span class='s_box02'>	       <select name='"+a+"_cardinstmon' class='del_msg' data-idx='1' style='width:100%' onChange='sel_cardinstmon(this);'>"+b+"        </select>		   <span class='img_box'> <i></i> </span>		   <span class='evt_clip' onClick='paySelect(\""+a+"\",0);' id='"+a+"_evt'></span>	   </span></div>"}function cardView(a){var b=$("#card_confirm_label_"+$("#frm_inp input[name=card_confirm_type]:radio:checked").val()).text(),c="",d="",e=$("#frm_inp select[name=cardinstmon] option:selected").val();return $("#frm_inp select[name=cardinstmon] option").each(function(){c+=e==$(this).val()?"<option value='"+$(this).val()+"' selected>"+$(this).text()+"</option>":"<option value='"+$(this).val()+"'>"+$(this).text()+"</option>"}),$("#shinhan_point").prop("checked")||$("#bc_point").prop("checked")||$("#samsung_point").prop("checked")||$("#kb_point").prop("checked")?(b+=", 포인트 결제",d+="<input type='hidden' name='"+a+"_point' value='Y'>"):d+="<input type='hidden' name='"+a+"_point' value='N'>",d+="<input type='hidden' name='"+a+"_iscmcd' value='"+$("#frm_inp select[name=iscmcd] option:selected").val()+"'>",d+="<input type='hidden' name='"+a+"_switch' value='N'>",d+="<input type='hidden' name='"+a+"_card_confirm_type' value='"+$("#frm_inp input:radio[name=card_confirm_type]:checked").val()+"'>",d+="<div class='card_name'>	<p class='title1'>"+$("#frm_inp select[name=iscmcd] option:selected").text()+"</p>	<p class='title2'>"+b+"</p></div><div class='s_text'>	<span class='s_box02'>		<select name='"+a+"_cardinstmon' class='del_msg' data-idx='1' style='width:100%' onChange='sel_cardinstmon(this);'> "+c+" </select>		<span class='img_box'> <i></i> </span>		<span class='evt_clip' onClick='paySelect(\""+a+"\",0);' id='"+a+"_evt'></span>	</span></div>"}function bankView(a){var b="현금영수증 ",c="";return c+="<input type='hidden' name='"+a+"_bankcd' value='"+$("#frm_inp select[name=bankno] option:selected").val()+"'><input type='hidden' name='"+a+"_rdo_cash' value='"+$("#frm_inp select[name=rdo_cash] option:selected").val()+"'><input type='hidden' name='"+a+"_cr_issu_mean_sct_cd' value='"+$("#frm_inp select[name=cr_issu_mean_sct_cd] option:selected").val()+"'>",1==$("#frm_inp select[name=rdo_cash] option:selected").val()?3==$("#frm_inp select[name=cr_issu_mean_sct_cd] option:selected").val()?(b+=$("select[name=cr_issu_mean_no_phone1]").val()+"-"+$("input[name=cr_issu_mean_no_phone2]").val()+"-"+$("input[name=cr_issu_mean_no_phone3]").val(),c+="<input type='hidden' name='"+a+"_text1' value= '"+$("select[name=cr_issu_mean_no_phone1]").val()+"'>",c+="<input type='hidden' name='"+a+"_text2' value= '"+$("input[name=cr_issu_mean_no_phone2]").val()+"'>",c+="<input type='hidden' name='"+a+"_text3' value= '"+$("input[name=cr_issu_mean_no_phone3]").val()+"'>"):4==$("#frm_inp select[name=cr_issu_mean_sct_cd] option:selected").val()?(b+=$("input[name=cr_issu_mean_no_credit_crd1]").val()+"-"+$("input[name=cr_issu_mean_no_credit_crd2]").val()+"-"+$("input[name=cr_issu_mean_no_credit_crd3]").val()+"-"+$("input[name=cr_issu_mean_no_credit_crd4]").val(),c+="<input type='hidden' name='"+a+"_text1' value= '"+$("input[name=cr_issu_mean_no_credit_crd1]").val()+"'>",c+="<input type='hidden' name='"+a+"_text2' value= '"+$("input[name=cr_issu_mean_no_credit_crd2]").val()+"'>",c+="<input type='hidden' name='"+a+"_text3' value= '"+$("input[name=cr_issu_mean_no_credit_crd3]").val()+"'>",c+="<input type='hidden' name='"+a+"_text4' value= '"+$("input[name=cr_issu_mean_no_credit_crd4]").val()+"'>"):5==$("#frm_inp select[name=cr_issu_mean_sct_cd] option:selected").val()&&(b+=$("input[name=cr_issu_mean_no_rcpt_crd1]").val()+"-"+$("input[name=cr_issu_mean_no_rcpt_crd2]").val()+"-"+$("input[name=cr_issu_mean_no_rcpt_crd3]").val()+"-"+$("input[name=cr_issu_mean_no_rcpt_crd4]").val(),c+="<input type='hidden' name='"+a+"_text1' value= '"+$("input[name=cr_issu_mean_no_rcpt_crd1]").val()+"'>",c+="<input type='hidden' name='"+a+"_text2' value= '"+$("input[name=cr_issu_mean_no_rcpt_crd2]").val()+"'>",c+="<input type='hidden' name='"+a+"_text3' value= '"+$("input[name=cr_issu_mean_no_rcpt_crd3]").val()+"'>",c+="<input type='hidden' name='"+a+"_text4' value= '"+$("input[name=cr_issu_mean_no_rcpt_crd4]").val()+"'>"):2==$("#frm_inp select[name=rdo_cash] option:selected").val()?(b+=$("input[name=cr_issu_mean_no_bman1]").val()+"-"+$("input[name=cr_issu_mean_no_bman2]").val()+"-"+$("input[name=cr_issu_mean_no_bman3]").val(),c+="<input type='hidden' name='"+a+"_text1' value= '"+$("input[name=cr_issu_mean_no_bman1]").val()+"'",c+="<input type='hidden' name='"+a+"_text2' value= '"+$("input[name=cr_issu_mean_no_bman2]").val()+"'",c+="<input type='hidden' name='"+a+"_text3' value= '"+$("input[name=cr_issu_mean_no_bman3]").val()+"'"):b="",c+="<div class='card_name'>    <p class='title1'>무통장입금</p>	<p class='title2'>"+$("#frm_inp select[name=bankno] option:selected").text()+"</p></div><div class='s_text'>	<div class='s_box02 pay_receipt'>"+b+"</div></div>"}function phoneView(){var a="";return a="<div class='card_name'>    <p class='title1'>휴대폰결제</p></div><div class='mobile_img'>    <img src='http://image.lotte.com/lotte/mo2015/angular/order/pay_phone.gif' alt=''>    <img src='http://image.lotte.com/lotte/mo2015/angular/order/pay_phone_on.gif' alt='' class='on_img'></div>"}function naverPayView(a){var b="",c="현금영수증 ";return b+="<input type='hidden' name='"+a+"_rdo_cash' value='"+$("#frm_inp select[name=rdo_cash] option:selected").val()+"'><input type='hidden' name='"+a+"_cr_issu_mean_sct_cd' value='"+$("#frm_inp select[name=cr_issu_mean_sct_cd] option:selected").val()+"'>",1==$("#frm_inp select[name=rdo_cash] option:selected").val()?3==$("#frm_inp select[name=cr_issu_mean_sct_cd] option:selected").val()?(c+=$("select[name=cr_issu_mean_no_phone1]").val()+"-"+$("input[name=cr_issu_mean_no_phone2]").val()+"-"+$("input[name=cr_issu_mean_no_phone3]").val(),b+="<input type='hidden' name='"+a+"_text1' value= '"+$("select[name=cr_issu_mean_no_phone1]").val()+"'>",b+="<input type='hidden' name='"+a+"_text2' value= '"+$("input[name=cr_issu_mean_no_phone2]").val()+"'>",b+="<input type='hidden' name='"+a+"_text3' value= '"+$("input[name=cr_issu_mean_no_phone3]").val()+"'>"):4==$("#frm_inp select[name=cr_issu_mean_sct_cd] option:selected").val()?(c+=$("input[name=cr_issu_mean_no_credit_crd1]").val()+"-"+$("input[name=cr_issu_mean_no_credit_crd2]").val()+"-"+$("input[name=cr_issu_mean_no_credit_crd3]").val()+"-"+$("input[name=cr_issu_mean_no_credit_crd4]").val(),b+="<input type='hidden' name='"+a+"_text1' value= '"+$("input[name=cr_issu_mean_no_credit_crd1]").val()+"'>",b+="<input type='hidden' name='"+a+"_text2' value= '"+$("input[name=cr_issu_mean_no_credit_crd2]").val()+"'>",b+="<input type='hidden' name='"+a+"_text3' value= '"+$("input[name=cr_issu_mean_no_credit_crd3]").val()+"'>",b+="<input type='hidden' name='"+a+"_text4' value= '"+$("input[name=cr_issu_mean_no_credit_crd4]").val()+"'>"):5==$("#frm_inp select[name=cr_issu_mean_sct_cd] option:selected").val()&&(c+=$("input[name=cr_issu_mean_no_rcpt_crd1]").val()+"-"+$("input[name=cr_issu_mean_no_rcpt_crd2]").val()+"-"+$("input[name=cr_issu_mean_no_rcpt_crd3]").val()+"-"+$("input[name=cr_issu_mean_no_rcpt_crd4]").val(),b+="<input type='hidden' name='"+a+"_text1' value= '"+$("input[name=cr_issu_mean_no_rcpt_crd1]").val()+"'>",b+="<input type='hidden' name='"+a+"_text2' value= '"+$("input[name=cr_issu_mean_no_rcpt_crd2]").val()+"'>",b+="<input type='hidden' name='"+a+"_text3' value= '"+$("input[name=cr_issu_mean_no_rcpt_crd3]").val()+"'>",b+="<input type='hidden' name='"+a+"_text4' value= '"+$("input[name=cr_issu_mean_no_rcpt_crd4]").val()+"'>"):2==$("#frm_inp select[name=rdo_cash] option:selected").val()?(c+=$("input[name=cr_issu_mean_no_bman1]").val()+"-"+$("input[name=cr_issu_mean_no_bman2]").val()+"-"+$("input[name=cr_issu_mean_no_bman3]").val(),b+="<input type='hidden' name='"+a+"_text1' value= '"+$("input[name=cr_issu_mean_no_bman1]").val()+"'",b+="<input type='hidden' name='"+a+"_text2' value= '"+$("input[name=cr_issu_mean_no_bman2]").val()+"'",b+="<input type='hidden' name='"+a+"_text3' value= '"+$("input[name=cr_issu_mean_no_bman3]").val()+"'"):c="",b+="<div class='nPay'><p class='nPay_title'><span class='nPay_icon'>네이버페이 아이콘</span>네이버페이</p><div class='s_text'><div class='s_box02 pay_receipt'>"+c+"</div></div></div>"}function cardSaleCheck(a,b){cpncardcd=$("#frm_send input[name=cardkndcd]:hidden").val(),cpncardcd_dup=$("#frm_send input[name=cardkndcd_dup]:hidden").val();var c=$("#frm_send input[name=prommdclcd_third]").val();if(a==PAYTYPE_CODE_BANK||a==PAYTYPE_CODE_PHONE||a==PAYTYPE_CODE_NAVERPAY){if(""!=cpncardcd||""!=cpncardcd_dup)return alert("카드할인을 받으시려면 해당 카드로 결제하셔야 합니다."),!1;if("35"==c&&(a==PAYTYPE_CODE_PHONE||a==PAYTYPE_CODE_NAVERPAY))return a==PAYTYPE_CODE_PHONE&&is_init>0&&alert("일시불 할인을 받으시면 휴대폰결제를 하실수 없습니다."),a==PAYTYPE_CODE_NAVERPAY&&is_init>0&&alert("일시불 할인을 받으시면 네이버페이 결제를 하실수 없습니다."),!1}else if(a==PAYTYPE_CODE_CARD||a==PAYTYPE_CODE_LPAY){var d=$("#"+b+" input[name="+b+"_iscmcd]").val();if(""!=cpncardcd&&cpncardcd!=d||""!=cpncardcd_dup&&cpncardcd_dup!=d)return alert("카드할인을 받으시려면 해당 카드로 결제하셔야 합니다."),!1}return!0}function sel_cardinstmon(a){$("#frm_inp select[name=cardinstmon]").val($(a).val())}function paySelect(a,b){var c=$("#"+a+" input[name="+a+"_type]").val(),d=$("#"+a+" input[name="+a+"_switch]").val();if(cardSaleCheck(c,a)){if(paytype=$("#frm_inp input[name=paytype]:hidden").val(),$("#frm_inp input[name=rdo_paytype]:radio[value='"+c+"']").is(":disabled"))return void console.log("paySelect disabled return");if(c!=$("#frm_inp input[name=paytype]:hidden").val()&&$("#frm_inp input[name=rdo_paytype]:radio[value='"+c+"']").click(),c==PAYTYPE_CODE_CARD||c==PAYTYPE_CODE_LPAY){if("N"==d){c==PAYTYPE_CODE_CARD?$("#frm_inp select[name=iscmcd]").html(cardStr):c==PAYTYPE_CODE_LPAY&&$("#frm_inp select[name=iscmcd]").html(lpayCardStr);var e=$("#"+a+" input[name="+a+"_iscmcd]").val(),f=$("#"+a+" input[name="+a+"_point]").val(),g=$("#"+a+" input[name="+a+"_card_confirm_type]").val(),h=($("#frm_inp select[name="+a+"_cardinstmon] option:selected").val(),$("#frm_inp input[name=totsttlamt]:hidden").val()),i="",j="N",h=""==$("#frm_inp input[name=totsttlamt]:hidden").val()?"0":$("#frm_inp input[name=totsttlamt]:hidden").val();paycardinstmon_disabled_all(a+"_cardinstmon"),pay_switch_off(a+"_switch"),$("#frm_inp select[name=iscmcd]").val(e),$("#frm_inp select[name=cardinstmon]").attr("disabled",!1),getCardInsCheck(),$("#frm_inp select[name=cardinstmon] option").each(function(){i+="<option value='"+$(this).val()+"'>"+$(this).text()+"</option>",
"N"==j&&""!=$(this).val()&&(j="Y")}),$("#frm_inp select[name="+a+"_cardinstmon]").empty(),$("#frm_inp select[name="+a+"_cardinstmon]").append(i),"Y"==j&&"35"!=prom_third&&parseInt(h)>=5e4?($("#"+a+" input[name="+a+"_switch]").val("Y"),$("#frm_inp select[name="+a+"_cardinstmon]").attr("disabled",!1)):($("#"+a+" input[name="+a+"_switch]").val("N"),$("#frm_inp select[name="+a+"_cardinstmon]").attr("disabled",!0)),c==PAYTYPE_CODE_LPAY?$("#frm_inp input[name=lpay_type]:radio[value='"+e+"']").prop("checked",!0):c==PAYTYPE_CODE_CARD&&("Y"==f&&("026"==e?($("#bc_point").attr("checked",!0),$("#bc_point").prop("checked",!0),$("#bc_point").change()):"029"==e?($("#shinhan_point").attr("checked",!0),$("#shinhan_point").prop("checked",!0),$("#shinhan_point").change()):"031"==e?($("#samsung_point").attr("checked",!0),$("#samsung_point").prop("checked",!0),$("#samsung_point").change()):"016"==e&&($("#kb_point").attr("checked",!0),$("#kb_point").prop("checked",!0),$("#kb_point").change())),toggleAction5("#cardList_"+e),"048"==e?($("#card_confirm_label_02").text("일반/PayShot결제"),$("#card_confirm_label_03").text("앱카드")):"029"==e?($("#card_confirm_label_02").text("일반결제"),$("#card_confirm_label_03").text("FAN페이")):($("#card_confirm_label_02").text("일반결제"),$("#card_confirm_label_03").text("앱카드")),(e==paytype_card_047||e==paytype_card_048||e==paytype_card_031||e==paytype_card_029)&&(paytype!=PAYTYPE_CODE_LPAY&&$("#pay_card_confirm").show(),$("#frm_inp input[name=card_confirm_type]:radio[value='"+g+"']").prop("checked",!0)))}("Y"==card_sale_yn||"Y"==claim_sale_yn)&&fn_cardsavegoods()}else if(c==PAYTYPE_CODE_BANK){var k=$("#"+a+" input[name="+a+"_bankcd]").val(),l=$("#"+a+" input[name="+a+"_rdo_cash]").val(),m=$("#"+a+" input[name="+a+"_cr_issu_mean_sct_cd]").val(),n=$("#"+a+" input[name="+a+"_text1]").val(),o=$("#"+a+" input[name="+a+"_text2]").val(),p=$("#"+a+" input[name="+a+"_text3]").val(),q=$("#"+a+" input[name="+a+"_text4]").val();$("#frm_inp select[name=bankno]").val(k),$("#frm_inp select[name=rdo_cash]").val(l),1==l?($("#frm_inp select[name=cr_issu_mean_sct_cd]").val(m),3==m?($("#frm_inp select[name=cr_issu_mean_no_phone1]").val(n),$("#frm_inp input[name=cr_issu_mean_no_phone2]").val(o),$("#frm_inp input[name=cr_issu_mean_no_phone3]").val(p)):4==m?($("#frm_inp input[name=cr_issu_mean_no_credit_crd1]").val(n),$("#frm_inp input[name=cr_issu_mean_no_credit_crd1]").val(o),$("#frm_inp input[name=cr_issu_mean_no_credit_crd1]").val(p),$("#frm_inp input[name=cr_issu_mean_no_credit_crd1]").val(q)):5==m&&($("#frm_inp input[name=cr_issu_mean_no_rcpt_crd1]").val(n),$("#frm_inp input[name=cr_issu_mean_no_rcpt_crd2]").val(n),$("#frm_inp input[name=cr_issu_mean_no_rcpt_crd3]").val(n),$("#frm_inp input[name=cr_issu_mean_no_rcpt_crd4]").val(n))):2==l&&($("#frm_inp input[name=cr_issu_mean_no_bman1]").val(n),$("#frm_inp input[name=cr_issu_mean_no_bman2]").val(n),$("#frm_inp input[name=cr_issu_mean_no_bman3]").val(n))}else if(c==PAYTYPE_CODE_PHONE);else if(c==PAYTYPE_CODE_NAVERPAY){var l=$("#"+a+" input[name="+a+"_rdo_cash]").val(),m=$("#"+a+" input[name="+a+"_cr_issu_mean_sct_cd]").val(),n=$("#"+a+" input[name="+a+"_text1]").val(),o=$("#"+a+" input[name="+a+"_text2]").val(),p=$("#"+a+" input[name="+a+"_text3]").val(),q=$("#"+a+" input[name="+a+"_text4]").val();1==l?($("#frm_inp select[name=cr_issu_mean_sct_cd]").val(m),3==m?($("#frm_inp select[name=cr_issu_mean_no_phone1]").val(n),$("#frm_inp input[name=cr_issu_mean_no_phone2]").val(o),$("#frm_inp input[name=cr_issu_mean_no_phone3]").val(p)):4==m?($("#frm_inp input[name=cr_issu_mean_no_credit_crd1]").val(n),$("#frm_inp input[name=cr_issu_mean_no_credit_crd1]").val(o),$("#frm_inp input[name=cr_issu_mean_no_credit_crd1]").val(p),$("#frm_inp input[name=cr_issu_mean_no_credit_crd1]").val(q)):5==m&&($("#frm_inp input[name=cr_issu_mean_no_rcpt_crd1]").val(n),$("#frm_inp input[name=cr_issu_mean_no_rcpt_crd2]").val(n),$("#frm_inp input[name=cr_issu_mean_no_rcpt_crd3]").val(n),$("#frm_inp input[name=cr_issu_mean_no_rcpt_crd4]").val(n))):2==l&&($("#frm_inp input[name=cr_issu_mean_no_bman1]").val(n),$("#frm_inp input[name=cr_issu_mean_no_bman2]").val(n),$("#frm_inp input[name=cr_issu_mean_no_bman3]").val(n))}if(selPayMean(a),payScrollView(b),0==b&&(b=pay_index),sendTclick("Sporder_clk_Ban_idx"+b),c==PAYTYPE_CODE_LPAY&&(console.log("> : "+$(".lpay.check.on.crucial").length),$(".lpay.check.on.crucial").length>0)){var r="";if($("#lpay_paymean .lpay.check.on.crucial").length>0?r=$("#lpay_paymean .lpay.check.on.crucial").attr("id").replace("lpay_paymean_",""):$("#general_paymean.lpay.check.on.crucial").length>0&&(r=$("input[id^=rdo_lpay_idx]:radio:checked").data("card-id")),""!=r){var s=$("select[name=iscmcd] option[data-card-id='"+r+"']").data("card-div");void 0!=s&&"CC"!=s&&($("#frm_inp select[name="+a+"_cardinstmon] option:eq(0)").prop("selected",!0),$("#frm_inp select[name="+a+"_cardinstmon]").prop("disabled",!0))}}}}function payScrollView(a){0==a&&(a=pay_index);var b=$(window).width(),c=b/2,d=189,e=d/2,f=c-e,g=d*(a-1)+8,h=g-f;$(".slide").scrollLeft(h)}function init_payMean(){var a="",b=$("#frm_inp input[name=op_pay_mean_hist_pay_mean_cd]").val(),c="";if(b==PAYTYPE_CODE_CARD&&"Y"==creditPsbYn){if(""!=hist_cardNm&&"Y"==creditPsbYn){var d="",e="";$("#frm_inp select[name=cardinstmon] option").each(function(){d+="<option value='"+$(this).val()+"'>"+$(this).text()+"</option>"}),e=$("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()==paytype_card_047?"01"==$("#frm_inp input[name=lotte_hist_card_pay_meth_cd]").val()?"인터넷결제(간편)":"02"==$("#frm_inp input[name=lotte_hist_card_pay_meth_cd]").val()?"인터넷결제(일반)":"03"==$("#frm_inp input[name=lotte_hist_card_pay_meth_cd]").val()?"앱카드":"04"==$("#frm_inp input[name=lotte_hist_card_pay_meth_cd]").val()?"페이서비스":"모바일결제":"01"==$("#frm_inp input[name=op_pay_mean_hist_card_pay_meth_cd]").val()?"스마트페이":"02"==$("#frm_inp input[name=op_pay_mean_hist_card_pay_meth_cd]").val()?"일반결제":"앱카드",a+="<input type='hidden' name='hist_paymean_point' value='N'>",a+="<input type='hidden' name='hist_paymean_switch' value='N'>",a+="<input type='hidden' name='hist_paymean_card_confirm_type' value='"+$("#frm_inp input[name=op_pay_mean_hist_card_pay_meth_cd]").val()+"'>",a+="<input type='hidden' name='hist_paymean_iscmcd' value='"+$("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()+"'>",a+="	<div class='card_name'>		<p class='title1'>"+hist_cardNm+"</p>		<p class='title2'>"+e+"</p>	</div>	<div class='s_text'>		<span class='s_box02'>			<select name='hist_paymean_cardinstmon' class='del_msg' data-idx='1' style='width:100%'  onChange='sel_cardinstmon(this);'> "+d+" </select>			<span class='img_box'> <i></i> </span>			<span class='evt_clip' onClick='paySelect(\"hist_paymean\",1);' id='hist_paymean_evt'></span>		</span>	</div>"}}else b==PAYTYPE_CODE_BANK&&"Y"==bankPsbYn?"Y"==bankPsbYn&&($("#frm_inp select[name=bankno] option").each(function(){return $("#frm_inp input[name=op_pay_mean_hist_bnk_cd]").val()==$(this).val()?(c=$(this).text(),!1):void 0}),a+="<input type='hidden' name='hist_paymean_bankcd' value='"+$("#frm_inp input[name=op_pay_mean_hist_bnk_cd]").val()+"'><input type='hidden' name='hist_paymean_rdo_cash' value='1'><input type='hidden' name='hist_paymean_cr_issu_mean_sct_cd' value='3'><input type='hidden' name='hist_paymean_text1' value= '"+phone_no1+"'><input type='hidden' name='hist_paymean_text2' value= '"+phone_no2+"'><input type='hidden' name='hist_paymean_text3' value= '"+phone_no3+"'><div class='card_name'>    <p class='title1'>무통장입금</p>	<p class='title2'>"+c+"</p></div><div class='s_text'>	<div class='s_box02 pay_receipt'>현금영수증 "+phone_no1+"-"+phone_no2+"-"+phone_no3+"</div></div>"):b==PAYTYPE_CODE_PHONE&&"Y"==sttlPsblPhone?"Y"==sttlPsblPhone&&(a="<div class='card_name'>    <p class='title1'>휴대폰결제</p></div><div class='mobile_img'>    <img src='http://image.lotte.com/lotte/mo2015/angular/order/pay_phone.gif' alt=''>    <img src='http://image.lotte.com/lotte/mo2015/angular/order/pay_phone_on.gif' alt='' class='on_img'></div>",$("#hist_paymean").addClass("phone")):b==PAYTYPE_CODE_NAVERPAY&&"Y"==naverPayPsbYn&&(a+="<input type='hidden' name='hist_paymean_bankcd' value='"+$("#frm_inp input[name=op_pay_mean_hist_bnk_cd]").val()+"'><input type='hidden' name='hist_paymean_rdo_cash' value='1'><input type='hidden' name='hist_paymean_cr_issu_mean_sct_cd' value='3'><input type='hidden' name='hist_paymean_text1' value= '"+phone_no1+"'><input type='hidden' name='hist_paymean_text2' value= '"+phone_no2+"'><input type='hidden' name='hist_paymean_text3' value= '"+phone_no3+"'><div class='nPay'>    <p class='nPay_title'><span class='nPay_icon'>네이버페이 아이콘</span>네이버페이</p></div><div class='s_text'>	<div class='s_box02 pay_receipt'>현금영수증 "+phone_no1+"-"+phone_no2+"-"+phone_no3+"</div></div>");b!=PAYTYPE_CODE_LPAY&&""!=a&&(a+="<input type='hidden' name='hist_paymean_type' value='"+b+"'>",a+="<input type='hidden' name='hist_paymean_index' value='1'>",$("#hist_paymean").html(a),$("#hist_paymean").show(),firsObjName="hist_paymean",pay_index+=1),"Y"==lpayPsbYn&&($("select[name=iscmcd]").html(""),lpayCertInfo()),"Y"!=creditPsbYn&&$("#pay_card").hide(),createCardPaymean()}function cardOverlapCheck(a,b){console.log("cardOverlapCheck"),console.log("cardCd : "+a);var c="N";return $("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()==a&&(console.log("dup op_pay_mean_hist_acqr_cd"),c="Y"),$("#frm_inp input[name=lpay_type][value="+a+"]:radio").length>0&&(console.log("dup lpay_type"),c="Y"),"2"==b&&$("#frm_inp input[name=card_clm_nm][value="+a+"]:hidden").length>0&&(console.log("dup card_clm_nm"),c="Y"),$("#credit_card_list li[card-id="+a+"]").length<1&&(console.log("dup credit_card_list"),c="Y"),c}function createLpayMean(){pay_index="none"==$("#hist_paymean").css("display")?1:2;var a="",b="",c="";return $("#frm_inp select[name=cardinstmon] option").each(function(){b+="<option value='"+$(this).val()+"' >"+$(this).text()+"</option>"}),$("#frm_inp select[name=iscmcd] option").each(function(){""!=$(this).val()&&""==c&&$("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()==$(this).val()&&$("#frm_inp input[name=op_pay_mean_hist_pay_mean_cd]").val()==PAYTYPE_CODE_LPAY&&(a+="<li id='lpay_paymean_"+$(this).attr("data-card-id")+"' onClick='paySelect(\"lpay_paymean_"+$(this).attr("data-card-id")+"\",1);' class='lpay'><input type='hidden' name='lpay_paymean_"+$(this).attr("data-card-id")+"_iscmcd' value='"+$(this).val()+"'><input type='hidden' name='lpay_paymean_"+$(this).attr("data-card-id")+"_switch' value='N'><div class='l_pay_logo'>	<img src='http://image.lotte.com/lotte/mo2015/angular/order/pay_lpay_2.png' alt=''>	<img src='http://image.lotte.com/lotte/mo2015/angular/order/pay_lpay_on_2.png' alt='' class='on_img'></div><div class='card_name'>	<p class='title1'>"+$(this).attr("data-card-nm")+"</p>   <p class='title2'>"+$(this).text()+"</p></div><div class='s_text'>	<span class='s_box02'>		<select name='lpay_paymean_"+$(this).attr("data-card-id")+"_cardinstmon' class='del_msg' data-idx='1' style='width:100%' onChange='sel_cardinstmon(this);'>"+b+"       </select>		<span class='img_box'> <i></i> </span>		<span class='evt_clip' onClick='paySelect(\"lpay_paymean_"+$(this).attr("data-card-id")+"\",1);' id='lpay_paymean_"+$(this).attr("data-card-id")+"_evt'></span>	</span></div><input type='hidden' name='lpay_paymean_"+$(this).attr("data-card-id")+"_type' value='40'><input type='hidden' name='lpay_paymean_"+$(this).attr("data-card-id")+"_index' value='1'></li>",c=$(this).attr("data-card-id"),firsObjName="lpay_paymean_"+$(this).attr("data-card-id"),pay_index+=1)}),$("#frm_inp select[name=iscmcd] option").each(function(){""!=$(this).val()&&($("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()!=$(this).val()||c!=$(this).attr("data-card-id"))&&(a+="<li id='lpay_paymean_"+$(this).attr("data-card-id")+"' onClick='paySelect(\"lpay_paymean_"+$(this).attr("data-card-id")+'",'+pay_index+");' class='lpay'><input type='hidden' name='lpay_paymean_"+$(this).attr("data-card-id")+"_iscmcd' value='"+$(this).val()+"'><input type='hidden' name='lpay_paymean_"+$(this).attr("data-card-id")+"_switch' value='N'><div class='l_pay_logo'>	<img src='http://image.lotte.com/lotte/mo2015/angular/order/pay_lpay_2.png' alt=''>	<img src='http://image.lotte.com/lotte/mo2015/angular/order/pay_lpay_on_2.png' alt='' class='on_img'></div><div class='card_name'>	<p class='title1'>"+$(this).attr("data-card-nm")+"</p>   <p class='title2'>"+$(this).text()+"</p></div><div class='s_text'>	<span class='s_box02'>		<select name='lpay_paymean_"+$(this).attr("data-card-id")+"_cardinstmon' class='del_msg' data-idx='1' style='width:100%' onChange='sel_cardinstmon(this);'>"+b+"       </select>		<span class='img_box'> <i></i> </span>		<span class='evt_clip' onClick='paySelect(\"lpay_paymean_"+$(this).attr("data-card-id")+'",'+pay_index+");' id='lpay_paymean_"+$(this).attr("data-card-id")+"_evt'></span>	</span></div><input type='hidden' name='lpay_paymean_"+$(this).attr("data-card-id")+"_type' value='40'><input type='hidden' name='lpay_paymean_"+$(this).attr("data-card-id")+"_index' value='"+pay_index+"'></li>",pay_index+=1)}),a}function createCardPaymean(){pay_index=("none"==$("#hist_paymean").css("display")?1:2)+$("#lpay_paymean li").length,$("#card_paymean").html("");var a="",b="";$("#frm_inp select[name=cardinstmon] option").each(function(){b+="<option value='"+$(this).val()+"' >"+$(this).text()+"</option>"}),$("#add_easy_lpay").length>0&&(pay_index+=1),$("#frm_inp input[name=card_clm_nm]").each(function(){"N"==cardOverlapCheck($(this).val(),"1")&&(a+="<li id='card_paymean_"+$(this).val()+"' onClick='paySelect(\"card_paymean_"+$(this).val()+'",'+pay_index+");'>    <input type='hidden' name='card_paymean_"+$(this).val()+"_point' value='N'>	   <input type='hidden' name='card_paymean_"+$(this).val()+"_switch' value='N'>    <input type='hidden' name='card_paymean_"+$(this).val()+"_card_confirm_type' value='02'>    <input type='hidden' name='card_paymean_"+$(this).val()+"_iscmcd' value='"+$(this).val()+"'>    <div class='card_name'>	       <p class='title1'>"+getCardNm($(this).val())+"카드</p>		   <p class='title2'>일반결제</p>	   </div>    <div class='s_text'>        <span class='s_box02'>   	       <select name='card_paymean_"+$(this).val()+"_cardinstmon' class='del_msg' data-idx='1' style='width:100%' onChange='sel_cardinstmon(this);'>"+b+"       	   </select>	           <span class='img_box'> <i></i> </span>	           <span class='evt_clip' onClick='paySelect(\"card_paymean_"+$(this).val()+'",'+pay_index+");' id='card_paymean_"+$(this).val()+"_evt'></span>	       </span>    </div>    <input type='hidden' name='card_paymean_"+$(this).val()+"_type' value='16'>    <input type='hidden' name='card_paymean_"+$(this).val()+"_index' value='"+pay_index+"'></li>",pay_index+=1)});var c=$("#frm_inp input[name=evtcardminprc]").val(),d=$("#frm_inp input[name=evtcrcmcd]").val(),e=$("#frm_send input[name=saleprc]").val(),f="";f="007"==d?"029":"020"==d?"008":"027"==d?"048":"037"==d?"047":d,parseInt(e)>parseInt(c)&&""!=f&&"N"==cardOverlapCheck(f,"2")&&(a+="<li id='card_paymean_"+f+"' onClick='paySelect(\"card_paymean_"+f+'",'+pay_index+");'>    <input type='hidden' name='card_paymean_"+f+"_point' value='N'>	   <input type='hidden' name='card_paymean_"+f+"_switch' value='N'>    <input type='hidden' name='card_paymean_card_confirm_"+f+"_type' value='02'>    <input type='hidden' name='card_paymean_"+f+"_iscmcd' value='"+f+"'>    <div class='card_name'>	       <p class='title1'>"+getCardNm(f)+"카드</p>		   <p class='title2'>일반결제</p>	   </div>    <div class='s_text'>        <span class='s_box02'>   	       <select name='card_paymean_"+f+"_cardinstmon' class='del_msg' data-idx='1' style='width:100%' onChange='sel_cardinstmon(this);'>"+b+"       	   </select>	           <span class='img_box'> <i></i> </span>	           <span class='evt_clip' onClick='paySelect(\"card_paymean_"+f+'",'+pay_index+");' id='card_paymean_"+f+"_evt'></span>	       </span>    </div>    <input type='hidden' name='card_paymean_"+f+"_type' value='16'>    <input type='hidden' name='card_paymean_"+f+"_index' value='"+pay_index+"'></li>",pay_index+=1),""!=a&&"Y"==creditPsbYn&&($("#card_paymean").html(a),$("#card_paymean").show())}function selPayMean(a){var b=0;b="general_paymean"==a?pay_index:$("#frm_inp input[name="+a+"_index]:hidden").val(),payScrollView(b),removeClassPayMean(),$("#"+a).addClass("check"),$("#"+a).addClass("on"),$("#"+a).addClass("crucial"),console.log("selPayMean :"+a),payBlockEvent(a)}function removeClassPayMean(){$("#hist_paymean").removeClass("check"),$("#general_paymean").removeClass("check"),$("#lpay_paymean li").removeClass("check"),$("#card_paymean li").removeClass("check"),$("#hist_paymean").removeClass("on"),$("#general_paymean").removeClass("on"),$("#lpay_paymean li").removeClass("on"),$("#card_paymean li").removeClass("on"),$("#hist_paymean").removeClass("crucial"),$("#general_paymean").removeClass("crucial"),$("#lpay_paymean li").removeClass("crucial"),$("#card_paymean li").removeClass("crucial")}function goNormal(a,b){confirm("일반 주문결제는 기존에 이용하시던 주문서입니다.\n이동하시겠습니까?")&&(window.location="/order/m/order_form.do?cartSn="+a+"&smartOrd=N&imallYN="+b+"&normal_yn=Y&"+__commonParam+"&tclick=m_DC_Sporder_clk_Btn1")}function goMessageDelivery(a,b,c){var d="",e="";1==a?(d="매장전달메시지",e="m_DC_Sporder_clk_Btn2"):2==a?(d="선물포장메시지",e="m_DC_Sporder_clk_Btn3"):3==a&&(d="종이카드메시지",e="m_DC_Sporder_clk_Btn4"),confirm(d+"를 설정하기 위해 일반주문서로 이동합니다.")&&(window.location="/order/m/order_form.do?cartSn="+b+"&smartOrd=N&imallYN="+c+"&normal_yn=Y&"+__commonParam+"&tclick="+e)}function payShortCut(a,b){a==PAYTYPE_CODE_CARD&&($("#frm_inp input[name=hist_paymean_iscmcd]:hidden").val()==b?($("#frm_inp input[name=card_confirm_type]:radio[value='"+$("#frm_inp input[name=hist_paymean_card_confirm_type]:hidden").val()+"']").prop("checked",!0),selPayMean("hist_paymean")):$("#frm_inp input[name=card_paymean_"+b+"_iscmcd]:hidden").val()==b?(selPayMean("card_paymean_"+b),$("#frm_inp input[name=card_confirm_type]:radio[value='02']").prop("checked",!0),$("#frm_inp input[name=card_confirm_type]:radio[value='"+$("#frm_inp input[name=card_paymean_"+b+"_card_confirm_type]:hidden").val()+"']").prop("checked",!0)):$("#frm_inp input[name=general_paymean_iscmcd]:hidden").val()==cardkndcd?($("#frm_inp input[name=card_confirm_type]:radio[value='"+$("#frm_inp input[name=general_paymean_card_confirm_type]:hidden").val()+"']").prop("checked",!0),selPayMean("general_paymean")):setAnother("N"))}function searchOrdDeliveryListPop(a,b){var c='<iframe id="deliIframe" src="" style="width:100%;height:100%;border:0"></iframe>',d=$("input[name=indlvpsn]").val(),e="/popup/ord_search_delivery_list.do?deli_cnt="+a+"&selectedDlvpSn="+d+"&single="+b;$(".lpoint_btn3").hide(),$("#ordSearchDeliPop").show(),$("#ordSearchDeliPop").html(c),$("#ordSearchDeliPop").find("iframe").attr("src",e),scrollYN("N","DELI"),sendTclick("Sporder_clk_Pop1")}function searchOrdDeliveryListClose(){$(".lpoint_btn3").show(),$("#ordSearchDeliPop").hide(),$("#ordSearchDeliPop").find("iframe").remove(),scrollYN("Y","DELI")}function getCardNm(a){var b="";return paytype_card_002==a?b="광주":"007"==a?b="신한":paytype_card_008==a?b="외환":paytype_card_016==a?b="KB국민":paytype_card_018==a?b="NH":paytype_card_020==a?b="하나SK":paytype_card_021==a?b="우리":paytype_card_026==a?b="비씨":"027"==a?b="현대":"028"==a?b="JCB":paytype_card_029==a?b="신한":paytype_card_031==a?b="삼성":"037"==a?b="롯데":paytype_card_036==a?b="씨티":paytype_card_047==a?b="롯데":paytype_card_048==a?b="현대":paytype_card_054==a?b="우체국체크":"055"==a&&(b="우리은행엘페이"),b}function paycardinstmon(a){var b=$("#frm_send input[name=prommdclcd_third]").val(),c=""==$("#frm_inp input[name=totsttlamt]:hidden").val()?"0":$("#frm_inp input[name=totsttlamt]:hidden").val();"35"==b||parseInt(c)<5e4?(""!=$("#frm_inp input[name=hist_paymean_iscmcd]:hidden").val()&&($("#frm_inp select[name=hist_paymean_cardinstmon]").empty(),$("#frm_inp select[name=hist_paymean_cardinstmon]").append("<option value=''>일시불</option>")),$("#lpay_paymean select").each(function(){$(this).empty(),$(this).append("<option value=''>일시불</option>")}),$("#card_paymean select").each(function(){$(this).empty(),$(this).append("<option value=''>일시불</option>")}),""!=$("#frm_inp input[name=general_paymean_iscmcd]:hidden").val()&&($("#frm_inp select[name=general_paymean_cardinstmon]").empty(),$("#frm_inp select[name=general_paymean_cardinstmon]").append("<option value=''>일시불</option>")),paycardinstmon_disabled_all("all"),pay_switch_off("all"),payBlockEvent(""),$("#frm_inp select[name=cardinstmon]").empty(),$("#frm_inp select[name=cardinstmon]").append("<option value=''>일시불</option>"),$("#frm_inp select[name=cardinstmon]").attr("disabled",!0)):($(".slide_ul .check").each(function(){pay_id=$(this).attr("id")}),""!=pay_id&&void 0!=pay_id?(""!=$("#frm_inp select[name=iscmcd]").val()&&""==$("#frm_inp select[name=cardinstmon]").val()&&(getCardInsCheck(),selCardinstmon(pay_id)),paycardinstmon_disabled_all(pay_id+"_cardinstmon"),pay_switch_off(pay_id+"_switch"),payBlockEvent(pay_id)):(paycardinstmon_disabled_all("all"),pay_switch_off("all"),payBlockEvent("")))}function selCardinstmon(a){var b="";$("#frm_inp select[name=cardinstmon] option").each(function(){b+="<option value='"+$(this).val()+"'>"+$(this).text()+"</option>"}),$("#frm_inp select[name="+a+"_cardinstmon]").empty(),$("#frm_inp select[name="+a+"_cardinstmon]").append(b)}function paycardinstmon_disabled_all(a){"all"==a?($("#frm_inp select[name=hist_paymean_cardinstmon]").attr("disabled",!0),$("#frm_inp select[name=general_paymean_cardinstmon]").attr("disabled",!0),$("#lpay_paymean select").each(function(){$(this).attr("disabled",!0)}),$("#card_paymean select").each(function(){$(this).attr("disabled",!0)})):("hist_paymean_cardinstmon"!=a?$("#frm_inp select[name=hist_paymean_cardinstmon]").attr("disabled",!0):$("#frm_inp select[name=hist_paymean_cardinstmon]").attr("disabled",!1),"general_paymean_cardinstmon"!=a?$("#frm_inp select[name=general_paymean_cardinstmon]").attr("disabled",!0):$("#frm_inp select[name=general_paymean_cardinstmon]").attr("disabled",!1),$("#lpay_paymean li").each(function(){a!=$(this).attr("id")+"_cardinstmon"?$("#frm_inp select[name="+$(this).attr("id")+"_cardinstmon]").attr("disabled",!0):$("#frm_inp select[name="+$(this).attr("id")+"_cardinstmon]").attr("disabled",!1)}),$("#card_paymean li").each(function(){a!=$(this).attr("id")+"_cardinstmon"?$("#frm_inp select[name="+$(this).attr("id")+"_cardinstmon]").attr("disabled",!0):$("#frm_inp select[name="+$(this).attr("id")+"_cardinstmon]").attr("disabled",!1)}))}function pay_switch_off(a){"all"==a?($("#frm_inp input[name=hist_paymean_switch]").val("N"),$("#frm_inp input[name=general_paymean_switch]").val("N"),$("#lpay_paymean li").each(function(){$("#frm_inp input[name="+$(this).attr("id")+"_switch]").val("N")}),$("#card_paymean li").each(function(){$("#frm_inp input[name="+$(this).attr("id")+"_switch]").val("N")})):("hist_paymean_switch"!=a?$("#frm_inp input[name=hist_paymean_switch]").val("N"):$("#frm_inp input[name=hist_paymean_switch]").val("Y"),"general_paymean_switch"!=a?$("#frm_inp input[name=general_paymean_switch]").val("N"):$("#frm_inp input[name=general_paymean_switch]").val("Y"),$("#lpay_paymean li").each(function(){a!=$(this).attr("id")+"_switch"?$("#frm_inp input[name="+$(this).attr("id")+"_switch]").val("N"):$("#frm_inp input[name="+$(this).attr("id")+"_switch]").val("Y")}),$("#card_paymean li").each(function(){a!=$(this).attr("id")+"_switch"?$("#frm_inp input[name="+$(this).attr("id")+"_switch]").val("N"):$("#frm_inp input[name="+$(this).attr("id")+"_switch]").val("Y")}))}function payBlockEvent(a){$("#hist_paymean_evt").addClass("on"),$("#general_paymean_evt").addClass("on"),$("#lpay_paymean li").each(function(){a!=$(this).attr("id")+"_switch"&&$("#"+$(this).attr("id")+"_evt").addClass("on")}),$("#card_paymean li").each(function(){a!=$(this).attr("id")+"_switch"&&$("#"+$(this).attr("id")+"_evt").addClass("on")}),""!=a&&$("#"+a+"_evt").removeClass("on")}function viewEvtCard(){var a=$("#frm_inp input[name=evtcardminprc]").val(),b=getCardNm($("#frm_inp input[name=evtcrcmcd]").val()),c=$("#frm_send input[name=saleprc]").val();parseInt(c)>parseInt(a)&&""!=b?($("#eventcard_cont").html("구매사은 적립(신청필수):"+b+" "+String(a).money()+"원 이상 결제 시"),$("#eventcard_cont").show()):$("#eventcard_cont").hide()}function bankCheck(){var a=$("#frm_inp select[name=cr_issu_mean_sct_cd]").val(),b=$("#frm_inp select[name=rdo_cash]").val(),c="",d="",e=0,f="",g=!0,h="";if("1"==b){$("#frm_send input[name=cr_issu_mean_sct_cd]:hidden").val(a),$("#frm_send input[name=cr_use_sct_cd]:hidden").val("0");if("1"==a&&(a="2"),"3"==a&&(d=$("#frm_inp select[name=cr_issu_mean_no_phone1]").val()),""==$("#frm_inp select[name=bankno]").val())return alert("입금 은행을 선택해주세요."),!1;if(""==$("#frm_inp input[name=onlineacctname]").val())return alert("입금자이름을 입력해주세요."),$("#frm_inp input[name=onlineacctname]").focus(),!1;$("#cash_receipts0"+a+" input").each(function(){return e=$(this).attr("maxlength"),f=$(this).attr("title"),c=$(this).val(),tmp_str=" 이상",h=$(this).attr("disabled"),"disabled"!=h&&("cr_issu_mean_no_credit_crd4"==$(this).attr("name")?e=3:"cr_issu_mean_no_rcpt_crd4"==$(this).attr("name")?e=1:"cr_issu_mean_no_phone2"==$(this).attr("name")?e=3:tmp_str="로",c.length<e)?(alert(f+"를 "+e+"자리"+tmp_str+" 입력해 주세요."),g=!1,!1):void 0})}else if("2"==b){$("#co_value input").each(function(){if(e=$(this).attr("maxlength"),e>1){if(f=$(this).attr("title"),c=$(this).val(),c.length<e)return alert(f+"를 "+e+"자리로 입력해 주세요."),$(this).focus(),g=!1,!1;d+=c}}),num1=d.charAt(0),num2=d.charAt(1),num3=d.charAt(2),num4=d.charAt(3),num5=d.charAt(4),num6=d.charAt(5),num7=d.charAt(6),num8=d.charAt(7),num9=d.charAt(8),num10=d.charAt(9);var i=1*num1+3*num2+7*num3+1*num4+3*num5+7*num6+1*num7+3*num8+5*num9;i+=parseInt(5*num9/10);var j=i%10;if(0==j)var k=0;else var k=10-j;if(k!=num10)return alert("사업자등록번호가 올바르지 않습니다."),$("#frm_inp input[name=cr_issu_mean_no_bman1]").focus(),g=!1,!1}return g}function lpayListCheck(){var a="N";$("#frm_inp input[name=lpay_type]:radio").each(function(){a="Y"}),"Y"==a?($("#pay_card").show(),$(".box_Lpay_agree_check").show(),$(".box_Lpay_agree_check div a").hide(),$("#lpay_list").show(),$("#card_select").show()):"block"==$(".box_Lpay_agree_check .txt01").css("display")?($("#pay_card").hide(),$("#card_select").hide(),$(".box_Lpay_agree_check").show(),$(".box_Lpay_agree_check div a").show()):($("#pay_card").hide(),$("#card_select").hide(),$("#no_lpay_card").show(),$(".box_Lpay_agree_check").show(),$(".box_Lpay_agree_check div a").hide())}function naverPayCheck(){var a=!0,b=$("#frm_inp select[name=rdo_cash]").val(),c=$("#frm_inp select[name=cr_issu_mean_sct_cd]").val();if("1"==b)$("#frm_send input[name=cr_issu_mean_sct_cd]:hidden").val(c),$("#frm_send input[name=cr_use_sct_cd]:hidden").val("0"),$("#cash_receipts0"+c+" input").each(function(){return max_length=$(this).attr("maxlength"),title=$(this).attr("title"),tmp_val=$(this).val(),tmp_str=" 이상",disabled=$(this).attr("disabled"),"disabled"!=disabled&&("cr_issu_mean_no_credit_crd4"==$(this).attr("name")?max_length=3:"cr_issu_mean_no_rcpt_crd4"==$(this).attr("name")?max_length=1:"cr_issu_mean_no_phone2"==$(this).attr("name")?max_length=3:tmp_str="로",tmp_val.length<max_length)?(alert(title+"를 "+max_length+"자리"+tmp_str+" 입력해 주세요."),a=!1,!1):void 0});else if("2"==b){$("#co_value input").each(function(){if(max_length=$(this).attr("maxlength"),max_length>1){if(title=$(this).attr("title"),tmp_val=$(this).val(),tmp_val.length<max_length)return alert(title+"를 "+max_length+"자리로 입력해 주세요."),$(this).focus(),a=!1,!1;cash_val+=tmp_val}}),num1=cash_val.charAt(0),num2=cash_val.charAt(1),num3=cash_val.charAt(2),num4=cash_val.charAt(3),num5=cash_val.charAt(4),num6=cash_val.charAt(5),num7=cash_val.charAt(6),num8=cash_val.charAt(7),num9=cash_val.charAt(8),num10=cash_val.charAt(9);var d=1*num1+3*num2+7*num3+1*num4+3*num5+7*num6+1*num7+3*num8+5*num9;d+=parseInt(5*num9/10);var e=d%10;if(0==e)var f=0;else var f=10-e;if(f!=num10)return alert("사업자등록번호가 올바르지 않습니다."),$("#frm_inp input[name=cr_issu_mean_no_bman1]").focus(),a=!1,!1}return a}function scrollYN(a,b){"N"==a?($("html, body").css({overflow:"hidden"}),"DELI"==b&&$("body").on("scroll touchmove mousewheel",function(a){return a.preventDefault(),a.stopPropagation(),!1}),"Safari"!=browserChk()&&history.pushState("history1","")):($("html, body").css({overflow:"visible"}),"DELI"==b&&$("body").off("scroll touchmove mousewheel"),"Safari"!=browserChk()&&null!=history.state&&history.back())}function cardSelect(){var a=$("#frm_inp select[name=iscmcd]").val();$("#frm_inp div[name=point_card_layer]").attr("style","display:none"),$("#frm_inp input[name=sinhan_point]:radio[value='N']").attr("checked",!0),$("#frm_inp input[name=bc_point]:radio[value='N']").attr("checked",!0),$("#frm_send input[name=pnt_use_yn]:hidden").val("N"),"026"==a?$("#BC_CARD_LAYER").attr("style","display:"):"029"==a?$("#SHINHAN_CARD_LAYER").attr("style","display:"):"031"==a?$("#SAMSUNG_CARD_LAYER").attr("style","display:"):"016"==a&&$("#KB_CARD_LAYER").attr("style","display:"),"048"==a?($("#card_confirm_label_02").text("일반/PayShot결제"),$("#card_confirm_label_03").text("앱카드")):"029"==a?($("#card_confirm_label_02").text("일반결제"),$("#card_confirm_label_03").text("FAN페이")):($("#card_confirm_label_02").text("일반결제"),$("#card_confirm_label_03").text("앱카드"))}function cardSaleView(){var a="",b="Y";$("#frm_inp input[name=card_clm_nm]").each(function(){"N"==b&&(a+=", "),a+=getCardNm($(this).val())+"카드",b="N"}),""!=a&&($("#eventcardsale_cont").html("청구할인 행사 카드 : "+a),$("#eventcardsale_cont").show())}function fn_cardsavegoods(){for(var a=$("#frm_send input[name=goodsno]:hidden").val();a.indexOf(split_gubun_1)>-1;)a=a.replace(split_gubun_1,",");var b=a,c=$("#frm_inp select[name=iscmcd]").val(),d=$("#frm_inp input[name=totsttlamt]:hidden").val();$.ajax({async:!1,type:"POST",dataType:"json",url:"/order/searchCardSalePromView2.do",data:{goods_no_list:b,card_knd_cd:c,tot_sttl_amt:d},success:function(a){a.success&&(claim_sale_aply_lmt_amt=a.aplylmtamt,claim_sale_card_knd_cd=a.cardkndcd,claim_sale_fvr_val=a.fvrval,claim_sale_card_max_amt=a.maxfvrval,$("#frm_inp input[name=claim_sale_fvr_val]:hidden").val(a.fvrval),$("#frm_inp input[name=claim_sale_aply_lmt_amt]:hidden").val(a.aplylmtamt),$("#frm_inp input[name=claim_sale_card_max_amt]:hidden").val(a.maxfvrval),$("#frm_inp input[name=claim_sale_card_knd_cd]:hidden").val(a.cardkndcd))},error:function(a,b){}}),fn_formshow()}function fn_formshow(){var a=$("#frm_inp input[name=totsttlamt]:hidden").val(),b=($("#frm_inp input[name=paytype]:hidden").val(),$("#frm_inp input[name=card_save_cnt]:hidden").val(),$("#frm_inp select[name=iscmcd]").val(),$("#frm_inp input[name=claim_sale_fvr_val]:hidden").val()),c=$("#frm_inp input[name=claim_sale_card_max_amt]:hidden").val();$("#frm_inp input[name=select_card_payment_yn]:hidden").val("N"),$("#btn_goods_view").attr("style","display:none;"),$("#li_claim_sale_info2").html(""),$("#eventcardsaleamt_cont").hide(),"Y"==claim_sale_yn?$("#frm_inp select[name=iscmcd]").val()==claim_sale_card_knd_cd&&"카드선택"!=$("#frm_inp select[name=iscmcd] option:selected").text()&&parseInt(a)>=parseInt(claim_sale_aply_lmt_amt)&&parseInt(a)>0?($("#claim_sale_info00").show(),$("#claim_sale_info01").show(),$("#claim_sale_info02").hide(),$("#claim_sale_info03").hide(),$("#claim_sale_info05").hide(),$("#claim_sale_info04").hide(),eventCardSaleInfo()):$("#frm_inp select[name=iscmcd]").val()==claim_sale_card_knd_cd&&"카드선택"!=$("#frm_inp select[name=iscmcd] option:selected").text()&&parseInt(a)<parseInt(claim_sale_aply_lmt_amt)&&parseInt(a)>0?($("#claim_sale_info00").hide(),$("#claim_sale_info01").hide(),$("#claim_sale_info02").hide(),$("#claim_sale_info03").show(),$("#claim_sale_info05").hide(),$("#claim_sale_info04").hide(),$("#li_claim_sale_info2").html("<strong>"+$("#frm_inp select[name=iscmcd] option:selected").text()+String(claim_sale_aply_lmt_amt).money()+"원 이상 결제 시 추가 "+b+"% 청구 할인</strong><br/>(단, 개인별 1일 할인한도 최대 "+String(c).money()+"원)")):"카드선택"==$("#frm_inp select[name=iscmcd] option:selected").text()?($("#claim_sale_info00").hide(),
$("#claim_sale_info01").hide(),$("#claim_sale_info02").hide(),$("#claim_sale_info03").hide(),$("#claim_sale_info05").show(),$("#claim_sale_info04").hide()):($("#claim_sale_info00").hide(),$("#claim_sale_info01").hide(),$("#claim_sale_info02").hide(),$("#claim_sale_info03").hide(),$("#claim_sale_info05").hide(),$("#claim_sale_info04").hide()):($("#claim_sale_info00").hide(),$("#claim_sale_info01").hide(),$("#claim_sale_info02").hide(),$("#claim_sale_info03").hide(),$("#claim_sale_info05").hide(),$("#claim_sale_info04").hide())}function eventCardSaleInfo(){if("Y"==claim_sale_yn){var a=""==$("#frm_inp input[name=claim_sale_fvr_val]:hidden").val()?"0":$("#frm_inp input[name=claim_sale_fvr_val]:hidden").val(),b=""==$("#frm_inp input[name=totsttlamt]:hidden").val()?"0":$("#frm_inp input[name=totsttlamt]:hidden").val(),c=""==$("#frm_inp input[name=claim_sale_aply_lmt_amt]:hidden").val()?"0":$("#frm_inp input[name=claim_sale_aply_lmt_amt]:hidden").val(),d=""==$("#frm_inp input[name=paytype]:hidden").val()?"0":$("#frm_inp input[name=paytype]:hidden").val(),e=""==$("#frm_inp input[name=claim_sale_card_max_amt]:hidden").val()?"0":$("#frm_inp input[name=claim_sale_card_max_amt]:hidden").val();if($("#frm_inp select[name=iscmcd]").val()==claim_sale_card_knd_cd&&parseInt(b)>=parseInt(c)&&(d==PAYTYPE_CODE_CARD||d==PAYTYPE_CODE_LPAY)&&parseInt(b)>0){var f=parseInt(b);f=parseInt(f)*parseInt(a)*.01,parseInt(f)>parseInt(e)&&(f=parseInt(e)),f=parseInt(b)-parseInt(f),f=10*Math.floor(.1*parseInt(f)),$("#eventcardsaleamt_cont").html("청구할인가 "+String(f).money()+"원 예상"),$("#eventcardsaleamt_cont").show(),$("#claim_sale_price").html(String(f).money()+"원")}else $("#eventcardsaleamt_cont").hide()}else $("#eventcardsaleamt_cont").hide()}function allPointView(){0!=$("#useable_lt_point_amt").val()&&void 0!=$("#useable_lt_point_amt").val()||0!=$("#useable_lpoint_amt").val()&&void 0!=$("#useable_lpoint_amt").val()||0!=$("#useable_deposit_amt").val()&&void 0!=$("#useable_deposit_amt").val()||$("#lp_layer").hide()}function normalOrd(){goNormal(cartSn,imallYN)}function normalOdr(){goNormal(cartSn,imallYN)}function toggleAction(){$(".right_cont_area").toggleClass("off")}function toggleAction2(){$(".box_agree_check").toggleClass("on")}function toggleAction3(){$(".max_discount").toggleClass("on"),$(".box_section.type4").toggleClass("active")}function toggleAction4(){$(".Lpay-help").toggleClass("on")}function toggleAction5(a){$(".inlineBorder").removeClass("active"),$(a).addClass("active"),$(".clear").addClass("off"),$(".pay-step").addClass("on")}function toggleAction6(a){$(".pay_method_area span").removeClass("on"),$(".pay-inner").removeClass("on"),$(a).addClass("on");var b=$(a).attr("data-tab");$("#"+b).addClass("on")}function toggleAction7(a){$(".pay-inner .ng-scope").removeClass("active"),$(a).closest(".ng-scope").addClass("active")}function toggleAction8(a){console.log(a),$(".inlineBorder").removeClass("active"),$(".tab-con").removeClass("active"),$(a).addClass("active");var b=$(a).attr("data-tab2");$("#"+b).addClass("active"),"1"==b?$(".pop_bot").show():$(".pop_bot").hide()}function toggleAction9(a){$(".pay-inner").removeClass("on"),$(".tab-con").removeClass("active"),$(a).addClass("active");var b=$(a).attr("data-tab");$("#"+b).addClass("active")}function toggleAction10(a){$(a).change()&&$(".apply_box.type2").toggleClass("off")}function toggleAction13(){setTimeout(toggleAction14,2e3)}function toggleAction14(){$(".introduce_comment_wrap").hide()}function toggleAction15(){$("#card_no1").val(""),$("#card_no2").val(""),$("#card_no3").val(""),$("#card_no4").val("");var a=$(".lpoint_cert");"none"==a.css("display")?(a.show(),$(".btn_lotte_point2").text("취소하기")):(a.hide(),fn_useLottePointCancel(),$(".btn_lotte_point2").text("본인 확인하기"))}function toggleAction16(){$(".lpoint_cert").hide(),$(".btn_lotte_point2").text("본인 확인하기")}function toggleAction17(){var a=$(".slide_ul li").size(),b=$('.slide_ul li[style="display:none"]').size(),c=189*a,d=189*b,e=c-d-3;$(".slide_ul").width(e)}function toggleAction18(){$("body").addClass("stop_scroll")}function toggleAction19(){$("body").removeClass("stop_scroll")}function browserChk(){var a="",b=window.navigator.userAgent;return b.indexOf("Safari")>0&&(a=b.indexOf("Chrome")>0?"Chrome":"Safari"),a}function anotherView(){$(".pay_method").show(),$(".box_Lpay_agree_check").hide(),$("#frm_inp input[name=rdo_paytype]:radio:checked").val()==PAYTYPE_CODE_CARD?($("#frm_inp select[name=iscmcd]").html(cardStr),$("#frm_inp input[name=rdo_paytype]:radio:checked").click(),toggleAction5($("#cardList_"+$(".check.on.crucial input[name$=_iscmcd]:hidden").val())),setIscmCd($(".check.on.crucial input[name$=_iscmcd]:hidden").val())):$("#frm_inp input[name=rdo_paytype]:radio:checked").val()==PAYTYPE_CODE_LPAY?($(".box_Lpay_agree_check").show(),$(".box_Lpay_agree_check").addClass("open"),$("#frm_inp select[name=iscmcd]").html(lpayCardStr),""==lpayCardStr?$(".box_Lpay_agree_check .txt01 .btn01").show():(console.log("lpay anotherView"),($("#lpay_paymean .lpay.check.on.crucial").length>0||$("#general_paymean.lpay.check.on.crucial").length>0)&&$("#lpay_list input[name=lpay_type][data-card-id="+$("#frm_inp input[name=lpay_type]:radio:checked").data("card-id")+"]:radio").click())):$("#frm_inp input[name=rdo_paytype]:radio:checked").val()==PAYTYPE_CODE_NAVERPAY||$("#pay_card").hide()}function fn_LpayCardRegister(){scrollYN("Y"),disableItems(!0),$("#frm_lpay input[name=req_div]:hidden").val("card_reg"),history.pushState("lpayIframe",""),fn_LpayIframeSet(),$("#frm_lpay input[name=simple_lpay_open]:hidden").val("Y"),$("#frm_lpay").submit()}function fn_LpayIframeSet(){payment_pop_position(),isAndroid&&"none"!=$(".pay_method").css("display")&&!isApp&&$("#ANSIM_LAYER").css("top","-85px"),$("#ANSIM_LAYER").css("width","100%"),$("#ANSIM_LAYER").css("height","500px"),window.scrollTo(0,0),$("#ANSIM_LAYER").show(),$("#X_ANSIM_FRAME").show()}function fn_LpayIframeErrHide(){$("#frm_inp input[name=rdo_paytype]:radio[value='16']").click(),close_iframe(),$("#pageDesc").html(""),$("#pageCover,#pageLoading").hide()}function cleanLpayCardStr(){lpayCardStr="",$("#lpay_paymean").html(""),$("#lpay_paymean").hide(),$("#lpay_list").html(""),lpay_card_list(),$("#lpay_list").hide(),$("#card_select").hide()}function fn_invQtyCheck(a){var b=!1;return $.ajax({type:"POST",dataType:"json",url:"/json/mylotte/cart/searchInvQtyCheckAjax.json",data:{arr_cart_sn:a},async:!1,success:function(a){"S"==a.resultCd?b=!0:"P"==a.resultCd?alert("선택하신 상품 중 ["+a.resultMsg+"]의 재고 수량이 부족하여 주문이 불가합니다."):alert("선택하신 상품이 모두 품절되어 주문이\n불가합니다. 상품상세 페이지에서 재입고\n알람을 이용해주세요.")},error:function(a,b){alert("죄송합니다. 잠시 후 다시 이용해 주세요.")}}),b}function searchCncnMbrChk(){for(var a=!0,b=$("#frm_send input[name=goodsno]:hidden").val();b.indexOf(split_gubun_1)>-1;)b=b.replace(split_gubun_1,",");var c=b;return $.ajax({async:!1,type:"POST",dataType:"json",data:{goods_no_list:c},url:"/order/searchCncnMbrInfoAjax.do",success:function(b){b.success||(alert(b.msg),$("html, body").scrollTop($("#container").offset().top-49),a=!1)},error:function(b,c){alert("서버와 통신 조회중 오류 입니다. 결제하기 버튼을 다시 클릭해 주세요."),a=!1}}),a}function lPointChange(){var a,b,c,d,e,f,g,h,i,j,k=0,l=0,m=0;try{a=$("#frm_send input[name=totdcamt]").val(),b=$("#frm_send input[name=ordqty]:hidden").val().split(split_gubun_1),c=$("#frm_send input[name=goodsno]:hidden").val().split(split_gubun_1),d=$("#frm_send input[name=saleprc]:hidden").val().split(split_gubun_1),e=$("#frm_inp input[name=lpoint_view]:hidden").val().split(split_gubun_1),f=$("#frm_inp input[name=lpoint_rsrv_rt]:hidden").val().split(split_gubun_1),g=$("#frm_inp input[name=cpnpromno_all]");for(var n=0;n<c.length;n++)if(salePrc=0,l=0,e[n]>0){for(var o=0;3>o;o++)if(0==o?(h=$("#frm_inp select[name=coupon]").val(),null!=h&&""!=h?(i=$("#frm_inp input[name=prommdclcd]").eq(h).val(),j=$("#frm_inp input[name=cpnpromno]").eq(h).val()):i=""):1==o?(h=$("#frm_inp select[name=dup_coupon]").val(),null!=h&&""!=h?(i=$("#frm_inp input[name=prommdclcd_dup]").eq(h).val(),j=$("#frm_inp input[name=cpnpromno_dup]").eq(h).val()):i=""):2==o&&(h=$("#frm_inp input[name=third_coupon]:radio:checked").val(),"N"!=h?(i=$("#frm_inp input[name=prommdclcd_third]").eq(h).val(),j=$("#frm_inp input[name=cpnpromno_third]").eq(h).val()):i=""),""!=i&&void 0!=i)if("10"==i)l=10*Math.floor(d[n]*$("#frm_inp input[name=orgfvrval]").eq(h).val()/100/10);else for(var p=0;p<g.length;p++)j==$("#frm_inp input[name=cpnpromno_all]").eq(p).val()&&i==$("#frm_inp input[name=prommdclcd_all]").eq(p).val()&&c[n]==$("#frm_inp input[name=goodsno_all]").eq(p).val()&&(0==o?l="04"==$("#frm_inp input[name=fvrpolctpcd_all]").eq(p).val()?10*Math.floor(1*$("#frm_inp input[name=dcamt_all]").eq(p).val()/b[n]/10):1*$("#frm_inp input[name=dcamt_all]").eq(p).val():1==o?(m=10*Math.floor((1*d[n]-l)*$("#frm_inp input[name=orgfvrval_all]").eq(p).val()/100/10),l+=1*$("#frm_inp input[name=maxfvrval_all]").eq(p).val()>0&&m>1*$("#frm_inp input[name=maxfvrval_all]").eq(p).val()?1*$("#frm_inp input[name=maxfvrval_all]").eq(p).val():m):2==o&&(m=100*Math.floor(d[n]*$("#frm_inp input[name=orgfvrval_all]").eq(p).val()/100/100),l+=1*$("#frm_inp input[name=maxfvrval_all]").eq(p).val()>0&&m>1*$("#frm_inp input[name=maxfvrval_all]").eq(p).val()?1*$("#frm_inp input[name=maxfvrval_all]").eq(p).val():m));k+=Math.round((1*d[n]-l)*f[n]/100)*b[n]}$("#frm_send input[name=totRsrvAplyVal]").val(k),setLottePointSaveDiv(a)}catch(q){}}function limitChars(a,b,c){str=$("#"+a).val(),strlen=str.length;for(var d=0,e=0;e<strlen;e++)if(d+=str.charCodeAt(e)>128?2:1,d>b)return alert("최대 "+b+"byte까지 입력가능합니다."),$("#"+a).val(str.cut(b)),$("#"+c).html(b),!1;return $("#"+c).html(strlen),!0}function getParameter(a){var b="",c=window.location.href;if(c.indexOf("?")>-1)for(var d=c.substr(c.indexOf("?")).toLowerCase(),e=d.split("&"),f=0;f<e.length;f++)if(e[f].indexOf(a.toLowerCase()+"=")>-1){var g=e[f].split("=");b=g[1];break}return unescape(b)}function fn_getServerTimer(){return serverTime}function localStorageReSet(a){if(localStorage)try{var b=localStorage.getItem("myWord"),c=localStorage.getItem("wishGallery"),d=localStorage.getItem("myCateList"),e=localStorage.getItem("family_chk"),f=localStorage.getItem("stamp_chk"),g=localStorage.getItem("viewGoods"),h=localStorage.getItem("wSize"),i=localStorage.getItem("mSize"),j=localStorage.getItem("sSize"),k=localStorage.getItem("renewalEvent"),l=localStorage.getItem("firstStartLotteM");if(a)for(var m=0;m<localStorage.length;m++)0==localStorage.key(m).indexOf(a)&&localStorage.removeItem(localStorage.key(m));b&&localStorage.setItem("myWord",b),c&&localStorage.setItem("wishGallery",c),d&&localStorage.setItem("myCateList",d),e&&localStorage.setItem("family_chk",e),g&&localStorage.setItem("viewGoods",g),h&&localStorage.setItem("wSize",h),i&&localStorage.setItem("mSize",i),j&&localStorage.setItem("sSize",j),k&&localStorage.setItem("renewalEvent",k),l&&localStorage.setItem("firstStartLotteM",l),localStorage.stamp_chk=f}catch(n){}}!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteSideMylotte","lotteCommFooter"]);d.controller("OrderCtrl",["$scope","$filter","$sce","$http","$window","$log","LotteCommon","LotteUtil",function(a,c,d,e,f,g,h,i){a.showWrap=!0,a.contVisible=!0,a.subTitle=orderSubTitle,a.actionBar=!0,a.isShowThisSns=!1,a.orderSgl=!0,a.datePickerYn=!1,a.enableDate="",a.selectDay=!0,a.wScroll=0,a.selDay=[],a.datePickerOpen=function(c){a.datePickerYn=!0,a.datePickerState=c;var d=$("#"+a.datePickerState).val().toString();d&&(a.selDay=d.split("-")),a.setCalender(),a.wScroll=b.element(f).scrollTop(),b.element("#cover").css("display","block"),b.element("body, html").css({height:"100%",overflow:"hidden"})},a.datePickerClose=function(c){a.datePickerYn=!1,a.datePickerState="",b.element("#cover").css("display","none"),b.element("body, html").css({height:"auto",overflow:"auto"}),b.element(f).scrollTop(a.wScroll)},a.calendar={date:[],year:"2018",month:"01",dispDate:new Date,today:new Date},a.getLastDay=function(a,b){return new Date(a,b+1,0).getDate()},a.addZero=function(a){return 10>a?"0"+a:a},a.setCalender=function(b,c){var d=$("#"+a.datePickerState).attr("enable-date")+",",e=null;e=b?new Date(b,c,1):new Date,a.calendar.date=[],a.calendar.dispDate=e;var f=a.getLastDay(e.getFullYear(),e.getMonth());a.calendar.year=e.getFullYear(),a.calendar.month=a.addZero(e.getMonth()+1);for(var g=0;f>g;g++){var h=new Date(e.getFullYear(),e.getMonth(),g+1),i=a.calendar.year+""+a.calendar.month+a.addZero(g+1)+",",j=!1,k=!1,l=!1;""!=a.selDay&&h.getFullYear()==a.selDay[0]&&a.addZero(h.getMonth()+1)==a.selDay[1]&&a.addZero(h.getDate())==a.selDay[2]&&(j=!0),-1!=d.indexOf(i)&&(l=!0),h<a.calendar.today&&!j&&(k=!0),a.calendar.date.push({d:a.addZero(g+1)+"",isToday:j,isOld:k,enable:l})}for(var m=new Date(e.getFullYear(),e.getMonth(),1),n=a.getLastDay(e.getFullYear(),e.getMonth()-1),g=0;g<m.getDay();g++)a.calendar.date.splice(0,0,{d:a.addZero(n-g)+"",isToday:!1,isOld:!0,enable:!1})},a.datePrev=function(){a.setCalender(a.calendar.dispDate.getFullYear(),a.calendar.dispDate.getMonth()-1)},a.dateNext=function(){a.setCalender(a.calendar.dispDate.getFullYear(),a.calendar.dispDate.getMonth()+1)},a.selectDate=function(){return this.item.isOld||!this.item.enable?!1:($("#"+a.datePickerState).val(a.calendar.year+"-"+a.calendar.month+"-"+this.item.d),a.selectDay=$("#"+a.datePickerState).val()?!1:!0,void a.datePickerClose())},setTimeout(function(){$("#datepicker").removeAttr("style")},1e3)}]),d.controller("ordersimpleCtrl",["$scope","LotteCommon",function(a,b){a.showWrap=!0,a.contVisible=!0,a.subTitle="간단 주문서 작성"}])}(window,window.angular);var add_dis_impossible_flag=!1,totpayamt,ltPointCert="N",single_prom,single_prom_cnt,multi_prom,multi_prom_cnt,maxFirstIdx="",maxDupIdx="",maxSaveFirstIdx="",maxSaveDupIdx="",filterBarScroll=null,delete_flag=!1,is_init=0;$(window).load(function(){function a(a,b){var c;a==PAYTYPE_CODE_CARD?c="1":a==PAYTYPE_CODE_BANK?c="2":a==PAYTYPE_CODE_PHONE?c="3":a==PAYTYPE_CODE_LPAY?c="4":a==PAYTYPE_CODE_NAVERPAY&&(c="5");var d="#pay_type"+c,e=$(d).hasClass("disable");if(console.log("idHassYn : "+e),e)if(paytypeDisableCheckHist(b)){if(!paytypeDisableCheckHist(PAYTYPE_CODE_CARD))return selPayType("1"),e;if(!paytypeDisableCheckHist(PAYTYPE_CODE_BANK))return $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").click(),e;if(!paytypeDisableCheckHist(PAYTYPE_CODE_PHONE))return $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_PHONE+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_PHONE+"']").click(),e;if(!paytypeDisableCheckHist(PAYTYPE_CODE_LPAY))return $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").prop("checked",!0),selPayType("4"),e;if(!paytypeDisableCheckHist(PAYTYPE_CODE_NAVERPAY))return $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_NAVERPAY+"']").prop("checked",!0),selPayType("5"),e}else{var f;b==PAYTYPE_CODE_CARD?f="1":b==PAYTYPE_CODE_BANK?f="2":b==PAYTYPE_CODE_PHONE?f="3":b==PAYTYPE_CODE_LPAY?f="4":b==PAYTYPE_CODE_NAVERPAY&&(f="5"),$("#frm_inp input[name=rdo_paytype]:radio[value='"+b+"']").prop("checked",!0),selPayType(f)}return e}is_init=0,"Safari"!=browserChk()&&$(window).on("popstate",function(a){if("lpayIframe"!=history.state)if(null==a.originalEvent.state||"history2"==a.originalEvent.state){if($(".coupon_pop").hide(),"none"!=$(".pay_method").css("display"))return alert("결제수단 선택을 완료해주세요."),void history.pushState("history1","");searchOrdDeliveryListClose(),"history2"==a.originalEvent.state&&history.back()}else"history1"==a.originalEvent.state&&($("#deliIframe").contents().find("#ordSearchAddressNewPop").hide(),$("#deliIframe").contents().find("#ordSearchAddressNewPop").find("iframe").remove())}),sendTclick("Sporder_load"),jQuery.fn.selectMenu=function(a){function b(){var a=$(this);e.on("focusout",c),a.val(" "),setTimeout(function(){a.val("")},100)}function c(){e.off("focusout",c),""==$(this).val()&&(e.prop("disabled",!0).hide(),d.prop("disabled",!1).parent().show(),d.find("option:eq(0)").prop("selected",!0))}var d=$(this),e=d.parent().next();d.on("change",function(){"직접입력"==d.val()&&(d.prop("disabled",!0).parent().hide(),e.prop("disabled",!1).show().focus(),e.on("click",function(){$(this).focus()}).trigger("click"))}),e.on("focusin",b)},$(".phone_modi").each(function(a){$(this).selectMenu()}),cardSaleView(),$(".btn_lotte_point2").bind("click",function(){$("#card_no1").val(""),$("#card_no2").val(""),$("#card_no3").val(""),$("#card_no4").val("");var a=$(".lpoint_cert");if("none"==a.css("display")){if("0"==$("input[name=third_coupon]:radio:checked").val())return void alert("일시불 할인은 L.POINT, L-money와 함께 사용할 수 없습니다.");a.show(),$(this).text("취소하기")}else a.hide(),fn_useLottePointCancel(),$(this).text("본인 확인하기")}),$(".point_cancle").on("click",function(){$(".box_lotte_point").hide(),$(".btn_lotte_point").text("본인 확인하기")}),$(".box_agree_check .tit_agree_check span").bind("click",function(){$(this).parent().toggleClass("show").next().toggle()}),$("#frm_inp input[name=third_coupon]:radio:first").attr("disabled")||$("#frm_inp input[name=third_coupon]:radio:first").trigger("click"),$("#frm_inp select[name=coupon]").change(function(){var a=$(this).val();if(maxFirstIdx!=a&&$("#max_dc").prop("checked",!1),$("span[name=dup_span]").each(function(){$(this).html("")}),"N"!=a){promcartsn=$("#frm_inp input[name=promcartsn]").eq(a).val(),prommdclcd=$("#frm_inp input[name=prommdclcd]").eq(a).val(),fvrpolctpcd=$("#frm_inp input[name=fvrpolctpcd]").eq(a).val(),totdcamt=$("#frm_inp input[name=totdcamt]").eq(a).val(),cpnpromno=$("#frm_inp input[name=cpnpromno]").eq(a).val(),cpnrscmgmtsn=$("#frm_inp input[name=cpnrscmgmtsn]").eq(a).val(),adtncostdtlsctnm=$("#frm_inp input[name=adtncostdtlsctnm]").eq(a).val(),cardkndcd=$("#frm_inp input[name=cardkndcd]").eq(a).val(),includeSaveInstCpn=$("#frm_inp input[name=includeSaveInstCpn]").eq(a).val();var b=$("#prodAmt").val();"27"==prommdclcd?$("#staff_text").show():$("#staff_text").hide(),$("#dcAmt1").html("("+("Y"==includeSaveInstCpn?"":"-")+String(totdcamt).money()+"원"+("Y"==includeSaveInstCpn?" 적립)":")")),prommdclcd==adtn_cost_dtl_sct_cd_coupon&&"Y"!=includeSaveInstCpn?($("#coupon_text").html("<p class='lft'>즉석쿠폰 할인</p><p class='rgt'>(-)"+String(totdcamt).money()+"원"),$("#coupon_salePrc").html("<p class='lft'>즉석쿠폰가</p><p class='rgt'>"+String(b-totdcamt).money()+"원"),$("#coupon_text").show(),$("#coupon_salePrc").show()):($("#coupon_text").hide(),$("#coupon_salePrc").hide())}else promcartsn="",prommdclcd="",fvrpolctpcd="",totdcamt="",cpnpromno="",cpnrscmgmtsn="",adtncostdtlsctnm="",cardkndcd="",includeSaveInstCpn="",$("#staff_text").hide(),$("#dcAmt1").text("("+$(this).find("option").not("[value=N], :disabled").length+"개)"),$("#coupon_text").hide(),$("#coupon_salePrc").hide();$("#frm_send input[name=promcartsn]").val(promcartsn),$("#frm_send input[name=prommdclcd]").val(prommdclcd),$("#frm_send input[name=fvrpolctpcd]").val(fvrpolctpcd),$("#frm_send input[name=totdcamt]").val(totdcamt),$("#frm_send input[name=cpnpromno]").val(cpnpromno),$("#frm_send input[name=cpnrscmgmtsn]").val(cpnrscmgmtsn),$("#frm_send input[name=adtncostdtlsctnm]").val(adtncostdtlsctnm),$("#frm_send input[name=cardkndcd]").val(cardkndcd),$("#frm_send input[name=includeSaveInstCpn]").val(includeSaveInstCpn),ord_session_clear(),$("#frm_inp select[name=dup_coupon]").val("N"),$("#frm_inp select[name=dup_coupon]").find("option").each(function(){if($(this).attr("disabled",!1),"10"==prommdclcd&&""!=cardkndcd?"30"==$("#frm_inp input[name=prommdclcd_dup]:eq("+$(this).val()+")").val()&&cardkndcd==$("#frm_inp input[name=cardkndcd_dup]:eq("+$(this).val()+")").val()||""==$("#frm_inp input[name=cardkndcd_dup]:eq("+$(this).val()+")").val()?$(this).attr("disabled",!1):$(this).attr("disabled",!0):$(this).attr("disabled",!1),"27"==prommdclcd)"N"!=$(this).val()&&($(this).attr("disabled",!0),$(this).prop("disabled",!0));else if(multi_prom_cnt>0)for(var b=0;b<multi_prom.length;b++)multi_prom[b][0]==cpnpromno&&multi_prom[b][1]==$("#frm_inp input[name=cpnpromno_dup]:eq("+$(this).val()+")").val()&&parseInt(multi_prom[b][2])<1&&$(this).attr("disabled",!0);if("N"!=a&&"N"!=$(this).val()){var c,d="0"==cpnpromno?prommdclcd:cpnpromno,e=$("#frm_inp input[name=cpnpromno_dup]").eq($(this).val()).val(),f=0,g=0;if(void 0==a||"N"==a?(c=single_prom,g=single_prom_cnt):(c=multi_prom,g=multi_prom_cnt,d="0"==cpnpromno?prommdclcd:cpnpromno),Number(g)>0){for(var b=0;b<c.length;b++)if(c[b][0]==d&&c[b][1]==e){f=c[b][2];break}parseInt(f)<=0&&($(this).attr("disabled",!0),$(this).prop("disabled",!0))}}}),$("#frm_inp select[name=dup_coupon]").attr("disabled",!1),$("#frm_inp select[name=dup_coupon]").prop("disabled",!1),init_cpn_info("N","Y","Y"),$("#frm_inp select[name=dup_coupon]").attr("disabled",!1),$("#frm_inp select[name=dup_coupon]").prop("disabled",!1),$("#frm_inp input[name=third_coupon]:radio:last").attr("checked",!0),$("#frm_inp input[name=third_coupon]:radio:last").prop("checked",!0),$("#frm_inp input[name=third_coupon]:radio").each(function(){$(this).attr("disabled",!1),$(this).prop("disabled",!1),"27"==prommdclcd&&($(this).attr("disabled",!0),$(this).prop("disabled",!0))}),$("#frm_inp input[name=third_coupon]:radio:last").attr("disabled",!1),$("#frm_inp input[name=third_coupon]:radio:last").prop("disabled",!1),$("#frm_inp input[name=third_coupon]:radio:last").click(),select_coupon(),0==a?$(".order_tp #lottepointSave .lottepointOrange").hide():$(".order_tp #lottepointSave .lottepointOrange").show(),lPointChange()}),$("#frm_inp select[name=dup_coupon]").click(function(){return"27"==$("#frm_send input[name=prommdclcd]").val()?(alert("임직원할인 적용 시 추가할인 및 일시불할인 혜택을 받으실 수 없습니다."),$(this).attr("disabled",!0),$(this).prop("disabled",!0),$(this).val("N"),void $("#frm_inp select[name=dup_coupon]").change()):void 0}),$("#frm_inp select[name=dup_coupon]").change(dup_coupon_select),$("#frm_inp input[name=third_coupon]:radio").click(function(){var a=$(this).val();console.log("일시불할인 : "+a),"N"!=a?(promcartsn=$("#frm_inp input[name=promcartsn_third]").eq(a).val(),prommdclcd=$("#frm_inp input[name=prommdclcd_third]").eq(a).val(),fvrpolctpcd=$("#frm_inp input[name=fvrpolctpcd_third]").eq(a).val(),"35"==prommdclcd?totdcamt=$("#frm_inp input[name=lumpSumFvrVal]").val():totdcamt=$("#frm_inp input[name=totdcamt_third]").eq(a).val(),cpnpromno=$("#frm_inp input[name=cpnpromno_third]").eq(a).val(),cpnrscmgmtsn=$("#frm_inp input[name=cpnrscmgmtsn_third]").eq(a).val(),adtncostdtlsctnm=$("#frm_inp input[name=adtncostdtlsctnm_third]").eq(a).val(),cardkndcd=$("#frm_inp input[name=cardkndcd_third]").eq(a).val(),includeSaveInstCpn=$("#frm_inp input[name=includeSaveInstCpn_third]").eq(a).val(),$("#dcAmt3").html("(-"+String(totdcamt).money()+"원)"),$("#singlePayText").text("할부결제 시 '미적용' 선택해 주세요."),"none"!=$("#useLottePoint").css("display")&&($("#lt_point_amt_btn").click(),fn_useLottePointCancel())):(promcartsn="",prommdclcd="",fvrpolctpcd="",totdcamt="",cpnpromno="",cpnrscmgmtsn="",adtncostdtlsctnm="",cardkndcd="",includeSaveInstCpn="",$("#dcAmt3").text(""),$("#singlePayText").text("")),$("#frm_send input[name=promcartsn_third]").val(promcartsn),$("#frm_send input[name=prommdclcd_third]").val(prommdclcd),$("#frm_send input[name=fvrpolctpcd_third]").val(fvrpolctpcd),$("#frm_send input[name=totdcamt_third]").val(totdcamt),$("#frm_send input[name=cpnpromno_third]").val(cpnpromno),$("#frm_send input[name=cpnrscmgmtsn_third]").val(cpnrscmgmtsn),$("#frm_send input[name=adtncostdtlsctnm_third]").val(adtncostdtlsctnm),$("#frm_send input[name=cardkndcd_third]").val(cardkndcd),$("#frm_send input[name=includeSaveInstCpn_third]").val(includeSaveInstCpn),select_third_coupon(),lPointChange()}),$("#frm_inp select[name=rdo_cash]").change(function(){cash_val=$(this).val(),$("#pers_select").hide(),$("#pers_value").hide(),$("#co_value").hide(),"1"==cash_val?($("#pers_select").show(),$("#pers_value").show(),$("#co_value p > input").val("")):"2"==cash_val&&($("#co_value").show(),$("#pers_value span > input").val(""))}),$("#frm_inp select[name=cr_issu_mean_sct_cd]").change(function(){sct_cd=$(this).val(),$("#cash_receipts02").hide(),$("#cash_receipts03").hide(),$("#cash_receipts04").hide(),$("#cash_receipts05").hide(),$("#cash_receipts06").hide(),$("#pers_value span > input").val(""),"1"==sct_cd?$("#cash_receipts02").show():"3"==sct_cd?($("#cash_receipts03").show(),setCellNo()):"4"==sct_cd?$("#cash_receipts04").show():"5"==sct_cd?$("#cash_receipts05").show():$("#cash_receipts06").show()}),$("#frm_inp input[name=rdo_paytype]:radio").click(function(){var b=!1,c=$("#frm_inp input[name=paytype]:hidden").val();console.log("결제수단 선택 : "+$(this).val());var d=a($(this).val(),c);if(console.log("checkPayType : "+d),!d){d!=c&&(c=d),$("#frm_inp input[name=paytype]:hidden").val($(this).val());var e=$("input[name=temp_paytype]:hidden").val();$(".btn_addpay").hide(),$("#naverPaycard_cont").hide();var f=$("#pay_type1").hasClass("disable"),g=$("#pay_type2").hasClass("disable"),h=($("#pay_type3").hasClass("disable"),$("#pay_type4").hasClass("disable"));$("#pay_type5").hasClass("disable");if($("#cash_receipts").hide(),$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_CARD)selPayType(1),createCardType(),$("#pay_bank").hide(),$("#pay_card").show(),$("#pay_phone").hide(),$("#pay_naverPay").hide(),$(".pay-step").addClass("on"),$("#card_list").show(),$("#card_dis").show(),$("#lpay_help").hide(),$("#lpay_list").hide(),$("#no_lpay_card").hide(),$(".box_Lpay_agree_check").hide(),$("#card_select").show(),$("#pay_card > dl").show(),$("input[name=temp_paytype]:hidden").val(0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").prop("checked",!0),fn_card_point();else if($("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_BANK)sel_acct(),selPayType(2),coupon_cd=$("#frm_send input[name=prommdclcd]").val(),coupon_cardcd=$("#frm_send input[name=cardkndcd]").val(),""!=coupon_cd&&""!=coupon_cardcd&&(3!=e||h?f||(alert("카드 할인쿠폰 및 적립쿠폰은 카드로 결제를 하셔야 사용 가능 합니다."),iscmcd=$("#frm_inp select[name=iscmcd]").val(cardkndcd),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").prop("checked",!0),selPayType(1),b=!0):(alert("카드 할인쿠폰 및 적립쿠폰은 카드로 결제를 하셔야 사용 가능 합니다."),iscmcd=$("#frm_inp select[name=iscmcd]").val(cardkndcd),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").prop("checked",!0),selPayType(4),b=!0)),coupon_cd_dup=$("#frm_send input[name=prommdclcd_dup]").val(),coupon_cardcd_dup=$("#frm_send input[name=cardkndcd_dup]").val(),""!=coupon_cd_dup&&""!=coupon_cardcd_dup&&(3!=e||h?f||(alert("중복카드 할인쿠폰은 카드로 결제를 하셔야 사용 가능 합니다."),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").prop("checked",!0),iscmcd=$("#frm_inp select[name=iscmcd]").val(coupon_cardcd_dup),selPayType(1),b=!0):(alert("중복카드 할인쿠폰은 카드로 결제를 하셔야 사용 가능 합니다."),iscmcd=$("#frm_inp select[name=iscmcd]").val(coupon_cardcd_dup),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").prop("checked",!0),selPayType(4),b=!0)),b?($("#cash_receipts").hide(),$("#pay_card").show(),$("#pay_bank").hide(),$("#pay_phone").hide(),$("#pay_naverPay").hide()):($("#cash_receipts").show(),$("#pay_card").hide(),$("#pay_bank").show(),$("#pay_phone").hide(),$("#pay_naverPay").hide(),setCellNo(),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").prop("checked",!0));else if($("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_PHONE){if(selPayType(3),coupon_cd=$("#frm_send input[name=prommdclcd]").val(),coupon_cardcd=$("#frm_send input[name=cardkndcd]").val(),""!=coupon_cd&&""!=coupon_cardcd)if("Y"==prom_card_yn?alert("카드 할인쿠폰 및 적립쿠폰은 카드로 결제를 하셔야 사용 가능 합니다."):prom_card_yn="Y",iscmcd=$("#frm_inp select[name=iscmcd]").val(cardkndcd),3!=e||h)if(f){if(!g)return $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").click(),void $("#cash_receipts").hide()}else $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").prop("checked",!0),selPayType(1),b=!0;else $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").prop("checked",!0),selPayType(4),b=!0;if(coupon_cd_dup=$("#frm_send input[name=prommdclcd_dup]").val(),coupon_cardcd_dup=$("#frm_send input[name=cardkndcd_dup]").val(),""!=coupon_cd_dup&&""!=coupon_cardcd_dup){if("Y"==prom_card_yn?alert("중복카드 할인쿠폰은 카드로 결제를 하셔야 사용 가능 합니다."):prom_card_yn="Y",iscmcd=$("#frm_inp select[name=iscmcd]").val(coupon_cardcd_dup),3!=e||h)if(f){if(!g)return $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").click(),void $("#cash_receipts").hide()}else $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").prop("checked",!0),selPayType(1),b=!0;else $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").prop("checked",!0),selPayType(4),b=!0;b=!0}if(!b&&"35"==$("#frm_send input[name=prommdclcd_third]").val()){if(is_init>0&&alert("일시불 할인을 받으시면 휴대폰결제를 하실수 없습니다."),3!=e||h)if(f){if(!g)return $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").click(),void $("#cash_receipts").hide()}else $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").click(),selPayType(1);else $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").click(),selPayType(4);b=!0}b?($("#cash_receipts").hide(),$("#pay_card").show(),$("#pay_bank").hide(),$("#pay_phone").hide(),$("#pay_naverPay").hide()):($("#pay_card").hide(),$("#pay_bank").hide(),$("#pay_phone").show(),$("#pay_naverPay").hide(),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_PHONE+"']").prop("checked",!0))}else if($("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_LPAY)selPayType(4),lpayListCheck(),$("#pay_card").show(),$("#card_list").hide(),$("#card_dis").hide(),$(".pay-step").addClass("on"),$(".inlineBorder").removeClass("active"),$("#pay_card_confirm").hide(),$("#pay_bank").hide(),$("#pay_phone").hide(),$("#pay_naverPay").hide(),$("input[name=temp_paytype]:hidden").val(3),fn_card_point(),""!=lpayCardStr?lpayCertInfoView():($("select[name=iscmcd]").html(""),lpayCertInfo()),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").prop("checked",!0);else if($("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_NAVERPAY){if(selPayType(5),coupon_cd=$("#frm_send input[name=prommdclcd]").val(),coupon_cardcd=$("#frm_send input[name=cardkndcd]").val(),""!=coupon_cd&&""!=coupon_cardcd)if(alert("카드 할인쿠폰 및 적립쿠폰은 카드로 결제를 하셔야 사용 가능 합니다."),3!=e||h)if(f){if(!g)return $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").click(),void $("#cash_receipts").hide()}else iscmcd=$("#frm_inp select[name=iscmcd]").val(cardkndcd),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").prop("checked",!0),selPayType(1),b=!0;else iscmcd=$("#frm_inp select[name=iscmcd]").val(cardkndcd),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").prop("checked",!0),selPayType(4),b=!0;if(coupon_cd_dup=$("#frm_send input[name=prommdclcd_dup]").val(),coupon_cardcd_dup=$("#frm_send input[name=cardkndcd_dup]").val(),""!=coupon_cd_dup&&""!=coupon_cardcd_dup)if("Y"==prom_card_yn?alert("중복카드 할인쿠폰은 카드로 결제를 하셔야 사용 가능 합니다."):prom_card_yn="Y",3!=e||h)if(f){if(!g)return $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").click(),
void $("#cash_receipts").hide()}else iscmcd=$("#frm_inp select[name=iscmcd]").val(coupon_cardcd_dup),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").prop("checked",!0),selPayType(1),b=!0;else iscmcd=$("#frm_inp select[name=iscmcd]").val(coupon_cardcd_dup),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").prop("checked",!0),selPayType(4),b=!0;if(!b&&"35"==$("#frm_send input[name=prommdclcd_third]").val()){if(is_init>0&&alert("일시불 할인을 받으시면 네이버페이 결제를 하실수 없습니다."),3!=e||h)if(f){if(!g)return $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_BANK+"']").click(),void $("#cash_receipts").hide()}else $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").click();else $("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").click();b=!0}if(b)$("#cash_receipts").hide(),$("#pay_card").show(),$("#pay_bank").hide(),$("#pay_phone").hide(),$("#pay_naverPay").hide();else{$("#pay_card").hide(),$("#pay_bank").hide(),$("#pay_phone").hide(),$("#pay_naverPay").show(),setCellNo();var i="",j="Y";$("#frm_inp input[name=card_clm_nm]").each(function(){"N"==j&&(i+=", "),i+=getCardNm($(this).val())+"카드",j="N"}),""!=i&&$("#naverPaycard_cont").show(),$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_NAVERPAY+"']").prop("checked",!0)}}setCashReceiptArea(),""==$("#frm_send input[name=lt_cd_no]:hidden").val()&&($("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_LPAY&&"0"!=$("input[name=third_coupon]:radio:checked").val()?($("#useLottePoint").hide(),$("#chk_lt_point").attr("disabled",!1),ltPointCert="Y",$("#lt_point_amt_btn").hide(),$("#lt_point_amt").show(),""!=$("#temp_lt_point_amt").val()&&($("#chk_lt_point").prop("checked",!0),$("#lt_point_amt").val($("#temp_lt_point_amt").val()))):($("#lt_point_amt").val(""),$("#chk_lt_point").prop("checked",!1),$("#chk_lt_point").attr("disabled",!0),ltPointCert="N",$("#lt_point_amt").hide(),$("#lt_point_amt_btn").show(),$(".btn_lotte_point2").text("본인 확인하기")),fn_calcTotalPrice()),$("#laver_Lpay_order").hide(),($("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_LPAY||$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_CARD)&&("Y"==card_sale_yn||"Y"==claim_sale_yn)&&fn_cardsavegoods()}}),$("#input_lpoint_pw").click(function(){$("#laver_Lpay_order").hide(),$("#chk_lt_point").trigger("click"),$("#useLottePoint").show(),$("html, body").scrollTop($("#pay_info2").offset().top-49),setTimeout(function(){$("#card_passwd").focus()},500)});try{sessionStorage.setItem("safe_browsing","Y"),sessionStorage.removeItem("safe_browsing")}catch(b){alert("아이폰 설정을 확인/수정하시기 바랍니다. [설정]>[Safari]>[개인정보 보호 브라우징] 해제")}init(),init_cardinstmon(),init_payMean(),$("#frm_inp select[name=iscmcd]").change(function(){getCardInsCheck(),$(".inlineBorder").removeClass("active"),$("#cardList_"+$("#frm_inp select[name=iscmcd]").val()).addClass("active"),$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_LPAY&&fn_card_point()}),$("#frm_inp input[name=rdo_cardinst]:radio").click(setcardinstmon),$("#frm_inp input[name=rdo_paytype]:radio").each(function(){$("#frm_inp input[name=paytype]:hidden").val()==$(this).val()&&($(this).attr("checked","checked"),$(this).prop("checked","checked"))}),$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_CARD?(createCardType(),$("#pay_card").show()):$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_BANK?$("#pay_bank").show():$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_LPAY&&(lpayCertInfoView(),$("#pay_card").show()),$("#frm_inp input[name=paytype]:hidden").val()==PAYTYPE_CODE_BANK&&$("#cash_receipts").show(),$("#max_dc").change(function(){$("#max_dc").prop("checked")?setMaxDc():($("#frm_inp select[name=coupon]").val("N"),$("#frm_inp select[name=coupon]").change())}),$("#max_dc").attr("checked",!0),$("#max_dc").prop("checked",!0),$("#max_dc").change(),$("#frm_inp input[name=third_coupon]:radio").length>0&&"27"!=$("#frm_send input[name=prommdclcd]").val()&&($("#frm_inp input[name=third_coupon]:radio:first").prop("checked",!0),$("#frm_inp input[name=third_coupon]:radio:first").click()),$("#order_agree_on").change(function(){$("#assent_all").length>0&&($("#pg_assent_ord").prop("checked",$(this).prop("checked")),$("#assent_all").prop("checked",$("#pg_assent_crd").prop("checked")&&$(this).prop("checked")))}),$("#pg_assent_ord").change(function(){$("#order_agree_on").prop("checked",$(this).prop("checked")),$("#assent_all").prop("checked",$("#pg_assent_crd").prop("checked")&&$(this).prop("checked"))}),$("#pg_assent_crd").change(function(a,b){$("#assent_all").prop("checked",$("#pg_assent_ord").prop("checked")&&$(this).prop("checked")),"undefined"==typeof b&&$("#pg_sub_assent1,#pg_sub_assent2,#pg_sub_assent3").prop("checked",$(this).prop("checked"))}),$("#assent_all").change(function(){$("#order_agree_on").prop("checked",$(this).prop("checked")),$("#pg_assent_ord").prop("checked",$(this).prop("checked")),$("#pg_assent_crd").prop("checked",$(this).prop("checked")).trigger("change")}),$("#pg_sub_assent1,#pg_sub_assent2,#pg_sub_assent3").change(function(){$("#pg_assent_crd").prop("checked",$("#pg_sub_assent1").prop("checked")&&$("#pg_sub_assent2").prop("checked")&&$("#pg_sub_assent3").prop("checked")).trigger("change",["Y"])});var c=!1,d=$("#frm_inp input[name=op_pay_mean_hist_pay_mean_cd]").val();if(coupon_cardcd_dup=$("#frm_send input[name=cardkndcd_dup]").val(),$("input[name=rdo_paytype]:radio").each(function(){$(this).val()==d&&(c=!0)}),c&&((d!=PAYTYPE_CODE_CARD&&d!=PAYTYPE_CODE_LPAY||chkEmpty($("#frm_inp select[name=iscmcd]"))||$("#frm_inp select[name=iscmcd]").val()==$("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()&&""==$("#frm_send input[name=cardkndcd]").val()&&""==$("#frm_send input[name=cardkndcd_dup]").val())&&(d!=PAYTYPE_CODE_BANK||chkEmpty($("#frm_inp select[name=iscmcd]"))&&""==$("#frm_send input[name=cardkndcd]").val()&&""==$("#frm_send input[name=cardkndcd_dup]").val())&&(d!=PAYTYPE_CODE_PHONE||""==$("#frm_send input[name=cardkndcd]").val()&&""==$("#frm_send input[name=cardkndcd_dup]").val())?d!=PAYTYPE_CODE_NAVERPAY||""==$("#frm_send input[name=cardkndcd]").val()&&""==$("#frm_send input[name=cardkndcd_dup]").val()||(c=!1):c=!1),console.log("histPayMeanCd : "+d),console.log("selFlag : "+c),viewEvtCard(),sel_acct(),""==$("#frm_send input[name=cardkndcd]").val()&&""==$("#frm_send input[name=cardkndcd_dup]").val()&&"35"!=$("#frm_send input[name=prommdclcd_third]").val()&&(void 0!=$("#chk_deposit_all").val()&&$("#useable_deposit_amt").val()>0&&$("#chk_deposit_all").click(),void 0!=$("#chk_lpoint").val()&&$("#useable_lpoint_amt").val()>0&&$("#chk_lpoint").click()),maxdc_yn="N",toggleAction17(),allPointView(),paycardinstmon(),!c)return void is_init++;var e=fn_inputPayType(d);paytypeDisableCheckHist(e)?fn_setDisplayAssentArea("block"!=$("#pay_method").css("display")||"pay_type4"!=$("[id^=pay_type].on").attr("id")&&"pay_type1"!=$("[id^=pay_type].on").attr("id")?"N":"Y"):($("#frm_inp input[name=rdo_paytype]:radio[value='"+e+"']").prop("checked",!0),$("#frm_inp input[name=rdo_paytype]:radio[value='"+e+"']").trigger("click"),e==PAYTYPE_CODE_CARD?(selPayType(1),$("#frm_inp select[name=iscmcd] > option[value='"+$("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()+"']").prop("selected",!0),$("#frm_inp select[name=iscmcd]").trigger("change"),""!=$("#frm_inp input[name=op_pay_mean_hist_card_pay_meth_cd]").val()&&$("#frm_inp input[name=card_confirm_type]:radio[value='"+$("#frm_inp input[name=op_pay_mean_hist_card_pay_meth_cd]").val()+"']").prop("checked",!0),$("#hist_paymean").addClass("check"),$("#hist_paymean").addClass("on"),payBlockEvent("hist_paymean"),toggleAction5("#cardList_"+$("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()),cardSelect(),paycardinstmon("on")):e==PAYTYPE_CODE_BANK?(selPayType(2),$("#frm_inp select[name=bankno] > option[value='"+$("#frm_inp input[name=op_pay_mean_hist_bnk_cd]").val()+"']").prop("selected",!0),$("#frm_inp select[name=bankno]").trigger("change"),$("#pay_card").hide(),setCellNo(),$("#hist_paymean").addClass("check"),$("#hist_paymean").addClass("on")):e==PAYTYPE_CODE_PHONE?"35"==$("#frm_send input[name=prommdclcd_third]").val()?$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").click():(selPayType(3),$("#pay_card").hide(),$("#pay_bank").hide(),$("#hist_paymean").addClass("check"),$("#hist_paymean").addClass("on")):e==PAYTYPE_CODE_LPAY?($("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_LPAY+"']").click(),$("#frm_inp input[name=lpay_type]:radio[value='"+$("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()+"']").prop("checked",!0),$("#card_select").show(),$("#frm_inp select[name=iscmcd]").val($("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()),selPayMean("lpay_paymean_"+$("#frm_inp input[name=lpay_type]:radio[value='"+$("#frm_inp input[name=op_pay_mean_hist_acqr_cd]").val()+"']").attr("data-card-id")),paycardinstmon("on"),fn_cardsavegoods()):e==PAYTYPE_CODE_NAVERPAY&&("35"==$("#frm_send input[name=prommdclcd_third]").val()?$("#frm_inp input[name=rdo_paytype]:radio[value='"+PAYTYPE_CODE_CARD+"']").click():(selPayType(5),$("#hist_paymean").addClass("check"),$("#hist_paymean").addClass("on")))),is_init++}),function(){setTimeout(function(){$(".introduce_comment_wrap").hide()},5e3)}(),String.prototype.zf=function(a){return"0".string(a-this.length)+this},String.prototype.string=function(a){for(var b="",c=0;c++<a;)b+=this;return b},Number.prototype.zf=function(a){return this.toString().zf(a)},Date.prototype.format=function(a){if(!this.valueOf())return"&nbsp;";var b=this;return a.replace(/(yyyy|mm|dd|hh|nn|ss|a\/p)/gi,function(a){switch(a){case"yyyy":return b.getFullYear();case"mm":return(b.getMonth()+1).zf(2);case"dd":return b.getDate().zf(2);case"hh":return b.getHours().zf(2);case"nn":return b.getMinutes().zf(2);case"ss":return b.getSeconds().zf(2);case"a/p":return b.getHours()<12?"a":"p"}})},String.prototype.isNum=function(){var a=/^[0-9]+$/;return a.test(this)},String.prototype.trim=function(){return this.replace(/(^\s+)|(\s+$)/g,"")},String.prototype.bytes=function(){for(var a=this,b=0,c=0;c<a.length;c++)b+=a.charCodeAt(c)>128?2:1;return b},String.prototype.cut=function(a){for(var b=this,c=0,d=0;d<b.length;d++)if(c+=b.charCodeAt(d)>128?2:1,c>a)return b.substring(0,d);return b},String.prototype.money=function(){for(var a=this.trim();/(-?[0-9]+)([0-9]{3})/.test(a);)a=a.replace(/(-?[0-9]+)([0-9]{3})/,"$1,$2");return a},function(){var a=[];$.fn.jsLotteCounter=function(b,c,d){var e=$(this).attr("id");$(this).append('<div class="restDate"></div><div class="timer '+c+'"><div class="hours"><span>0</span><span>0</span></div><div class="min"><span>0</span><span>0</span></div><div class="sec"><span>0</span><span>0</span></div></div>'),$syear=serverTime.slice(0,4),$smon=serverTime.slice(4,6),$sday=serverTime.slice(6,8),$sdate=new Date(1*$syear,1*$smon-1,1*$sday,1*serverTime.slice(8,10),1*serverTime.slice(10,12),1*serverTime.slice(12,14)),$edate=new Date(1*b.slice(0,4),1*b.slice(4,6)-1,1*b.slice(6,8),1*b.slice(8,10),1*b.slice(10,12),1*b.slice(12,14)),$("#"+e+"> .restDate").html($edate-$sdate),changeTimer(e,$edate-$sdate),a.push({idObj:e,funcObj:d}),1==a.length&&startTimer()},startTimer=function(){var b=window.setInterval(function(){if(a.length>0){var c,d,e=0;for(e;e<a.length;e++)c=$("#"+a[e].idObj+"> .restDate"),d=c.html(),d-=1e3,c.html(d),d>=0?a[e].funcObj(a[e].idObj,d):a.splice(e--,1)}else clearInterval(b)},1e3)},changeTimer=function(a,b){var c=Math.floor(b/864e5),d=Math.floor((b-864e5*c)/36e5),e=Math.floor((b-(864e5*c+36e5*d))/6e4),f=(b-(864e5*c+36e5*d+6e4*e))/1e3,g=24*c+d,h=e,i=f;setSpanNumber($("#"+a+"> .timer > .hours > span:eq(0)"),setDigit(g).slice(0,1)),setSpanNumber($("#"+a+"> .timer > .hours > span:eq(1)"),setDigit(g).slice(1,2)),setSpanNumber($("#"+a+"> .timer > .min > span:eq(0)"),setDigit(h).slice(0,1)),setSpanNumber($("#"+a+"> .timer > .min > span:eq(1)"),setDigit(h).slice(1,2)),setSpanNumber($("#"+a+"> .timer > .sec > span:eq(0)"),setDigit(i).slice(0,1)),setSpanNumber($("#"+a+"> .timer > .sec > span:eq(1)"),setDigit(i).slice(1,2))},setDigit=function(a){return(a+"").length<2?"0"+a:a+""},setSpanNumber=function(a,b){a.html(b)}}();
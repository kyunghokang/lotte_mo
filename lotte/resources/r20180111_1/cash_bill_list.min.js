!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter"]);d.controller("CashBillCtrl",["$scope","$window","$http","LotteCommon",function(a,c,d,e){function f(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}a.showWrap=!0,a.contVisible=!0,a.subTitle="영수증내역",a.isShowThisSns=!1,a.cashbillNoticeFlag=!1,a.ordnoParam=f("ord_no").replace("-","").replace("-",""),a.entrnoParam=f("entr_no");var g=e.receiptListData+"?ord_no="+a.ordnoParam+"&entr_no="+a.entrnoParam+"&grockle_yn="+f("grockle_yn")+"&grockle_mbr_no="+f("grockle_mbr_no");d.get(g).success(function(b){a.cashbillData=b.receiptIssueInfo,a.payKindData=b.receiptIssueInfo.payKind_list,a.orderDetailData=b.receiptIssueInfo.orderDetail_list.items,a.orderNumebr=a.cashbillData.orderNo.substr(0,4)+"-"+a.cashbillData.orderNo.substr(4,2)+"-"+a.cashbillData.orderNo.substr(6,2)+"-"+a.cashbillData.orderNo.substr(8,7),console.log("104-81-26067 : "+a.orderNumebr),a.coprNumber=a.orderDetailData[0].bman_reg_no.substr(0,3)+"-"+a.orderDetailData[0].bman_reg_no.substr(3,2)+"-"+a.orderDetailData[0].bman_reg_no.substr(5,5)}).error(function(a,b,c,d){console.log("Error Data : ",b,c,d)}),a.billNoticeClick=function(){a.cashbillNoticeFlag=!a.cashbillNoticeFlag},a.receiptClose=function(){parent.closePopup()},b.element(c).on("unload",function(){parent.closePopup()})}]),d.directive("lotteContainer",function(){return{templateUrl:"/lotte/resources_dev/mylotte/cscenter/m/cash_bill_list_container.html",replace:!0,link:function(a,b,c){a.popSelect_a=!1,a.popSelect_b=!1,a.receipt_LawsPop=function(b){"typeA"==b?a.popSelect_a=!0:a.popSelect_b=!0},a.lawsClosePop=function(){a.popSelect_a=!1,a.popSelect_b=!1}}}})}(window,window.angular);
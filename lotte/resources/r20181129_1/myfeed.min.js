!function(a,b,c){"use strict";var d=b.module("lotteSlider",[]);d.controller("LotteSlideCtrl",["$scope",function(b){b.getTranslateXCssObj=function(a,b){var c={"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-transform":"translateX("+a+"px)","-ms-transform":"translateX("+a+"px)","-moz-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)","-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""};return b&&b>0&&(c["-webkit-transition"]="-webkit-transform "+b+"ms",c["-moz-transition"]="-moz-transform "+b+"ms",c["-o-transition"]="-o-transform "+b+"ms",c.transition="transform "+b+"ms"),c},b.removeTranslateCSS=function(){return{"-webkit-backface-visibility":"","-moz-backface-visibility":"","backface-visibility":"","-webkit-transform":"","-ms-transform":"","-moz-transform":"",transform:""}},b.getCoordinates=function(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}},b.getTransXPos=function(b){var c=a.getComputedStyle(b.get(0)),d=new WebKitCSSMatrix(c.webkitTransform);return d.m41}}]),d.directive("lotteSlider",["$window","$timeout","$parse",function(a,c,d){return{controller:"LotteSlideCtrl",link:function(d,e,f,g){function h(){m=k.outerWidth(),l.css({display:"inline-block"}),n=l.outerWidth(),x=-(n-m);var a=d.getTransXPos;(a.x>0||a.x<x)&&i(0,500)}function i(a,b){l.css(d.getTranslateXCssObj(a,b)),k.trigger({type:"slide",posX:a,wrapWidth:m,contWidth:n})}function j(){k.on({"touchstart.lotteSlider":function(a){m=k.outerWidth(),n=l.outerWidth(),y=!1,z=!1,n>m&&(a.stopPropagation(),o=!0,q=d.getCoordinates(a),p=d.getTransXPos(l),t=Date.now())},"touchmove.lotteSlider":function(a){if(o){var b,c;if(r=d.getCoordinates(a),b=Math.abs(r.x-q.x),c=Math.abs(r.y-q.y),y||(z=b>c,y=!0),z){b>5&&a.preventDefault(),a.stopPropagation();var e=p+r.x-q.x;e>0?e/=3:x>e&&(e=x+(e-x)/3),i(e,0)}}},"touchend.lotteSlider":function(a){if(s=d.getCoordinates(a),o&&q.x!=s.x&&(Math.abs(q.x-s.x)>5&&a.preventDefault(),event.stopPropagation(),y=!1,z)){m=k.outerWidth();var b=d.getTransXPos(l);u=Date.now(),w=q.x>s.x?-1:1,v=u-t;var c=Math.abs(q.x-s.x),e=.4,f=c*e/v,g=b+m*f*w;g>0?g=0:x>g&&(g=x),(Math.abs(b-g)>30||0==g||g==x)&&i(g,500)}},"touchcancel.lotteSlider":function(a){}}),b.element(a).on("resize.lotteSlider orientationchange.lotteSlider",function(){h()})}var k=b.element(e),l=k.find(">").eq(0),m=k.width(),n=l.width(),o=!1,p=0,q=null,r=null,s=null,t=0,u=0,v=0,w=0,x=0;d.lotteSliderMoveXPos=function(a,b){m=k.width(),n=l.width(),a>0?a=0:Math.abs(a)>n-m&&(a=-(n-m)),b||(b=0),i(a,b)},d.reset=function(){o=!1,i(0,0),c(function(){h()})};var y=!1,z=!1;c(function(){h(),j()})}}}])}(window,window.angular),function(a,b,c){"use strict";var d=b.module("lotteUtil");d.service("LotteConsole",[function(){var a="m.lotte.com"==location.hostname?!0:!1;this.log=function(){a||console.log.apply(console,arguments)},this.warn=function(){a||console.warn.apply(console,arguments)},this.error=function(){a||console.error.apply(console,arguments)},this.info=function(){a||console.info.apply(console,arguments)},this.traceObj=function(b,c,d,e){if(!a){var f=e||"#fff",g=d||"#444",h="color:"+f+"; background-color:"+g+"; padding: 1px 5px; border-radius: 5px;";console.group.call(console,"%c---"+c+"-------------------------------------------------------",h),console.log(b),console.groupEnd&&console.groupEnd()}}}])}(window,window.angular);var isSwipeActive=!1,isSwipeLock=!1,isLoadingData=!1,LeftSwipeStartExec=!1,RightSwipeStartExec=!1;!function(a,b,c){"use strict";var d=[],e=b.module("lotteNgSwipe",[]);e.controller("lotteNgSwipeCtrl",["$scope",function(a){}]),e.factory("lotteNgSwipe",["$interval","$timeout","$window",function(c,d,e){function f(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}}function g(c,d,e){if(e.SLIDE_SWIPE){var f=d[0].offsetWidth-e.LEFT_MARGIN-e.RIGHT_MARGIN;0==f&&(f=a.innerWidth);var g=f/e.DISP_COUNT,h=0;if(s=d[0].offsetWidth-g-e.LEFT_MARGIN,!(d.find("ul, ol").eq(0).find(">li").length>=1||d.find(">li").length>=1)||e.LOADING_ELEMENT||e.LEFT_ELEMENT||e.RIGHT_ELEMENT)e.LOADING_ELEMENT||b.element(d).eq(0).css(q());else{if(-1!=d.context.className.indexOf("recommond_swipe"))var i=d.find(">li");else var i=d.find("ul, ol").eq(0).find(">li").length>1?d.find("ul, ol").eq(0).find(">li"):d.find(">li");var j=c,k=0,l=null;for(k;k<i.length;j++,k++)l=i.eq(j),h=j>=k||0>j?0>j?g*d.find(">li").length+e.LEFT_MARGIN+(e.EDGE_LAST&&c==i.length-1?s:0):g*k+e.LEFT_MARGIN+(e.EDGE_LAST&&c==i.length-1?s:0):g*-(c-j)+e.LEFT_MARGIN+(e.EDGE_LAST&&c==i.length-1?s:0),-1!=d.context.className.indexOf("latest_swipe")&&a.innerWidth>=640?(f=a.innerWidth,l.css({width:f/2,backfaceVisibility:"hidden",position:"absolute",left:h})):l.css({width:f/e.DISP_COUNT,backfaceVisibility:"hidden",position:"absolute",left:h}),j+1>=d.find(">li").length&&(j=-1);t=i.length,b.element(d).eq(0).css(p(0)),b.element(d).find(">li").css("top",0).eq(0).css("position","relative")}}}function h(a){for(var b={totalwidth:0,width:[],paddingleft:[],marginleft:[],paddingright:[],marginright:[]},c=0;c<a.find(">li").length;c++){var d=a.find(">li:eq("+c+")");b.width[c]=parseInt(d.width()),b.width[c]+=b.marginleft[c]=parseInt(d.css("margin-left")),b.width[c]+=b.marginright[c]=parseInt(d.css("margin-right")),b.width[c]+=b.paddingleft[c]=parseInt(d.css("padding-left")),b.width[c]+=b.paddingright[c]=parseInt(d.css("padding-right")),b.totalwidth+=b.width[c]}return b}function i(b){var c=a.getComputedStyle(b.get(0)),d=new WebKitCSSMatrix(c.webkitTransform);return d.m41}function j(a,c,d,e){isSwipeActive=!0,b.element(a).on(u,function(a){isSwipeActive=!1,c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),b.element(this).css(r()).off(u)}).css(p(0,c.SWIPE_SPEED)),(c.LOADING_ELEMENT||c.LEFT_ELEMENT||c.LEFT_ELEMENT)&&b.element(c.LOADING_ELEMENT).css(p(0,c.SWIPE_SPEED))}function k(c,d,e,f){var g=h(c);if(a.innerWidth-d.LEFT_MARGIN-d.RIGHT_MARGIN>g.totalwidth)return!1;for(var j=a.innerWidth/2,k=g.width[e]/2,m=0,n=0;n<g.width.length&&n!=e;n++)m+=g.width[n];var o=i(c),q=-1*(m-j+k);f?(q>0?q=0:q<-(g.totalwidth-a.innerWidth+d.RIGHT_MARGIN)&&(q=-(g.totalwidth-a.innerWidth+d.RIGHT_MARGIN)),b.element(c).eq(0).css(p(q))):Math.abs(m)>j&&g.totalwidth-a.innerWidth+d.RIGHT_MARGIN>Math.abs(q)?l(c[0],d,o,q):Math.abs(m)<=j?l(c[0],d,o,0):l(c[0],d,o,-1*(g.totalwidth-a.innerWidth)-d.RIGHT_MARGIN)}function l(a,c,d,e){return d==e?!0:(b.element(a).on(u,function(a){c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),b.element(this).css(r()).off(u)}).css(p(e,c.SWIPE_SPEED)),void(c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(p(e,c.SWIPE_SPEED))))}function m(a,c,d,e){isSwipeActive=!0,b.element(a).on(u,function(a){isSwipeActive=!1,c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),b.element(this).css(r()).off(u)}).css(p(d>=0?e:-e,c.SWIPE_SPEED)),c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(p(d>=0?e:-e,c.SWIPE_SPEED))}function n(a,c,d,e,f){return 0>d?f=f+c.DISP_COUNT>c.MAX_SLIDE?c.MAX_SLIDE:f+c.DISP_COUNT:f-=c.DISP_COUNT,c.EDGE_LAST&&(f==t-1||f==t-2&&d>0)&&(e-=s),b.element(a).on(u,function(d){c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(r()),g(f,a,c),b.element(this).css(r()).off(u)}).css(p(d>=0?e:-e,c.SWIPE_SPEED)),c.LOADING_ELEMENT&&b.element(c.LOADING_ELEMENT).css(p(d>=0?e:-e,c.SWIPE_SPEED)),f}function o(b,c,d){var e=i(b);return e>0?(m(b[0],c,e,0),e=0):Math.abs(e)+a.innerWidth>Math.abs(d.totalwidth)+c.RIGHT_MARGIN&&(m(b[0],c,e,d.totalwidth-a.innerWidth+c.RIGHT_MARGIN),e=-1*(d.totalwidth-a.innerWidth)),e}function p(a,b){var c={"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-transform":"translateX("+a+"px)","-ms-transform":"translateX("+a+"px)","-moz-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)","-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""};return b&&b>0&&(c["-webkit-transition"]="-webkit-transform "+b+"ms",c["-moz-transition"]="-moz-transform "+b+"ms",c["-o-transition"]="-o-transform "+b+"ms",c.transition="transform "+b+"ms"),c}function q(){return{"-webkit-backface-visibility":"","-moz-backface-visibility":"","backface-visibility":"","-webkit-transform":"","-ms-transform":"","-moz-transform":"",transform:""}}function r(a){return a||(a=""),{"-webkit-transition":a,"-moz-transition":a,"-o-transition":a,transition:a}}var s=0,t=0,u="transitionend.ngswipe webkitTransitionEnd.ngswipe oTransitionEnd.ngswipe MSTransitionEnd.ngswipe";return{unbind:function(a){a.off("touchstart.ngswipe mousedown.ngswipe touchcancel.ngswipe touchmove.ngswipe mousemove.ngswipe touchend.ngswipe mouseup.ngswipe")},bind:function(d,g,k){var l,r,u,v,w=d[0],x=!1,y=g.FIRST_INDEX,z=b.element(d).scope(),A=!1,B=!1,C=[],D=0,E=0,F=0,G=!0,H=(g.DISP_COUNT,navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1),I=!0,J=30,K=b.element(e).scrollTop();g.SLIDE_MENU_SWIPE&&b.element(w).css(p(0)),d.on("touchstart.ngswipe mousedown.ngswipe",function(c){if(c.stopPropagation(),H){var j=b.element(e).scrollTop();j+J>K&&K>j-J?I=!0:(I=!1,K=j)}A=!1,B=!1,g.SLIDE_MENU_SWIPE&&(C=h(d),G=a.innerWidth-g.LEFT_MARGIN-g.RIGHT_MARGIN>C.totalwidth?!1:!0),isSwipeLock||G&&(a.innerWidth>=900&&g.RESPONSIVE_SWIPE?g.DISP_COUNT=g.RESPONSIVE_SWIPE_900:a.innerWidth>=640&&g.RESPONSIVE_SWIPE?g.DISP_COUNT=g.RESPONSIVE_SWIPE_640:g.RESPONSIVE_SWIPE&&(g.DISP_COUNT=g.RESPONSIVE_SWIPE_320),g.MAX_SLIDE=d.find(">li").length-1,(!(g.MAX_SLIDE<1)||g.LOADING_ELEMENT||g.LEFT_ELEMENT||g.RIGHT_ELEMENT)&&(u=f(c),u.x+=g.EDGE_LAST&&y==t-1?s:0,x=!0,l=0,r=0,isSwipeActive=!0,v=u,y=z.swipeIdx,E=(new Date).getTime(),g.SLIDE_MENU_SWIPE&&(C=h(d),D=i(d)),k.start&&k.start(u,c),g.LOADING_ELEMENT&&b.element(g.LOADING_ELEMENT).css({position:"fixed",zIndex:g.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-w.offsetTop,height:a.innerHeight-w.offsetTop,width:"100%",left:w.offsetWidth,right:"auto"}).removeClass("none"),g.LEFT_ELEMENT&&b.element(g.LEFT_ELEMENT).css({position:"fixed",zIndex:g.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-w.offsetTop,height:a.innerHeight-w.offsetTop,width:"100%",left:w.offsetWidth,right:"auto"}).removeClass("none"),g.RIGHT_ELEMENT&&b.element(g.RIGHT_ELEMENT).css({position:"fixed",zIndex:g.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-w.offsetTop,height:a.innerHeight-w.offsetTop,width:"100%",left:w.offsetWidth,right:"auto"}).removeClass("none")))}),d.on("touchcancel.ngswipe",function(a){x=!1,j(w,g,u,v)}),d.on("touchmove.ngswipe mousemove.ngswipe",function(a){if(x&&G&&u){var c=f(a);c.x+=g.EDGE_LAST&&y==t-1?s:0,l+=Math.abs(c.x-v.x),r+=Math.abs(c.y-v.y),v=c;var d,e;d=Math.abs(c.x-u.x),e=Math.abs(c.y-u.y),A||(B=d>e,A=!0);var h=v.x-u.x;if(h>0?a.moveto="right":a.moveto="left",B&&(I||!H)){a.preventDefault(),a.stopPropagation();g.SLIDE_MENU_SWIPE?b.element(w).css(p(c.x-u.x+D)):b.element(w).css(p(c.x-u.x)),g.LOADING_ELEMENT&&b.element(g.LOADING_ELEMENT).css(b.extend({left:c.x-u.x<=0?w.offsetWidth:"auto",right:c.x-u.x<=0?"auto":w.offsetWidth},p(c.x-u.x))),"left"==a.moveto?(g.RIGHT_ELEMENT&&b.element(g.RIGHT_ELEMENT).css(b.extend({left:c.x-u.x<=0?w.offsetWidth:"auto",right:c.x-u.x<=0?"auto":w.offsetWidth},p(0))),g.LEFT_ELEMENT&&b.element(g.LEFT_ELEMENT).css(p(0))):(g.LEFT_ELEMENT&&b.element(g.LEFT_ELEMENT).css(b.extend({left:c.x-u.x<=0?w.offsetWidth:"auto",right:c.x-u.x<=0?"auto":w.offsetWidth},p(0))),g.RIGHT_ELEMENT&&b.element(g.RIGHT_ELEMENT).css(p(0))),k.move&&k.move(c,a)}}}),d.on("touchend.ngswipe mouseup.ngswipe",function(h){if(h.stopPropagation(),A=!1,B&&(I||!H)){if(!x||!G)return;x=!1,isSwipeActive=!1;var i=d[0].offsetWidth,l=Math.abs(v.x-u.x),r=v.x-u.x;if(F=(new Date).getTime(),r>0?h.moveto="right":h.moveto="left",h.max=g.MAX_SLIDE,g.SLIDE_MENU_SWIPE){var z=v.x-u.x+D,J=-80,L="left"==h.moveto?z+J:z-J,M="left"==h.moveto?-5:5;if(Math.abs(v.x-u.x)>5&&400>=F-E)var N=c(function(){z+=M,b.element(d).eq(0).css(p(z)),(L>=z&&"left"==h.moveto||z>=L&&"right"==h.moveto||z>0||z<=-C.totalwidth+a.innerWidth)&&(D=o(d,g,C),c.cancel(N))},10);else D=o(d,g,C)}else if(i*g.MAX_RATIO<=l){if(g.SLIDE_SWIPE){if(y>=g.MAX_SLIDE&&0>r||0>y&&r>0||0==y&&r>0||g.MAX_SLIDE+1<=g.DISP_COUNT||y+g.DISP_COUNT>g.MAX_SLIDE&&"left"==h.moveto)return void j(w,g,u,v+(g.EDGE_LAST&&y==t-1?s:0));if(g.SLIDE_SWIPE)var i=i-g.LEFT_MARGIN-g.RIGHT_MARGIN;y=n(d,g,r,i,y),h.idx=y}else m(w,g,r,i);var O=f(h);O.x+=g.EDGE_LAST&&y==t-1?s:0;k.end&&k.end(O,h)}else j(w,g,u,v),b.element(d).eq(0).css(q())}H&&(K=b.element(e).scrollTop(),I=!0),u=null})},moveSwipeX:n,positionReCalc:g,resetSwipe:j,moveMenuSwipe:k,getListInfo:h}}]),e.directive("lotteNgListSwipe",["$window","$parse","$timeout","lotteNgSwipe",function(e,f,g,h){return{link:function(i,j,k){function l(a,b){var c={"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-transform":"translateX("+a+"px)","-ms-transform":"translateX("+a+"px)","-moz-transform":"translateX("+a+"px)",transform:"translateX("+a+"px)","-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""};return b&&b>0&&(c["-webkit-transition"]="-webkit-transform "+b+"ms",c["-moz-transition"]="-moz-transform "+b+"ms",c["-o-transition"]="-o-transform "+b+"ms",c.transition="transform "+b+"ms"),c}function m(){var c=j[0];if(a.innerWidth>=900&&p.RESPONSIVE_SWIPE?p.DISP_COUNT=p.RESPONSIVE_SWIPE_900:a.innerWidth>=640&&p.RESPONSIVE_SWIPE?p.DISP_COUNT=p.RESPONSIVE_SWIPE_640:p.RESPONSIVE_SWIPE&&(p.DISP_COUNT=p.RESPONSIVE_SWIPE_320),p.LOADING_ELEMENT&&b.element(p.LOADING_ELEMENT).css("min-height",a.innerHeight-c.offsetTop+"px"),p.LEFT_ELEMENT&&b.element(p.LEFT_ELEMENT).css("min-height",a.innerHeight-c.offsetTop+"px"),p.RIGHT_ELEMENT&&b.element(p.RIGHT_ELEMENT).css("min-height",a.innerHeight-c.offsetTop+"px"),0!=i.swipeIdx&&p.DISP_COUNT>1){var d=i.swipeIdx%p.DISP_COUNT;0!=d&&(i.swipeIdx-=d)}if(i.swipeBulletIdx=parseInt(i.swipeIdx/p.DISP_COUNT),p.SLIDE_MENU_SWIPE){var e=h.getListInfo(j);e.width.length>1&&a.innerWidth-p.LEFT_MARGIN-p.RIGHT_MARGIN>e.totalwidth&&b.element(c).css(l(0))}p.LOADING_ELEMENT&&b.element(p.LOADING_ELEMENT).css({position:"fixed",zIndex:p.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-c.offsetTop,height:a.innerHeight-c.offsetTop,width:"100%",left:c.offsetWidth,right:"auto"}).removeClass("none"),p.LEFT_ELEMENT&&b.element(p.LEFT_ELEMENT).css({position:"fixed",zIndex:p.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-c.offsetTop,height:a.innerHeight-c.offsetTop,width:"100%",left:c.offsetWidth,right:"auto"}).removeClass("none"),p.RIGHT_ELEMENT&&b.element(p.RIGHT_ELEMENT).css({position:"fixed",zIndex:p.LOADING_ELEMENT_ZINDEX,minHeight:a.innerHeight-c.offsetTop,height:a.innerHeight-c.offsetTop,width:"100%",left:c.offsetWidth,right:"auto"}).removeClass("none"),i.ngswipeInit(),h.positionReCalc(i.swipeIdx,j,p)}function n(a,b){if(!(LeftSwipeStartExec&&"left"==a.moveto||RightSwipeStartExec&&"right"==a.moveto)){"left"==a.moveto?LeftSwipeStartExec=!0:RightSwipeStartExec=!0;var c=null;i.$apply(function(){return c=q(i.$parent,{$event:{idx:a.idx,max:b.MAX_SLIDE,moveto:a.moveto}})})}}function o(a,c){if(isSwipeActive)return g(function(){o(a,c)},100),!1;var d=null;i.$apply(function(){return d=r(i.$parent,{$event:{idx:a.idx,max:c.MAX_SLIDE,moveto:a.moveto}}),"translateX_Reset"==d&&g(function(){b.element(j).eq(0).css(l(0))},500),d})}var p={MAX_RATIO:k.swipeMaxRatio?k.swipeMaxRatio:.3,MIN_DISTANCE:k.swipeMinDistance?k.swipeMinDistance:25,SWIPE_LOOP:k.swipeLoop?k.swipeLoop:!1,LEFT_ELEMENT:k.swipeLeftEl?k.swipeLeftEl:null,RIGHT_ELEMENT:k.swipeRightEl?k.swipeRightEl:null,LOADING_ELEMENT:k.swipeLoadingEl?k.swipeLoadingEl:null,LOADING_ELEMENT_ZINDEX:k.swipeLoadingElZindex?k.swipeLoadingElZindex:50,SLIDE_SWIPE:k.swipeSlideItem?k.swipeSlideItem:!1,SLIDE_MENU_SWIPE:k.swipeSlideMenu?k.swipeSlideMenu:!1,RESPONSIVE_SWIPE:k.swipeResponsive?k.swipeResponsive:!1,RESPONSIVE_SWIPE_320:parseInt(k.swipeResponsive320)?parseInt(k.swipeResponsive320):1,RESPONSIVE_SWIPE_640:parseInt(k.swipeResponsive640)?parseInt(k.swipeResponsive640):2,RESPONSIVE_SWIPE_900:parseInt(k.swipeResponsive900)?parseInt(k.swipeResponsive900):2,AUTO_HEIGHT:k.swipeAutoheight?k.swipeAutoheight:!1,DISP_COUNT:k.swipeDispCount?parseInt(k.swipeDispCount):1,FIRST_INDEX:k.swipeFirstIndex?parseInt(k.swipeFirstIndex):0,LEFT_MARGIN:k.swipeLeftMargin?parseInt(k.swipeLeftMargin):0,RIGHT_MARGIN:k.swipeRightMargin?parseInt(k.swipeRightMargin):0,START_EXEC:k.swipeStartExec?k.swipeStartExec:null,EXEC:k.swipeEndExec?k.swipeEndExec:null,LIST_SCOPE:k.swipeListModel?k.swipeListModel:null,SWIPE_ID:k.swipeId?k.swipeId:"",MAX_SLIDE:0,SWIPE_SPEED:k.swipSpeed?k.swipSpeed:150,IGNORE_DESTORY:k.ignoreDestory?k.ignoreDestory:!1,EDGE_LAST:k.swipeEdgeLast?!0:!1};i.swipeIdx=p.FIRST_INDEX,i.swipeBulletIdx=parseInt(i.swipeIdx/p.DISP_COUNT),i.swipeBullet=[];var q=null,r=null;if(null!=p.START_EXEC&&(q=f(p.START_EXEC)),null!=p.EXEC&&(r=f(p.EXEC)),p.RESPONSIVE_SWIPE&&(p.DISP_COUNT=p.RESPONSIVE_SWIPE_320),p.SLIDE_MENU_SWIPE&&(i.moveMenuSwipe=function(a){i.moveMenuSwipeFnc(a,!1)},i.moveMenuSwipeFnc=function(a,b){h.moveMenuSwipe(j,p,a,b)}),p.SLIDE_MENU_SWIPE||p.SLIDE_SWIPE||(i.translateX_Reset=function(){console.log("스와이프 좌표 리셋"),b.element(j).eq(0).css(l(0)),p.LOADING_ELEMENT&&b.element(p.LOADING_ELEMENT).css(l(0))}),i.setSlide=function(a){0>a?a=p.MAX_SLIDE:a>p.MAX_SLIDE&&(a=0),i.swipeIdx=a,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC))},i.goSlide=function(a){h.positionReCalc(a,j,p),i.swipeIdx=i.swipeBulletIdx=a,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC))},i.nextSlide=function(){i.swipeIdx!=p.MAX_SLIDE&&(h.moveSwipeX(j,p,-1,j[0].offsetWidth-10,i.swipeIdx),i.swipeIdx+=p.DISP_COUNT,i.swipeBulletIdx++,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC)))},i.beforeSlide=function(){0!=i.swipeIdx&&(h.moveSwipeX(j,p,1,j[0].offsetWidth-10,i.swipeIdx),i.swipeIdx-=p.DISP_COUNT,i.swipeBulletIdx--,null!=p.EXEC&&(r(i.$parent,{$event:{idx:i.swipeIdx,max:p.MAX_SLIDE}}),console.log("Call swipe exec. "+p.EXEC)))},i.ngswipeInit=function(){if(p.SLIDE_SWIPE){i.swipeBullet=[],p.MAX_SLIDE=j.find(">li").length;for(var a=0;a<p.MAX_SLIDE/p.DISP_COUNT;a++)i.swipeBullet.push(a)}p.MAX_SLIDE<i.swipeIdx?(i.swipeIdx=p.FIRST_INDEX,i.swipeBulletIdx=parseInt(p.FIRST_INDEX/p.DISP_COUNT),h.positionReCalc(i.swipeIdx,j,p),g(function(){i.$apply()})):i.swipeIdx||(i.swipeBulletIdx=parseInt(p.FIRST_INDEX/p.DISP_COUNT),i.swipeIdx=p.FIRST_INDEX,g(function(){i.$apply()}))},i.resetSwipePos=function(){h.positionReCalc(i.swipeIdx,j,p)},null!=p.LIST_SCOPE){var s=null;i.$watch(p.LIST_SCOPE,function(a,b){if(a!=c&&a.length>=1){if(s!=a[0]&&(i.swipeIdx=0,i.swipeBulletIdx=0,s=a[0]),"recommondSwipe_0"==k.swipeId||"lastestSwipe_0"==k.swipeId)var d=2e3;else var d=100;g(function(){i.ngswipeInit(),h.positionReCalc(i.swipeIdx,j,p)},d)}},!0)}m(),-1==d.indexOf(p.SWIPE_ID)&&d.push(p.SWIPE_ID);var t=b.element(e);t.on("orientationchange.ngswipe resize.ngswipe",m),i.$on("$destroy",function(){h.unbind(j)}),h.bind(j,p,{start:function(a,b){},move:function(a,b){return null!=p.START_EXEC?(isLoadingData=!0,n(b,p)):void 0},cancel:function(){isLoadingData=!1},end:function(a,b){return isLoadingData=!1,LeftSwipeStartExec=!1,RightSwipeStartExec=!1,i.swipeIdx=b.idx?b.idx:0,i.swipeBulletIdx=parseInt(b.idx/p.DISP_COUNT),i.$apply(),null!=p.EXEC?o(b,p):void 0}})}}}])}(window,window.angular),function(a,b,c){"use strict";var d=b.module("lotteUtil");d.service("MyFeedService",["$http","$timeout","$q","LotteCommon","$sessionStorage","commInitData","LotteStorage","LotteConsole","LotteCookie",function(a,b,c,d,e,f,g,h,i){function j(){return p?"&mbr_no="+q:""}function k(){return"&gender="+r}function l(){if("A"==s)return"&age="+s;if(20>s)return"&age=20";if(s>=60)return"&age=50";try{s=10*Math.floor(s/10)}catch(a){s="A"}return"&age="+s}function m(a){for(var b=new String,c=0;c<a.length;c++)c>0&&(b+=","),b+=a[c];return b}var n=this,o={},p=!1,q="",r="",s="";this.setLoginInfo=function(a){o=a,q=(p?f.query.mbr_no:o.mbrNo)||"",r=(p?f.query.gender:o.genSctCd)||"",s=(p?f.query.age:o.mbrAge)||"A"},this.loadRecentlyInit=function(b){var e=c.defer(),f=d.myfeedDataUrl+"?type=P1&mode=1&latest_prod="+b+j();return d.isTestFlag&&(f="/json/myfeed/recently.json"),a.get(f).success(function(a){e.resolve(a)}).error(function(a,b,c,d){console.log("recently init error ",a),e.reject("recently init error")}),e.promise},this.loadRecentlyData=function(b,e){var f=c.defer();if("Y"==e){var g=0,h="",i="";n.loadRecentlyRecom(b).then(function(a){h=a})["catch"](function(a){console.log("최근본 상품 추천 레코벨 error ",a)})["finally"](function(){g++,2==g&&n.loadRecentlyPrd(b,e,h,i).then(function(a){f.resolve(a)})["catch"](function(a){console.log("최근본 상품 추천 Prd error ",a),f.reject("최근본 상품 추천 Prd 로드 실패")})}),n.loadRecentlyPlan(b).then(function(a){i=a})["catch"](function(a){console.log("최근본 상품 추천 기획전 레코벨 error ",a)})["finally"](function(){g++,2==g&&n.loadRecentlyPrd(b,e,h,i).then(function(a){f.resolve(a)})["catch"](function(a){console.log("최근본 상품 추천 Prd error ",a),f.reject("최근본 상품 추천 Prd 로드 실패")})})}else{var k=d.myfeedDataUrl+"?type=P1&mode=0&recobellYn=N"+j();d.isTestFlag&&(k="/json/myfeed/recently.json"),a.get(k).success(function(a){f.resolve(a)}).error(function(a,b,c,d){console.log("recently product error ",a),f.reject("recently product error")})}return f.promise},this.loadRecentlyPrd=function(b,e,f,g){var h=c.defer(),i=d.myfeedDataUrl+"?type=P1&mode=0&recobellYn="+e+"&latest_prod="+b+"&latest_prod_recomm="+f+"&spdp_no_list="+g+j();return d.isTestFlag&&(i="/json/myfeed/recently.json"),a.get(i).success(function(a){h.resolve(a)}).error(function(a,b,c,d){console.log("recently product error ",a),h.reject("recently product error")}),h.promise},this.loadRecentlyRecom=function(a){var b=c.defer(),e=d.rec_good+"&size=30&iids=",f="";return $.ajax({type:"post",async:!0,url:e+a,dataType:"jsonp",success:function(a){if(a.results&&a.results.length>0){for(var b=[],c=0;c<a.results.length;c++)b.push(a.results[c].itemId);f=b.join(",")}},error:function(a,b,c){console.log("recently a002 error  "+a)},complete:function(){b.resolve(f)}}),b.promise},this.loadRecentlyPlan=function(a){var b=c.defer(),e=d.rec_plan+"&size=10&iids=",f="";return $.ajax({type:"post",async:!0,url:e+a,dataType:"jsonp",success:function(a){if(a.results&&a.results.length>0){for(var b=[],c=0;c<a.results.length;c++)b.push(a.results[c].itemId);f=b.join(",")}},error:function(a,b,c){console.log("recently a101 error  "+a)},complete:function(){b.resolve(f)}}),b.promise},this.loadOrderData=function(){var b=c.defer(),e=d.myfeedDataUrl+"?type=P2&mode=1"+j();return d.isTestFlag&&(e="/json/myfeed/order.json"),a.get(e).success(function(a){if(!(a&&a.data&&a.data.cart_recomm_list&&a.data.cart_recomm_list.prdList&&a.data.cart_recomm_list.prdList.items&&0!=a.data.cart_recomm_list.prdList.items.length))return b.reject("구매한 상품 데이타 로드 실패"),b.promise;for(var c=a.data.cart_recomm_list,d=0,e=0,f=0,g=c.prdList.items.length>3?3:c.prdList.items.length,h=0;g>h&&!(c.prdList.items[h].goodsNo&&(d++,n.loadOrderRecom(c.prdList.items[h].goodsNo,h).then(function(a){a&&a.data&&a.data.goods_list_1&&a.data.goods_list_1.prdList&&a.data.goods_list_1.prdList.items&&a.data.goods_list_1.prdList.items.length>2&&f++,c.prdList.items[a.idx].subItem=a.data.goods_list_1.prdList.items||[],e++,e==g&&(0==f?c.hasSub=!1:c.hasSub=!0,b.resolve(c))})["catch"](function(a){console.log("Order 추천 error ",a),b.reject("구매한 추천 데이타 로드 실패")}),d>=3));h++);}).error(function(){console.log("Data Error : Order 4.0 실패"),b.reject("구매 데이타 로드 실패")}),b.promise},this.loadOrderRecom=function(b,e){var f=c.defer(),g=d.rec_buy+"&size=10&iids="+b;return $.ajax({type:"post",async:!0,url:g,dataType:"jsonp",success:function(b){if(null!=b.results&&b.results.length>0){var c="",g=new Array;$(b.results).each(function(a,b){g.push(b.itemId)}),c=m(g);var h=d.myfeedDataUrl+"?type=P3&mode=1&limit_1=6&goods_nos_1="+c;d.isTestFlag&&(h="/json/myfeed/wishRecom.json"),a.get(h).success(function(a){a.idx=e,f.resolve(a)}).error(function(){console.log("Data Error : order 상품 데이타 로드 실패"),f.reject("order 상품 데이타 로드 실패")})}else f.reject("order recobell 로드 실패")},error:function(a,b,c){console.log("Data Error : order recobell 로드 실패"),f.reject("order recobell 로드 실패")}}),f.promise},this.loadCardData=function(){var b=c.defer(),e=d.myfeedDataUrl+"?type=P2&mode=2"+(o.isLogin?j():"");return d.isTestFlag&&(e="/json/myfeed/card.json"),a.get(e).success(function(a){b.resolve(a)}).error(function(){console.log("Data Error : 카드 데이타 로드 실패"),b.reject("카드 데이타 로드 실패")}),b.promise},this.loadPushData=function(){var b=c.defer(),e=encodeURIComponent(g.getLocalStorage("amlist"))||"",f="/json/planshop/smart_alarm_list.json?c=mlotte&udid=&v=&cn=&cdn=&schema=&amlist="+e;return d.isTestFlag&&(f="/json/myfeed/push.json"),a.get(f).success(function(c){var e=c;if(!e)return b.reject("재고/신상품 상품 로드 실패"),b.promise;var f=d.myfeedDataUrl+"?type=P2&mode=3";d.isTestFlag&&(f="/json/myfeed/pushTitle.json"),a.get(f).success(function(a){a&&a.data&&a.data.goods_alarm_list?(e.title=a.data.goods_alarm_list.txt||"",b.resolve(e)):b.reject("재고/신상품 제목 로드 실패")}).error(function(){console.log("Data Error : 재고/신상품 제목 로드 실패"),b.reject("재고/신상품 제목 로드 실패")})}).error(function(){console.log("Data Error : 재고/신상품 상품 로드 실패"),b.reject("재고/신상품 상품 로드 실패")}),b.promise},this.loadWishData=function(b){var e=c.defer(),f=d.myfeedDataUrl+"?type=P2&mode=4&latest_prod="+b+j();return d.isTestFlag&&(f="/json/myfeed/wish.json"),a.get(f).success(function(a){e.resolve(a)}).error(function(){console.log("Data Error : 찜한 상품 로드 실패"),e.reject("찜한 상품 로드 실패")}),e.promise},this.loadWishRecom=function(b){var e=c.defer(),f=d.rec_good+"&size=10&iids="+b;return $.ajax({type:"post",async:!0,url:f,dataType:"jsonp",success:function(b){var c="",f=new Array;if(null!=b.results&&b.results.length>0){$(b.results).each(function(a,b){f.push(b.itemId)}),c=m(f);var g=d.myfeedDataUrl+"?type=P3&mode=1&limit_1=3&goods_nos_1="+c;d.isTestFlag&&(g="/json/myfeed/wishRecom.json"),a.get(g).success(function(a){e.resolve(a)}).error(function(){console.log("Data Error : 찜 상품 데이타 로드 실패"),e.reject("찜 상품 데이타 로드 실패")})}else e.reject("찜 추천 데이타 로드 실패")},error:function(a,b,c){e.reject("찜 추천 데이타 로드 실패")}}),e.promise},this.loadBrandData=function(){var b=c.defer(),e=d.myfeedDataUrl+"?type=P4&mode=1"+j()+l()+k();return d.isTestFlag&&(e="/json/myfeed/brand.json"),a.get(e).success(function(a){if(a&&a.data&&a.data.brnd_recomm_list&&a.data.brnd_recomm_list.prdList&&a.data.brnd_recomm_list.prdList.items&&a.data.brnd_recomm_list.prdList.items.length>0)for(var c=a.data.brnd_recomm_list.prdList.items,d=0,e=0,f=c.length>3?3:c.length,g=0;f>g&&!(c[g].brdNo&&(d++,n.loadBrandPrd(c[g].brdNo,g).then(function(c){a.data.brnd_recomm_list.prdList.items[c.idx].subItem=c.max.prdLst.items,e++,e==f&&b.resolve(a)})["catch"](function(a){console.log("브랜드 추천 error ",a),b.reject("브랜드 추천 데이타 로드 실패")}),d>=3));g++);else b.resolve(a)}).error(function(){console.log("Data Error : 브랜드 로드 실패"),b.reject("브랜드 상품 로드 실패")}),b.promise},this.loadBrandPrd=function(b,e){var f=c.defer(),g="/json/category/new_cate_search_list.json?dispCnt=10&dpml_no=1&loadTerm=true&page=1&pageType=B&sort=TOT_ORD_CNT,1&upBrdNo="+b;return d.isTestFlag&&(g="/json/myfeed/brandPrd.json"),a.get(g).success(function(a){a.idx=e,f.resolve(a)}).error(function(){console.log("Data Error : 브랜드 검색 상품 로드 실패"),f.reject("브랜드 검색 상품 로드 실패")}),f.promise},this.loadSearchRecom=function(b){var e=c.defer(),f="";if("string"==typeof b&&b.length>0&&(f=b),""==f){var h=g.getLocalStorage("myWord2016");if(null==h||""==h)return e.reject("검색키워드 없음"),e.promise;for(var i=JSON.parse(h),j=0;j<i.list.length;j++)if(i.list[j].keytxt){f=i.list[j].keytxt;break}}var k=d.rec_search+"&size=15&st="+f;return $.ajax({type:"post",async:!0,url:k,dataType:"jsonp",success:function(b){if(b&&b.results&&b.results.length>2){for(var c="",g=0;g<b.results.length;g++)c+=(g>0?",":"")+b.results[g].itemId;var h=d.myfeedDataUrl+"?type=P3&mode=1&limit_1=15&goods_nos_1="+c;d.isTestFlag&&(h="/json/myfeed/search_prd.json"),a.get(h).success(function(a){a.keyword=f,f.length>7&&(a.keyword=f.substr(0,7)+"..."),e.resolve(a)}).error(function(){console.log("Data Error : 검색 상품 데이타 로드 실패"),e.reject("검색 상품 데이타 로드 실패")})}else e.reject("검색 recobell 데이타 로드 실패")},error:function(a,b,c){console.log("Data Error : 검색 recobell Data로드 실패"),e.reject("검색 recobell Data로드 실패")}}),e.promise},this.loadCategory=function(){var b=c.defer(),e=l(),f=d.myfeedDataUrl+"?type=P4&mode=3"+j()+e+k();return d.isTestFlag&&(f="/json/myfeed/category.json"),a.get(f).success(function(a){var c=a;if(a&&a.data&&a.data.txt&&e.indexOf("A")<0&&a.data.txt.indexOf("성")>0){var d=a.data.txt.split("성");c.data.user=d[0]+"성",c.data.txt=d[1]}b.resolve(c)}).error(function(){console.log("Data Error : 카테고리 로드 실패"),b.reject("카테고리 상품 로드 실패")}),b.promise}}])}(window,window.angular),function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteSideMylotte","lotteCommFooter","lotteSlider","lotteNgSwipe","lotteUtil"]);d.controller("MyFeedCtrl",["$scope","$window","$interval","$timeout","$filter","LotteCommon","LotteStorage","MyFeedService","LotteConsole","LotteUserService","commInitData","$http","LotteForm",function(c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a){if(!a||0==a.length)return[];var b={imgUrl:c.screenType>1?"http://image.lotte.com/lotte/mo2017/myfeed/recomm_more_big.jpg":"http://image.lotte.com/lotte/mo2017/myfeed/recomm_more.jpg"};a.length%3!=0&&(a.push(b),a.length%3!=0&&a.push(b));for(var d=a.length,e=[],f=-1,g=0;d>g;g++)g%3==0&&(f++,e[f]=[]),e[f].push(a[g]);return e}function q(a){return!a||a.length<3?[]:(a.length%3!=0&&(a.pop(),a.length%3!=0&&a.pop()),a)}function r(a){if(!a||0==a.length)return[];for(var b=a.length,c=[],d=-1,e=0;b>e;e++)e%6==0&&(d++,c[d]=[]),c[d].push(a[e]);return c}function s(a){if(!a||isNaN(a))return a;if(a.length>8||a%1e4!=0)return a;var b=a.substr(0,a.length-4);return b+"만원"}function t(){var a=10*Math.floor(c.loginInfo.mbrAge/10);10>a&&(a=10);var d="/json/mylotte/my_brand_list.json?gender="+c.loginInfo.genSctCd+"&age="+a;n.get(d).success(function(a){if(a&&a.data&&a.data.brndList&&a.data.brndList.items){c.favoriteBrand.brandList=a.data.brndList.items,c.favoriteBrand.available=c.favoriteBrand.brandList.length;try{b.forEach(c.favoriteBrand.brandList,function(a){a.upBrdNo=a.linkUrl.split("upBrdNo=")[1].split("&")[0]})}catch(d){}c.favoriteBrand.title=a.data.title,c.changeFavBrand()}else console.warn("my_brand_list empty")}).error(function(a,b,c,d){console.warn("my_brand_list error  "+a)})}function u(){var a=c.favoriteBrand.curBrand.brdNo,b="http://rb-rec-api-apne1.recobell.io/rec/b004?size=10&cps=false&format=jsonp&cuid=fdd29847-94cd-480d-a0d9-16144485d58b&bids="+a;$.ajax({type:"post",async:!0,url:b,dataType:"jsonp",success:function(a){if(a&&a.results){for(var b=[],c=a.results.length,d=0;c>d;d++)b.push(a.results[d].itemId);v(b)}else v([])},error:function(a,b,d){c.favoriteBrand.curBrand.prodList=[],v([]),console.warn("recobell b004 error  "+a)}})}function v(a){var b=c.favoriteBrand.curBrand.brdNo,d="/json/mylotte/recomm_brand_prd_list.json?brnd_no="+b+"&goods_list="+a.join(",");n.get(d).success(function(a){a&&a.data&&a.data.prdList&&a.data.prdList.items&&a.data.prdList.items.length>0?(a.data.prdList.items.length>6&&(a.data.prdList.items.length=6),c.favoriteBrand.curBrand.prodList=a.data.prdList.items,c.favoriteBrand.curBrand.prodList.length<6&&(console.warn("recomm_brand_prd_list less than 6"),w())):(c.favoriteBrand.curBrand.prodList=[],console.warn("recomm_brand_prd_list empty"),w())}).error(function(a){c.favoriteBrand.curBrand.prodList=[],console.warn("recomm_brand_prd_list error "+a),w()})}function w(){var a=c.favoriteBrand.curBrand.upBrdNo,d="/json/category/new_cate_search_list.json?dispCnt=10&dpml_no=1&loadTerm=true&page=1&pageType=B&sort=TOT_ORD_CNT,1&upBrdNo="+a;
n.get(d).success(function(a){if(a&&a.max&&a.max.prdLst&&a.max.prdLst.items&&a.max.prdLst.items.length>0){a.max.prdLst.items.length>6&&(a.max.prdLst.items.length=6);var d=[];b.forEach(a.max.prdLst.items,function(a){d.push({goodsNo:a.goods_no,isPlanPrd:!1,goodsNm:a.goods_nm,imgUrl:a.img_url_550,price:a.discounted_price})});try{c.favoriteBrand.curBrand.prodList=c.favoriteBrand.curBrand.prodList.concat(d),c.favoriteBrand.curBrand.prodList.length>6&&(c.favoriteBrand.curBrand.prodList.length=6)}catch(e){c.favoriteBrand.curBrand.prodList=d}c.favoriteBrand.title="요즘 다른 고객들의 관심브랜드 인기상품",c.favoriteBrand.curBrand.prodList.length<6&&(console.warn("my_brand_exception less than 6",c.favoriteBrand.curBrand.brdNm),c.favoriteBrand.curBrand.skip=!0,c.changeFavBrand())}else console.warn("my_brand_exception empty"),c.favoriteBrand.curBrand.skip=!0,c.changeFavBrand()}).error(function(a,b,d,e){console.warn("my_brand_exception error"),c.favoriteBrand.curBrand.skip=!0,c.changeFavBrand()})}function x(){var a=c.favoriteBrand.curBrand.brdNo,b="http://rb-rec-api-apne1.recobell.io/rec/b002?size=10&cps=false&format=jsonp&cuid=fdd29847-94cd-480d-a0d9-16144485d58b&bids="+a;$.ajax({type:"post",async:!0,url:b,dataType:"jsonp",success:function(a){if(a&&a.results){for(var b=[],c=a.results.length,d=0;c>d;d++)b.push(a.results[d].itemId);y(b)}},error:function(a,b,d){c.favoriteBrand.relBrands.length=0,console.warn("recobell b002 error  "+a)}})}function y(a){if(!b.isArray(a)||0==a.length)return c.favoriteBrand.relBrands.length=0,void console.warn("recobell b002 empty",c.favoriteBrand.curBrand.brdNo);var d="/json/mylotte/recomm_brand_list.json?brand_list="+a.join(",");n.get(d).success(function(a){a&&a.data&&a.data.recommBrndList&&a.data.recommBrndList.items&&(a.data.recommBrndList.items.length>3&&(a.data.recommBrndList.items.length=3),c.favoriteBrand.relBrands=a.data.recommBrndList.items,f(function(){var a;b.forEach(b.element(".brand_wrap .swipe_wrap"),function(c,d){a=b.element(c),a.parent().addClass("posx0"),a.find("ul").css("transform","translateX(0)"),a.unbind("slide").bind("slide",function(a){a.posX>=0?b.element(this).parent().addClass("posx0"):b.element(this).parent().removeClass("posx0")})})}))}).error(function(a){c.favoriteBrand.relBrands.length=0,console.warn("recomm_brand_list error "+a)})}function z(a){if("string"!=typeof a)return void A();try{var b=a.split(","),c=b[0];A(c)}catch(d){}}function A(a){c.checkLoading(!0),j.loadSearchRecom(a).then(function(a){a&&a.data&&a.data.goods_list_1&&a.data.goods_list_1.prdList&&a.data.goods_list_1.prdList.items&&0!=a.data.goods_list_1.prdList.items.length&&(c.searchList=a)})["catch"](function(a){console.log("8 SearchRecom error ",a)})["finally"](function(){c.checkLoading()})}function B(){if(c.loginInfo.isLogin){var a="//analyticsapi.lotte.com/recomm?mbrNo="+c.loginInfo.mbrNo;$.ajax({type:"post",async:!0,url:a,dataType:"jsonp",success:function(a){if(a&&a.results){var b=a.results;b=g("orderBy")(b,"rank",!1);for(var c=[],d=b.length,e=0;d>e;e++)c.push(b[e].itemId);C(c)}},error:function(a,b,c){console.warn("analyticsdevapi/recomm error "+a)}})}}function C(a){if(!b.isArray(a)||0==a.length)return void console.warn("analyticsdevapi/recomm empty",c.favoriteBrand.curBrand.brdNo);var d="/json/mylotte/ds_recomm_prd_list.json?goods_list="+a.join(",");n.get(d).success(function(a){a&&a.data&&a.data.prdList&&a.data.prdList.items?(c.customRecomProd.origin=a.data.prdList.items,c.customRecomProd.page=0,c.customRecomProd.limit=0,c.customRecomProd.total=Math.ceil(c.customRecomProd.origin.length/c.customRecomProd.size),c.customRecomProdPaging()):console.warn("ds_recomm_prd_list empty "+a)}).error(function(a){console.warn("ds_recomm_prd_list error "+a)})}function D(){var a=i.getSessionStorage("lotteMyFeedData","json")||null;if("localhost"==location.host&&(a=null),j.setLoginInfo(c.loginInfo),c.locationHistoryBack&&a&&!h.isTestFlag)a.recently&&(c.recently=a.recently),a.recentlyRecom&&(c.recentlyRecom=a.recentlyRecom),a.recentlyPlan&&(c.recentlyPlan=a.recentlyPlan),a.orderRecom&&(c.orderRecom=a.orderRecom),a.pushProducts&&(c.pushProducts=a.pushProducts),a.wishes&&(c.wishes=a.wishes),a.wishesRecom&&(c.wishesRecom=a.wishesRecom),a.searchList&&(c.searchList=a.searchList),a.categoryList&&(c.categoryList=a.categoryList),c.callStatus=F.load_3,c.callCardData(),c.callBrandData(),a.customRecomProd&&a.customRecomProd.origin&&a.customRecomProd.origin.length>0?c.customRecomProd=a.customRecomProd:B();else{var e=i.getLocalStorage("latelyGoods")||"",f=e.split("|");e||(c.recently.hasLately="N");try{c.latelyGoods=f.join(",")}catch(g){}c.callRecentlyInit(c.latelyGoods),c.loginInfo.isLogin&&c.callOrderData()}b.element(d).on("unload",function(a){var b={};b.recently=c.recently,b.recentlyRecom=c.recentlyRecom,b.recentlyPlan=c.recentlyPlan,b.orderRecom=c.orderRecom,b.pushProducts=c.pushProducts,b.wishes=c.wishes,b.wishesRecom=c.wishesRecom,b.searchList=c.searchList,b.categoryList=c.categoryList,b.customRecomProd=c.customRecomProd,i.setSessionStorage("lotteMyFeedData",b,"json")})}function E(){var a=c.appObj,b=a.verNumber;if(!a.isApp)return!0;if(a.isIOS){var d=c.appObj.isSuperApp?4040:4030;if(d>b)return!1}return a.isAndroid&&407>b?!1:!0}c.screenID="MyReco",c.showWrap=!0,c.contVisible=!0,c.subTitle="",c.latelyGoods="",c.swipeCurIdx=0,c.wishSwipeCurIdx=0,c.recentlyRecomIdx=0,c.recently={hasLately:"Y"},c.recentlyRecom={},c.recentlyPlan={},c.orderRecom={},c.cardList=[],c.pushProducts={},c.wishes={},c.wishesRecom=[],c.brandList={},c.brandRecom={},c.searchList={},c.categoryList={},c.favoriteBrand={title:"",brandList:[],available:0,curBrand:{brdNo:0,brdNm:""},curIndex:-1,prodList:[],relBrands:[]},c.customRecomProd={origin:[],page:0,total:0,size:20,limit:0},c.gaCate="MO_마이추천_OLD",c.tclickPrefix=c.tClickBase+c.screenID+"_",c.arrAlpha=["A","B","C","D","E","F","G","H","I","J","K"];var F={call_1:1,load_1:2,call_2:3,load_2:4,call_3:5};c.callStatus=F.call_1,c.cntLoading=0,c.checkLoading=function(a){return a?(c.cntLoading++,void(c.isShowLoading=!0)):(c.cntLoading--,void(0==c.cntLoading&&(c.isShowLoading=!1)))},c.scrollBottomCall=function(){return c.callStatus!==F.call_3&&c.callStatus?c.callStatus===F.load_1?(c.callStatus=F.call_2,c.callCardData(),c.callPushData(),void(c.loginInfo.isLogin&&c.callWishData(c.latelyGoods))):c.callStatus===F.load_2?(c.callStatus=F.call_3,c.callBrandData(),B(),c.callSearchRecom(),void c.callCategory()):void 0:void 0},c.callbackCtrl=function(){c.callStatus===F.call_1?c.callStatus=F.load_1:c.callStatus===F.call_2&&(c.callStatus=F.load_2);var a=b.element(d);a.scrollTop()+a.height()>b.element(document).height()-b.element("#footer").height()&&c.scrollBottomCall()},c.callRecentlyInit=function(a){c.checkLoading(!0),j.loadRecentlyInit(a).then(function(a){if(a&&a.data&&a.data.latest_prod_list&&a.data.latest_prod_list.prdList&&a.data.latest_prod_list.prdList.items&&a.data.latest_prod_list.prdList.items.length>0){c.recently.items=p(a.data.latest_prod_list.prdList.items);for(var d="",e=0;e<c.recently.items[0].length;e++)d+=(e>0?",":"")+c.recently.items[0][e].goodsNo;c.callRecentlyData(d),c.recently.topTxt=a.data.latest_prod_list.topTxt||"",c.recently.txt=a.data.latest_prod_list.txt||"",f(function(){b.element(".recently_wrap .swipe_wrap > ul > li.item"+c.swipeCurIdx).addClass("on")},100)}else c.callStatus=F.load_1,c.scrollBottomCall()})["catch"](function(a){console.log("0 RecentlyInit error ",a)})["finally"](function(){c.callbackCtrl(),c.checkLoading()})},c.callRecentlyData=function(a){c.checkLoading(!0),j.loadRecentlyData(a,c.recently.hasLately).then(function(a){if(a)if(a.data.latest_prod_recomm_list&&a.data.latest_prod_recomm_list.prdList&&a.data.latest_prod_recomm_list.prdList.items&&a.data.latest_prod_recomm_list.prdList.items.length>0?(c.recentlyRecomIdx=0,c.recentlyRecom.items=q(a.data.latest_prod_recomm_list.prdList.items),c.recentlyRecom.txt=a.data.latest_prod_recomm_list.txt||"",c.recentlyRecom.slice=r(c.recentlyRecom.items)):c.recentlyRecom.items=[],a.data.spdp_recomm_list&&a.data.spdp_recomm_list.items&&a.data.spdp_recomm_list.items.length>0){var d=!1;if(c.recentlyPlan.items&&c.recentlyPlan.items.length>0&&(d=!0),c.recentlyPlan.txt=a.data.spdp_recomm_list.txt,c.recentlyPlan.items=a.data.spdp_recomm_list.items,!d)return;var e=b.element(".recently_plan .swipe_wrap");setTimeout(function(){e.scope().reset()},300)}else c.recentlyPlan.items=[]})["catch"](function(a){console.log("1 RecentlyData error ",a)})["finally"](function(){c.callbackCtrl(),c.checkLoading()})},c.recentlyRecomMore=function(){c.recentlyRecomIdx<c.recentlyRecom.slice.length-1?c.recentlyRecomIdx++:c.recentlyRecomIdx=0,c.sendTclick(c.tclickPrefix+"RctView_Clk_Btn01"),c.ga("이런상품은어떠세요","다른추천상품볼래요")},c.callOrderData=function(){c.checkLoading(!0),j.loadOrderData().then(function(a){a&&(c.orderRecom=a)})["catch"](function(a){console.log("2 OrderData error ",a)})["finally"](function(){c.callbackCtrl(),c.checkLoading()})},c.callCardData=function(){c.checkLoading(!0),j.loadCardData().then(function(a){if(a&&a.data&&a.data.card_recomm&&a.data.card_recomm.event_list&&a.data.card_recomm.prom_list){var d=a.data.card_recomm.event_list,h=a.data.card_recomm.prom_list,i={},j=[],k=["#9cb5d4","#99d2cb","#d899a2"];if(c.isAvailApp){for(var l=0;l<h.length;l++){var m=h[l].card_knd_cd;i[m]?i[m].multi||(i[m].multi=!0,i[m].aply_lmt_amt=s(""+i[m].aply_lmt_amt),i[m].aply_lmt_amt+="/"+s(""+h[l].aply_lmt_amt),i[m].fvr_val+="/"+h[l].fvr_val):(i[m]=h[l],i[m].sort=l)}for(var n in i)j.push(i[n]);j=g("orderBy")(j,"sort",!1)}c.cardList=d.concat(j);for(var o=0;o<c.cardList.length;o++)c.cardList[o].idx=o,c.cardList[o].remain_time=c.cardList[o].pur_diff_dtime||c.cardList[o].prom_diff_dtime,c.cardList[o].color=k[o%3],function(a){var b=e(function(){for(var d=-1,f=0;f<c.cardList.length;f++)if(c.cardList[f].idx==a){d=f;break}-1!=d&&(c.cardList[d].remain_time=c.setCardTime(c.cardList[d].remain_time),"00:00:00"==c.cardList[d].remain_time&&(e.cancel(b),c.cardList.splice(d,1)))},1e3)}(o);f(function(){b.element(b.element(".card_wrap .indicator li")[0]).addClass("on")})}})["catch"](function(a){console.log("3 CardData error ",a)})["finally"](function(){c.callbackCtrl(),c.checkLoading()})},c.callPushData=function(){c.checkLoading(!0),j.loadPushData().then(function(a){a&&a.smart_alarm_list&&a.smart_alarm_list.alarm_list&&a.smart_alarm_list.alarm_list.items&&0!=a.smart_alarm_list.alarm_list.items.length&&(c.pushProducts.items=a.smart_alarm_list.alarm_list.items,c.pushProducts.title=a.title)})["catch"](function(a){console.log("4 PushData error ",a)})["finally"](function(){c.callbackCtrl(),c.checkLoading()})},c.callWishData=function(a){c.checkLoading(!0),j.loadWishData(a).then(function(a){a&&a.data&&a.data.goods_15day_list_other&&(c.wishes.title=a.data.goods_15day_list_other.txt),a&&a.data&&a.data.goods_15day_list_save&&a.data.goods_15day_list_save.prdList&&a.data.goods_15day_list_save.prdList.items&&0!=a.data.goods_15day_list_save.prdList.items.length&&(c.wishes.items=a.data.goods_15day_list_save.prdList.items,c.wishes.txt=a.data.goods_15day_list_save.txt,c.callWishRecom(c.wishes.items[0].goodsNo),f(function(){b.element(".wish_wrap .swipe_wrap > ul > li.wish"+c.wishSwipeCurIdx).addClass("on")},100))})["catch"](function(a){console.log("5 WishData error ",a)})["finally"](function(){c.callbackCtrl(),c.checkLoading()})},c.callWishRecom=function(a){c.checkLoading(!0),j.loadWishRecom(a).then(function(a){if(c.wishesRecom=[],a&&a.data&&a.data.goods_list_1&&a.data.goods_list_1.prdList&&a.data.goods_list_1.prdList.items&&0!=a.data.goods_list_1.prdList.items.length)for(var b=0;b<a.data.goods_list_1.prdList.items.length&&(c.wishesRecom.push(a.data.goods_list_1.prdList.items[b]),2!=b);b++);})["catch"](function(a){c.wishesRecom=[],console.log("6 WishRecom error ",a)})["finally"](function(){c.callbackCtrl(),c.checkLoading()})},c.goFavBrandShop=function(b){var d=c.favoriteBrand.curBrand,e=d.linkUrl,f=d.upBrdNo,g="";switch(b){case"PreBrd_Clk_Brdname":c.ga("관심있는브랜드인기상품_브랜드명","",f),g="&tclick="+c.tclickPrefix+b;break;case"PreBrd_Clk_Brd_more":c.ga("관심있는브랜드인기상품_더보기","",f),g="&tclick="+c.tclickPrefix+b;break;case"PreBrdReco_Clk_Brdname":c.ga("이브랜드관심있으시죠_기준브랜드","",f),g="&tclick="+c.tclickPrefix+b}e=e+g+"&"+c.baseParam,a.location.href=e},c.changeFavBrand=function(a){var d,e,f=!1,g=c.favoriteBrand.brandList.length,h=c.favoriteBrand.curBrand.brdNo,i=0;if(b.forEach(c.favoriteBrand.brandList,function(a){a.skip!==!0&&i++}),c.favoriteBrand.available=i,1==a&&c.favoriteBrand.available<=1)return void c.alert_2016("마지막 페이지 입니다. 쇼핑을 하면 할수록, 맞춤 브랜드가 더욱 많아져요!");for(var j=0;1e4>j;j++)if(d=Math.floor(Math.random()*g),e=c.favoriteBrand.brandList[d],e.skip!==!0&&e.brdNo!=h){c.favoriteBrand.curBrand=e,c.favoriteBrand.curIndex=d,f=!0;break}f&&((!c.isValidArray(c.favoriteBrand.curBrand.prodList)||c.favoriteBrand.curBrand.prodList.length<6)&&u(),x()),a===!0&&(c.sendTclick(c.tclickPrefix+"PreBrd_Clk_Btn01"),c.ga("관심있는브랜드인기상품","다른브랜드볼래요"))},c.callBrandData=function(){t()},c.callSearchRecom=function(){var b=!1,d=c.appObj,e=d.verNumber;if(d.isApp){if(d.isIOS){var g=d.isSuperApp?4040:4030;e>=g&&(b=!0)}d.isAndroid&&e>=407&&(b=!0)}b?f(function(){a.location.href="myfeed://getRecentSearchApp"},200):A("")},a.setRecentSearchApp=z,c.callCategory=function(){c.checkLoading(!0),j.loadCategory().then(function(a){a&&a.data&&(c.categoryList=a.data)})["catch"](function(a){console.log("9 Category error ",a)})["finally"](function(){c.checkLoading()})},c.customRecomProdPaging=function(){var a=c.customRecomProd;a.page<a.total&&(a.page++,a.limit=Math.min(a.size*a.page,a.origin.length))},l.promiseLoginInfo().then(function(a){c.loginInfo=a,D(),c.subTitle=(c.loginInfo.isLogin?c.loginInfo.name:"고객")+"님을 위한 MY추천"})["catch"](function(a){c.loginInfo=a,D(),c.subTitle=(c.loginInfo.isLogin?c.loginInfo.name:"고객")+"님을 위한 MY추천"}),c.addZero=function(a,b){return 3===b?10>a?a="00"+a:100>a&&(a="0"+a):10>a&&(a="0"+a),a},c.addWishList=function(a,b){return c.loginInfo.isLogin?a.wishAdded?(c.alert_2016("이미 등록된 상품입니다."),!1):void n({method:"POST",url:h.prdAddWish,data:{goods_nos:a.goodsNo},transformRequest:o.JsonToParam,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(b){a.wishAdded=!0}).error(function(b){if(b.error){var d=b.error.response_code,e=b.error.response_msg;switch(d){case"5002":a.wishAdded=!0;break;case"9003":c.alert_2016(e,{callback:function(){var a="targetUrl="+encodeURIComponent(location.href,"UTF-8");location.href="/login/m/loginForm.do?"+a}});break;default:c.alert_2016(e)}}else c.alert_2016("처리중 오류가 발생하였습니다.")}):(c.alert_2016("로그인 후 이용하실 수 있습니다.",{callback:function(){c.gotoService("loginUrl",{targetUrl:encodeURIComponent(location.href)})}}),!1)},c.isAvailApp=E()}]),d.filter("pushDate",function(){return function(a){var b=a.split(" "),c=new Date(b[0]),d=c.getFullYear()+"."+(c.getMonth()+1)+"."+c.getDate();return d}}),d.filter("delDot",function(){return function(a){var b=a.split("...");return b[0]}}),d.directive("lotteContainer",["LotteCommon","LotteUtil","LotteStorage","LotteGA","$window","$timeout","$http",function(c,d,e,f,g,h,i){return{templateUrl:"/lotte/resources_dev/myfeed/myfeed_container.html",replace:!0,link:function(e,j,k){function l(a){return 10>a?"0"+a:a+""}function m(a){var b="A";if(!a)return b;if(a>0&&20>a)return"20";if(a>=60)return"50";try{b=10*Math.floor(a/10)}catch(c){}return b}var n=b.element(document.body).scope(),o=b.element(g);o.scroll(function(){o.scrollTop()+o.height()>b.element(document).height()-b.element("#footer").height()&&(n.scrollBottomCall(),n.customRecomProdPaging())}),n.ga=function(a,b,c){f.evtTag(n.gaCate,a,b,c)},e.goLoginClick=function(){n.ga("로그인하기");var a="&tclick="+e.tclickPrefix+"Login_Clk_Btn01&targetUrl="+encodeURIComponent(c.baseUrl+c.myfeedUrl+"?"+e.baseParam,"UTF-8");g.location.href=c.loginUrl+"?"+e.baseParam+a},e.swipeComplete=function(a){e.swipeCurIdx=a,b.element(".recently_wrap .swipe_wrap > ul > li").removeClass("on"),b.element(".recently_wrap .swipe_wrap > ul > li.item"+a).addClass("on");for(var c="",d=0;d<e.recently.items[a].length;d++)c+=(d>0?",":"")+e.recently.items[a][d].goodsNo;e.callRecentlyData(c),e.sendTclick(e.tclickPrefix+"RctView_Swp_Unit"+e.addZero(a+1)),n.ga("최근본상품_스와이프",e.addZero(a+1))},e.wishSwipeComplete=function(a){e.wishSwipeCurIdx=a,b.element(".wish_wrap .swipe_wrap > ul > li").removeClass("on"),b.element(".wish_wrap .swipe_wrap > ul > li.wish"+a).addClass("on"),e.callWishRecom(e.wishes.items[e.wishSwipeCurIdx].goodsNo),e.sendTclick(e.tclickPrefix+"Pick_Swp_Unit"+e.addZero(a+1)),n.ga("혹시잊지않으셨나요_스와이프",e.addZero(a+1))},e.cardSwipeComplete=function(a){b.element(".card_wrap .indicator li").removeClass("on"),b.element(b.element(".card_wrap .indicator li")[a]).addClass("on")},e.setCardTime=function(a){var b=a.split(":"),c=parseInt(b[0],10),d=parseInt(b[1],10),e=parseInt(b[2],10);return 0==c&&0==d&&0==e?"00:00:00":(e&&e>0?e-=1:0==e&&(d&&d>0?(d-=1,e=59):0==d&&c&&c>0&&(c-=1,d=59,e=59)),l(c)+":"+l(d)+":"+l(e))},e.goProductView=function(b,d,f,g){var h="";d.indexOf("RctView_Clk_Prd")>=0?n.ga("최근본상품_클릭",d.substring(16),b):d.indexOf("RctView_Clk_Rel")>=0?n.ga("이런상품은어떠세요",d.substring(16),b):d.indexOf("RelCodi_Clk_Prd")>=0?n.ga("함께구매하면좋아요_근간상품",d.substring(16,17),b):d.indexOf("RelCodi_Swp_Rel")>=0?n.ga("함께구매하면좋아요_추천상품",d.substring(16),b):d.indexOf("SmartPush_Clk_Prd")>=0?n.ga("놓치면후회하는최신정보",d.substring(17),b):d.indexOf("Pick_Swp_Prd")>=0?n.ga("혹시잊지않으셨나요_클릭",d.substring(13),b):d.indexOf("Pick_Clk_Rel")>=0?n.ga("다른고객들이함께본상품",d.substring(13),b):d.indexOf("PreBrd_Clk_Prd")>=0?(n.ga("관심있는브랜드인기상품_추천상품",d.substring(15),b),h="&_reco=M_brand_myreco"):d.indexOf("BkBrd_Clk_Prd")>=0?n.ga("즐겨찾는브랜드의신상품_추천상품",d.substring(14),b):d.indexOf("PreBrdReco_Clk_Prd")>=0?n.ga("이브랜드관심있으시죠_상품",d.substring(19),b):d.indexOf("BrdReco_Swp_Prd")>=0?n.ga("이브랜드관심있으시죠_상품",d.substring(16),b):d.indexOf("SchReco_Clk_Prd")>=0?n.ga("검색어기반추천",d.substring(16),b):d.indexOf("BestPrd_Swp_Prd")>=0?n.ga("성별연령기반추천",d.substring(15),b):d.indexOf("PrdReco_Clk_Rel")>=0&&n.ga("맞춤추천상품",d.substring(16),b);var i=e.tclickPrefix;b&&(a.location.href=c.productviewUrl+"?"+e.baseParam+"&goods_no="+b+"&curDispNo=5589895"+(f?"&curDispNoSctCd="+f:"")+(g?"&_reco="+g:"")+"&tclick="+i+d+h)},e.goPlanView=function(b,c,d){var f="";try{f=b.split("curDispNo=")[1].split("&")[0]}catch(g){}n.ga("함께많이본기획전",n.arrAlpha[n.swipeCurIdx]+l(c+1),f),a.location.href=b+"&"+e.baseParam+(d?"&_reco="+d:"")+"&tclick="+e.tclickPrefix+"RctView_Swp_Ban_"+n.arrAlpha[n.swipeCurIdx]+l(c+1)},e.goMain=function(a,b,d,f){d.indexOf("Event_Swp_Ban")>=0?n.ga("카드배너",l(f+1)):"BkBrd_Clk_Btn01"==d?n.ga("즐겨찾는브랜드더보기"):"BestPrd_Clk_Btn01"==d&&n.ga("성별연령기반추천","베스트상품더보기"),console.log(d),n.clearSessionStorage();var h=c.mainUrl+"?"+e.baseParam+"&dispNo="+a+"&tclick="+e.tclickPrefix+d;"card"==b?(h+=l(f+1),h+="&prom=true",h+="&isFromMyFeed=true"):"category"==b&&(n.loginInfo.genSctCd&&(h+="&gender="+n.loginInfo.genSctCd),n.loginInfo.mbrAge&&(h+="&age="+m(n.loginInfo.mbrAge)),h+="&isFromMyFeed=true"),g.location.href=h},e.goCardEvent=function(b,d){n.ga("카드배너",l(d+1)),a.location.href=c.eventSaunMain+"?"+e.baseParam+"&evt_no="+b+"&tclick="+e.tclickPrefix+"Event_Swp_Ban"+l(d+1)},e.showAppConfig=function(){e.sendTclick(e.tclickPrefix+"SmartPush_Btn01"),n.ga("놓치면후회하는최신정보","재입고/할인소식알림받기"),d.boolAndroid(navigator.userAgent)?a.lottebridge.opensetting("on"):d.boolAppInstall(navigator.userAgent)&&(location.href="lottebridge://opensetting")},e.goBrandShop=function(b,d){"PreBrd_Clk_Brdname"==d?n.ga("관심있는브랜드인기상품_브랜드명","",b):"PreBrd_Clk_Brd_more"==d?n.ga("관심있는브랜드인기상품_더보기","",b):d.indexOf("BkBrd_Clk_Brd")>=0?d.indexOf("more")>=0?n.ga("즐겨찾는브랜드의신상품_더보기",d.substring(14,15),b):n.ga("즐겨찾는브랜드의신상품_브랜드명",d.substring(14,15),b):d.indexOf("PreBrdReco_Clk")>=0?d.indexOf("more")>=0?n.ga("이브랜드관심있으시죠_상품더보기",d.substring(15,16),b):n.ga("이브랜드관심있으시죠_기준브랜드","",b):d.indexOf("BrdReco_Swp")>=0&&n.ga("이브랜드관심있으시죠_상품더보기",d.substring(12,13),b);var f=e.tclickPrefix;a.location.href=c.brandShopSubUrl+"?"+e.baseParam+"&upBrdNo="+b+"&tclick="+f+d},e.brandClick=function(b,c){var d="";try{d=b.split("upBrdNo=")[1].split("&")[0]}catch(f){}c.indexOf("PreBrdReco_Clk_Brd")>=0?n.ga("이브랜드관심있으시죠_브랜드",c.substring(19),d):c.indexOf("BrdReco_Clk_Brd")>=0&&n.ga("이브랜드관심있으시죠_브랜드",c.substring(16),d);var g=e.tclickPrefix;a.location.href=b+"?"+e.baseParam+"&tclick="+g+c+"&_reco=M_brand_detail_myreco"},e.brandBookMark=function(a,d,f,g){if(!e.loginInfo.isLogin)return alert("로그인 후 이용하실 수 있습니다."),e.loginProc(),!1;if(!b.element(".myfeed .brand_wrap").hasClass("pending")){b.element(".myfeed .brand_wrap").addClass("pending");var h=b.element(f.currentTarget),j=h.parents("li.item").hasClass("on"),k=c.myBrandInfo+"?flag="+(j?"d":"i")+"&brnd_no="+a,l={method:"get",url:k};e.checkLoading(!0),i(l).success(function(a){j?(h.parents("li.item").removeClass("on"),e.showAlertPop(d+" 브랜드가 즐겨찾기에서 삭제되었습니다.")):(h.parents("li.item").addClass("on"),e.showAlertPop(d+" 브랜드가 즐겨찾기에 추가되었습니다."))})["finally"](function(){b.element(".myfeed .brand_wrap").removeClass("pending"),n.checkLoading()}),n.ga("이브랜드관심있으시죠_즐겨찾기",e.arrAlpha[g],a),e.sendTclick(e.tclickPrefix+"BrdReco_Clk_Btn"+e.arrAlpha[g])}},e.showAlertPop=function(a){var c=b.element(".header_alert_pop");c.find(".msg").text(a),c.fadeIn(500,function(){h(function(){c.fadeOut(500)},1e3)})}}}}])}(window,window.angular);
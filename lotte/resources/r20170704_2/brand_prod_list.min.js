!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteUtil","lotteSideCtg","lotteCommFooter","lotteSns","lotteProduct","lotteNgSwipe","cateSideSearch"]);d.controller("BrandSubCtrl",["$window","$location","$http","$scope","$timeout","$filter","LotteStorage","LotteCommon","commInitData",function(d,e,f,g,h,i,j,k,l){g.showWrap=!0,g.contVisible=!0,g.productMoreScroll=!0,g.screenID="BrandShop",g.subTitle="",g.templateType="list",g.isShowThisSns=!0,g.brandInfo=[],g.BrandCateList=[],g.productList=[],g.BannerList=[],g.BannerList2=[],g.upBrdNo="",g.brdNo="",g.ctgIdx=0,l.query.upBrdNo!=c&&(g.upBrdNo=l.query.upBrdNo),l.query.brdNo!=c&&(g.brdNo=l.query.brdNo),g.curDispNo=""!=g.brdNo?g.brdNo:g.upBrdNo,g.prdListLayerY=471,g.cateSelectIndex=-1,g.doAnchor=!1,g.isBrandProdList=!0,g.isFirstLoad=!0,g.isChrome=null!=navigator.userAgent.match("Chrome")?!0:!1,(g.screenDataReset=function(){g.screenData={mGrpNo:"",upBrdNo:""}})(),l.query.upBrdNo!=c&&(g.screenData.upBrdNo=l.query.upBrdNo),l.query.mGrpNo!=c&&(g.screenData.mGrpNo=l.query.mGrpNo),l.query.title!=c&&(g.subTitle=decodeURIComponent(l.query.title)),g.curDispNoSctCd=74,g.setBrandMainData=function(a){try{if(g.brandInfo=a.brndInfo,g.subTitle=g.brandInfo.brnd_nm,a.BrandCateList&&g.BrandCateList.length<1){for(var c=0;c<a.BrandCateList.length;c++){var e=a.BrandCateList[c];e.cate_cnt=parseInt(e.cate_cnt,10),g.isFirstLoad&&g.screenData.mGrpNo&&g.screenData.mGrpNo==e.disp_no&&(g.cateSelectIndex=c,g.doAnchor=!0,g.isFirstLoad=!1),g.BrandCateList.push(e)}g.BrandCateList=i("orderBy")(g.BrandCateList,"-cate_cnt")}if(a.Banner&&g.BannerList.length<1){var f=null!=a.Banner.items?a.Banner.items.length:0,j=[],k=[];if(a.Banner.items&&f>0){for(var l=0;f>l;l++)a.Banner.items[l].img_url_addr&&k.push(a.Banner.items[l]);g.BannerList=k}if(k.length>0){var c=0,m=-1;for(c;c<k.length;c++)c%3==0&&(m++,j[m]=[]),k[c].itemIdx=c,j[m].push(k[c]);g.BannerList2=j}}if(a.RecGoodsList&&g.productList.length<1){var f=null!=a.RecGoodsList.items?a.RecGoodsList.items.length:0,j=[];if(a.RecGoodsList.items&&f>0){var c=0,m=-1;for(c;f>c;c++)c%3==0&&(m++,j[m]=[]),a.RecGoodsList.items[c].itemIdx=c,j[m].push(a.RecGoodsList.items[c]);g.productList=j}}h(function(){g.prdListLayerY=$(".result_wrap").offset().top-(g.appObj.isAndroid&&!g.isChrome?0:45),g.doAnchor&&(g.doAnchor=!1,b.element(d).scrollTop(g.prdListLayerY-(g.appObj.isIOS?0:52)))},1e3)}catch(n){console.log("Error Data : 브랜드 데이터 로딩 실패")}};var m=j.getSessionStorage(g.screenID+"Loc"),n=j.getSessionStorage(g.screenID+"ScrollY");m==a.location.href&&g.locationHistoryBack&&h(function(){b.element(d).scrollTop(n)},800),b.element(d).on("unload",function(a){!l.query.localtest&&g.leavePageStroage&&(j.setSessionStorage(g.screenID+"Loc",e.absUrl()),j.setSessionStorage(g.screenID+"ScrollY",b.element(d).scrollTop()))})}]),d.directive("lotteContainer",["LotteCommon","$window",function(b,c){return{templateUrl:"/lotte/resources_dev/category/m/brand_prod_list_container.html",replace:!0,link:function(c,d,e){c.brandSubClick=function(a){c.postParams.mGrpNo=a.disp_no,c.resetAllSearchTerm(),c.cateSelectIndex=this.$index,c.doAnchor=!0,c.ctgIdx=this.$index+1;var b=c.tClickBase+c.screenID+"_Clk_Lnk_"+c.ctgIdx;c.sendTclick(b)},c.brandShopBannerClick=function(d){var e="&tclick="+c.tClickBase+c.screenID+"_Swp_Ban_"+(d.itemIdx+1);a.location.href=b.prdlstUrl+(-1!=b.prdlstUrl.indexOf("?")?"&":"?")+c.baseParam+"&curDispNo="+d.spdp_no+"&curDispNoSctCd="+c.curDispNoSctCd+e},c.brandSelectAll=function(){c.postParams.mGrpNo="",c.resetAllSearchTerm(),c.cateSelectIndex=-1,c.doAnchor=!1,c.ctgIdx=0;var a=c.tClickBase+c.screenID+"_Clk_Ttl";c.sendTclick(a)},c.newArrivalPrdClick=function(d){var e="&tclick="+c.tClickBase+c.screenID+"_Clk_Prd_"+(d.itemIdx+1);a.location.href=b.prdviewUrl+"?"+c.baseParam+"&goods_no="+d.goods_no+e}}}}]),d.directive("prodListLayer",["$window",function(a){return{replace:!0,link:function(c,d,e){var f=(b.element("body"),b.element("#headerSpace"));b.element(a).on("scroll",function(a){this.pageYOffset>c.prdListLayerY?(f.css("height",d[0].offsetHeight+"px"),d[0].style.cssText="z-index:49;position:fixed;top:"+c.subHeaderHeight+"px;width:100%;border-bottom:1px solid #ddd;"):(f.css("height","0px"),d[0].style.cssText="border-bottom:none")})}}}])}(window,window.angular),function(a,b,c){"use strict";var d=b.module("cateSideSearch",["lotteComm"]);d.controller("CateSideSearchCtrl",["$scope","LotteCommon",function(a,b){}]),d.directive("cateSideSearch",["LotteCommon","LotteUtil","LotteStorage","$window","$timeout","$http","$location","commInitData",function(d,e,f,g,h,i,j,k){return{templateUrl:"/lotte/resources_dev/category/m/cate_side_search.html",replace:!0,link:function(e,l,m){function n(){var a=j.absUrl();a.indexOf(e.URLs.subPageBrand)>=0?e.uiStateObj.currentPageType="B":a.indexOf(e.URLs.subPageSpecial)>=0&&(e.uiStateObj.currentPageType="S")}function o(a){if(a==c)return void(e.srhDetailData.srhColorList=[]);for(var b,d=a.length,f=0;d>f;f++)b=a[f],b.selected=e.postParams.selectedColor.indexOf(b.colorCd)>=0;e.srhDetailData.srhColorList=a}function p(){if(e.srhResultData.ctgLst!=c&&e.srhResultData.ctgLst.items!=c){var a;b.forEach(e.srhResultData.ctgLst.items,function(b){b.subCtgLst!=c&&b.subCtgLst.items!=c&&1==b.subCtgLst.items.length&&(a=b.subCtgLst.items[0],b.ctgNo=a.ctgNo,b.depthMod=!0,delete b.subCtgLst)})}}function q(a,d){if(a!=c&&a.items!=c)if(d.items!=c&&d.items.length>0){var f=d.items[0];if(f==c)return;var g=f.ctgNo;if(f.subCtgLst==c||f.subCtgLst.items==c||0==f.subCtgLst.items.length)b.element("#ctg_"+g).addClass("nochild");else for(var i,j,k=a.items.length,l=0;k>l;l++){if(i=a.items[l],i.ctgNo==g){if(i.subCtgLst==c){i.subCtgLst=f.subCtgLst;var m=$("#ctg_"+g);m.hasClass("open")||h(function(){e.categoryAccordian(m)},200)}return!0}if(i.subCtgLst!=c&&(j=q(i.subCtgLst,d),j===!0))break}}else e.postParams.ctgNo!=c&&b.element("#ctg_"+e.postParams.ctgNo).addClass("nochild")}function r(){if(n(),null==history.state||"catesub"!=history.state.name)location.host.indexOf("localhost")>=0||history.replaceState({name:"catesub"},"catesub"),e.loadDataParams();else{var a=f.getSessionStorage(e.screenID+"srhLst","json");if(a==c||a.srhResultData==c||"undefined"==typeof a.srhResultData.resultCode){try{console.log("Data Load")}catch(d){}e.loadDataParams()}else{if(location.pathname.indexOf("/category/m/brand_prod_list.do")>-1)return void e.loadDataParams();e.uiStateObj=a.uiStateObj,e.postParams=a.postParams,e.srhResultData=a.srhResultData,e.srhDetailData=a.srhDetailData,(e.isShowLoading||e.productListLoading)&&(e.productListLoading=!1,e.isShowLoading=!1);var i=f.getSessionStorage(e.screenID+"srhLstNowScrollY");h(function(){b.element(g).scrollTop(i)},300),h(function(){e.retriveTemplateType()},0),f.delSessionStorage(e.screenID+"srhLstLoc"),f.delSessionStorage(e.screenID+"srhLst"),f.delSessionStorage(e.screenID+"srhLstNowScrollY")}}b.element(g).on("unload",function(){var a={};e.uiStateObj.templateType=e.templateType,a.uiStateObj=e.uiStateObj,a.postParams=e.postParams,a.srhResultData=e.srhResultData,a.srhDetailData=e.srhDetailData,f.setSessionStorage(e.screenID+"srhLstLoc",j.absUrl()),f.setSessionStorage(e.screenID+"srhLst",a,"json"),f.setSessionStorage(e.screenID+"srhLstNowScrollY",b.element(g).scrollTop())})}function s(){var a;b.forEach(e.srhResultData.ctgLst.items,function(d){a="롯데백화점"==d.mall,a||(d.checked=!1,d.subChecked=!1,d.subCtgLst!=c&&d.subCtgLst.items!=c&&b.forEach(d.subCtgLst.items,function(a){a.checked=!1,a.subChecked=!1,a.subCtgLst!=c&&a.subCtgLst.items!=c&&b.forEach(a.subCtgLst.items,function(a){a.checked=!1,a.subChecked=!1,a.subCtgLst!=c&&a.subCtgLst.items!=c&&b.forEach(a.subCtgLst.items,function(a){a.checked=!1,a.subChecked=!1,a.subCtgLst!=c&&a.subCtgLst.items!=c&&b.forEach(a.subCtgLst.items,function(a){a.checked=!1,a.subChecked=!1})})})}))}),t(),e.postParams.ctgNo="",e.postParams.dsCtgDepth=null,e.postParams.ctgDepth1=e.uiStateObj.selectedCategory.depth1.join(","),e.postParams.ctgDepth2=e.uiStateObj.selectedCategory.depth2.join(","),e.postParams.ctgDepth3=e.uiStateObj.selectedCategory.depth3.join(","),e.postParams.ctgDepth4=e.uiStateObj.selectedCategory.depth4.join(","),e.postParams.ctgDepth5=e.uiStateObj.selectedCategory.depth5.join(",")}function t(){var a=[],d=[],f=[],g=[],h=[],i=[];b.forEach(e.srhResultData.ctgLst.items,function(e){e.subCtgLst!=c&&e.subCtgLst.items!=c&&b.forEach(e.subCtgLst.items,function(a){a.subCtgLst!=c&&a.subCtgLst.items!=c&&b.forEach(a.subCtgLst.items,function(d){d.subCtgLst!=c&&d.subCtgLst.items!=c&&b.forEach(d.subCtgLst.items,function(f){f.subCtgLst!=c&&f.subCtgLst.items!=c&&b.forEach(f.subCtgLst.items,function(b){b.checked===!0&&(e.checked=!1,a.checked=!1,d.checked=!1,f.checked=!1,e.subChecked=!0,a.subChecked=!0,d.subChecked=!0,f.subChecked=!0,h.push(b.ctgNo),i.push(b.ctgName))}),f.checked===!0&&(e.checked=!1,a.checked=!1,d.checked=!1,e.subChecked=!0,a.subChecked=!0,d.subChecked=!0,e.depthMod===!0?h.push(f.ctgNo):g.push(f.ctgNo),i.push(f.ctgName))}),d.checked===!0&&(e.checked=!1,a.checked=!1,e.subChecked=!0,a.subChecked=!0,e.depthMod===!0?g.push(d.ctgNo):f.push(d.ctgNo),i.push(d.ctgName))}),a.checked===!0&&(e.checked=!1,e.subChecked=!0,e.depthMod===!0?f.push(a.ctgNo):d.push(a.ctgNo),i.push(a.ctgName))}),e.checked===!0&&(e.depthMod===!0?d.push(e.ctgNo):a.push(e.ctgNo),i.push(e.ctgName))}),e.uiStateObj.srhFilterCtgFlag=i.length>0,e.uiStateObj.selectedCategory.depth1=a,e.uiStateObj.selectedCategory.depth2=d,e.uiStateObj.selectedCategory.depth3=f,e.uiStateObj.selectedCategory.depth4=g,e.uiStateObj.selectedCategory.depth5=h,e.uiStateObj.selectedCategory.ctgName=i}function u(){b.element(".ssws_wrap.ssws_price li a").removeClass("selected")}function v(a){if(a!=c&&a.items!=c){var d=a.items;b.forEach(d,function(a){a.checked=!1,a.subChecked=!1,v(a.subCtgLst)})}}if(e.templateType="list",e.isShowLoading=!1,e.productListLoading=!1,e.searchTermsLoading=!1,e.searchTermsChanged=!1,e.productMoreScroll=!0,e.tipShow=!1,e.cateProdYn=!1,d.cateProdListUrl.indexOf(a.location.pathname)>=0&&(e.cateProdYn=!0),e.uiStateObj={templateType:"list",initFlag:!0,srhFilterSelectedIdx:-1,srhFilterCtgDepth1CtgNo:"",srhFilterCtgDepth:0,srhFilterCtgFlag:!1,srhFilterBrdFlag:!1,srhFilterBrdSort:"brdName",srhFilterDetailFlag:!1,srhFilterDetailArr:["smpickYN","freeDeliYN","freeInstYN","pointYN","isCrsPickYn","isDlvToday","isDlvQuick"],srhFilterSortFlag:!1,sortTypeIdx:0,sortTypeArr:[{label:"판매 BEST",shortLabel:"판매순",value:"TOT_ORD_CNT,1"},{label:"상품평 많은순",shortLabel:"상품평",value:"TOT_REVIEW_CNT,1"},{label:"최근등록순",shortLabel:"최근등록",value:"DATE,1"},{label:"낮은가격순",shortLabel:"낮은가격",value:"DISP_PRICE,0"},{label:"높은가격순",shortLabel:"높은가격",value:"DISP_PRICE,1"}],sortTypeArrNewProd:[{label:"판매 BEST",shortLabel:"판매순",value:"TOT_ORD_CNT,1",shortIdx:0},{label:"상품평 많은순",shortLabel:"상품평",value:"TOT_REVIEW_CNT,1",shortIdx:1},{label:"MD 추천순",shortLabel:"MD 추천",value:"EXT_CHAR_FT3,0/TOT_ORD_CNT,1/DATE,1",shortIdx:5},{label:"최근등록순",shortLabel:"최근등록",value:"DATE,1",shortIdx:2},{label:"낮은가격순",shortLabel:"낮은가격",value:"DISP_PRICE,0",shortIdx:3},{label:"높은가격순",shortLabel:"높은가격",value:"DISP_PRICE,1",shortIdx:4}],priceMinUFocus:!1,priceMaxUFocus:!1,emptyResult:!1,emptyKeyword:!1,emptyPrdLstFlag:!1,ajaxPageEndFlag:!1,smpickLayerOpenFlag:!1,smpickBranchName:"전체",relatedKeywordNotEmpty:!0,relatedKeywordEnabled:!0,detailSearchDataLoaded:!1,selectedCategory:{depth1:[],depth2:[],depth3:[],depth4:[],depth5:[],ctgName:[]},currentPageType:"C"},e.srhDetailPriceValidateFlag=!0,e.searchUISetting={isShowSideBar:!1,isShowSub:!1,title:"카테고리",keywordIncExc:!1,researchTypeArr:[{label:"포함단어"},{label:"제외단어"}],researchIdx:0,isAndroidChrome:!1,showCSBalloon:!1,smartPickSub:!0,smartPickList:!1},e.URLs={searchList:d.cateListData2016,searchTerm:d.cateTermData2016,subPageCate:d.cateProdListUrl,subPageBrand:d.brandShopSubUrl,subPageSpecial:d.mallSubUrl},e.postParams={rtnType:"",keyword:"",orgKeyword:"",dpml_no:"1",dispCnt:30,page:1,ctgNo:"",ctgDepth:0,brdNoArr:[],brdNmArr:[],sort:e.uiStateObj.sortTypeArr[0].value,deptYN:"N",smpickYN:"N",smpBranchNo:"",freeDeliYN:"N",freeInstYN:"N",pointYN:"N",isCrsPickYn:"N",isDlvToday:"N",isDlvQuick:"N",selectedColor:[],rekeyword:"",reQuery:[],exQuery:[],priceMinU:null,priceMaxU:null,brdNm:"",mGrpNo:"",upBrdNo:"",cateNo:"",cateDepth:""},e.srhResultData={},e.srhDetailData={srhTerms:{dept:!1,tvhome:!1,smpick:!1,smpickBranch:[],brdstore:!1,"super":!1,seven:!1,tdar:!1,quick:!1},srhColorList:[]},e.postParams.keyword="",e.postParams.orgKeyword="",k.query.cateNo!=c&&(e.postParams.cateNo=k.query.cateNo),k.query.mGrpNo!=c&&(e.postParams.mGrpNo=k.query.mGrpNo),k.query.upBrdNo!=c&&(e.postParams.upBrdNo=k.query.upBrdNo),k.query.cateDepth!=c&&(e.postParams.cateDepth=k.query.cateDepth),k.query.sort!=c){var w=parseInt(k.query.sort,10);isNaN(w)||(!e.cateProdYn&&w>=0&&4>=w&&(e.uiStateObj.sortTypeIdx=w,e.postParams.sort=e.uiStateObj.sortTypeArr[w].value),e.cateProdYn&&w>=0&&5>=w&&e.cateProdYn&&(e.uiStateObj.sortTypeIdx=w,e.postParams.sort=e.uiStateObj.sortTypeArrNewProd[w].value,w>=2&&5>w&&(e.postParams.sort=e.uiStateObj.sortTypeArrNewProd[w+1].value,e.uiStateObj.sortTypeIdx=w+1),5==w&&(e.postParams.sort=e.uiStateObj.sortTypeArrNewProd[2].value,e.uiStateObj.sortTypeIdx=2)))}e.changeTemplate=function(a){switch(e.templateType=a,f.setLocalStorage(e.screenID+"TemplateTypeDC",a),a){case"list":e.searchTclick2016("C","Clk_Pcto1");break;case"image":e.searchTclick2016("C","Clk_Pcto2");break;case"swipe":e.searchTclick2016("C","Clk_Pcto3")}},e.retriveTemplateType=function(){var a=f.getLocalStorage(e.screenID+"TemplateTypeDC");"image"!=a&&"swipe"!=a&&(a="list"),e.templateType=a},e.loadMoreData=function(){$(a).height()!=$(document).height()&&(e.postParams.rtnType="P",e.loadDataParams(e.postParams.rtnType))},e.loadDataParams=function(a,b){if(e.isShowLoading||e.productListLoading||e.searchTermsLoading)return!1;a||(a="");var d={};switch(d.page=1,a){case"P":d.page=++e.postParams.page;case"S":d.sort=e.postParams.sort;case"E":"Y"==e.postParams.deptYN&&(d.deptYN=e.postParams.deptYN),"Y"==e.postParams.smpickYN&&(d.smpickYN=e.postParams.smpickYN),"Y"==e.postParams.smpickYN&&""!=e.postParams.smpBranchNo&&(d.smpBranchNo=e.postParams.smpBranchNo),"Y"==e.postParams.freeDeliYN&&(d.freeDeliYN=e.postParams.freeDeliYN),"Y"==e.postParams.freeInstYN&&(d.freeInstYN=e.postParams.freeInstYN),"Y"==e.postParams.pointYN&&(d.pointYN=e.postParams.pointYN),"Y"==e.postParams.isCrsPickYn&&(d.isCrsPickYn="Y"),"Y"==e.postParams.isDlvToday&&(d.isDlvToday="Y"),"Y"==e.postParams.isDlvQuick&&(d.isDlvQuick="Y"),e.postParams.priceMinU!=c&&(d.priceMinU=e.postParams.priceMinU),e.postParams.priceMaxU!=c&&(d.priceMaxU=e.postParams.priceMaxU),d.colorCd=e.postParams.selectedColor.join(","),e.postParams.brdNoArr&&e.postParams.brdNoArr.length>0&&(d.brdNo=e.postParams.brdNoArr.join());case"C":case"K":default:e.postParams.ctgNo&&(d.ctgNo=e.postParams.ctgNo),e.postParams.dsCtgDepth&&(d.dsCtgDepth=e.postParams.dsCtgDepth),""!=e.postParams.ctgDepth1&&(d.ctgDepth1=e.postParams.ctgDepth1),""!=e.postParams.ctgDepth2&&(d.ctgDepth2=e.postParams.ctgDepth2),""!=e.postParams.ctgDepth3&&(d.ctgDepth3=e.postParams.ctgDepth3),""!=e.postParams.ctgDepth4&&(d.ctgDepth4=e.postParams.ctgDepth4),""!=e.postParams.ctgDepth5&&(d.ctgDepth5=e.postParams.ctgDepth5),d.rtnType=a,d.keyword="";var f="",g=""+e.postParams.reQuery.join(" ");d.keyword=g,f=""==d.keyword?"":" ";var h=""+e.postParams.exQuery.join(" !");""!=h&&(d.keyword+=f+"!"+h),d.sort=e.postParams.sort}switch(""!=e.postParams.mGrpNo&&(d.mGrpNo=e.postParams.mGrpNo),""!=e.postParams.upBrdNo&&(d.upBrdNo=e.postParams.upBrdNo),"C"==e.uiStateObj.currentPageType&&""==e.postParams.mGrpNo&&k.query.disp_no!=c&&(d.cateNo=k.query.disp_no),"S"==e.uiStateObj.currentPageType&&(d.cateNo=e.postParams.cateNo,null==e.postParams.dsCtgDepth&&(d.dsCtgDepth=e.postParams.cateDepth)),d.pageType=e.uiStateObj.currentPageType,e.postParams.brdNm&&""!=e.postParams.brdNm&&(d.brdNm=e.postParams.brdNm),a){case"S":case"P":break;case"E":break;default:e.loadTermData(d),d.loadTerm=!0}b!==!0&&e.loadListData(d),e.searchTermsChanged=!0},e.noKeyword=function(){e.uiStateObj.emptyResult=!1,e.uiStateObj.emptyKeyword=!0},e.loadTermData=function(a){var c=b.extend({rtnType:"",keyword:"",dpml_no:"1",dispCnt:30,page:1},a),d=e.URLs.searchTerm;return e.postParams.brdNm&&(c.brdNm=e.postParams.brdNm),c.priceMaxU&&!c.priceMinU&&(c.priceMinU=e.srhResultData.price.min),c.priceMinU&&!c.priceMaxU&&(c.priceMaxU=e.srhResultData.price.max),e.searchTermsLoading?!1:(e.isShowLoading=!0,e.searchTermsLoading=!0,void i.get(d,{params:c}).success(function(a,b,c,d){e.termDataLoadComplete(a),e.searchTermsLoading=!1,e.searchTermsLoading||e.productListLoading||(e.isShowLoading=!1),h(function(){e.retriveTemplateType()},0)}).error(function(a,b,c,d){e.searchTermsLoading=!1,e.searchTermsLoading||e.productListLoading||(e.isShowLoading=!1)}))},e.termDataLoadComplete=function(a){if(a.max!=c&&(a=a.max),a.resultCode)if("0000"==a.resultCode){switch(e.postParams.rtnType){case"":e.srhResultData.keyword=a.keyword,e.postParams.keyword=a.keyword;case"K":a.ctgLst!=c&&(e.srhResultData.ctgLst=a.ctgLst,"C"==e.uiStateObj.currentPageType&&p());case"C":a.subCtgLst!=c&&e.postParams.dsCtgDepth>=2&&q(e.srhResultData.ctgLst,a.subCtgLst);case"E":default:e.srhResultData.brdLst=a.brdLst,"undefined"!=typeof e.srhResultData.brdLst.tcnt&&e.srhResultData.brdLst.tcnt>0&&"undefined"!=typeof e.srhResultData.brdLst.items&&b.forEach(e.srhResultData.brdLst.items,function(a,b){e.srhResultData.brdLst.items[b].cnt=parseInt(a.cnt)}),e.srhDetailData.srhTerms.smpick="1"==a.smpick?!0:!1,e.srhDetailData.srhTerms.smpickBranch=a.smpickBranch,o(a.colors),e.srhDetailData.srhTerms.dept="1"==a.store.dept?!0:!1,e.srhDetailData.srhTerms["super"]="1"==a.store["super"]?!0:!1,e.srhDetailData.srhTerms.tvhome="1"==a.store.tvhome?!0:!1,e.srhDetailData.srhTerms.brdstore="1"==a.store.brdstore?!0:!1,e.srhDetailData.srhTerms.seven="1"==a.deliver.smpSeven?!0:!1,e.srhDetailData.srhTerms.tdar="1"==a.deliver.tdar?!0:!1,e.srhDetailData.srhTerms.quick="1"==a.deliver.quick?!0:!1}e.uiStateObj.detailSearchDataLoaded=!0}else""==e.postParams.rtnType&&(e.srhResultData.keyword=a.keyword,e.postParams.keyword=a.keyword);else""==e.postParams.rtnType&&(e.srhResultData.keyword=a.keyword,e.postParams.keyword=a.keyword)},e.loadListData=function(a){var c=b.extend({rtnType:"",keyword:"",dpml_no:"1",dispCnt:30,page:1},a),d=e.URLs.searchList;return e.postParams.brdNm&&(c.brdNm=e.postParams.brdNm),c.priceMaxU&&!c.priceMinU&&(c.priceMinU=e.srhResultData.price.min),c.priceMinU&&!c.priceMaxU&&(c.priceMaxU=e.srhResultData.price.max),e.productListLoading?!1:(e.isShowLoading=!0,e.productListLoading=!0,void i.get(d,{params:c}).success(function(a,b,d,f){e.listDataLoadComplete(a,c.loadTerm),e.productListLoading=!1,e.searchTermsLoading||e.productListLoading||(e.isShowLoading=!1),h(function(){e.retriveTemplateType()},0)}).error(function(a,b,c,d){e.productListLoading=!1,e.searchTermsLoading||e.productListLoading||(e.isShowLoading=!1)}))},e.listDataLoadComplete=function(b,f){if(e.setBrandMainData&&e.setBrandMainData(b),b.max!=c&&(b=b.max),b.resultCode)if(e.uiStateObj.initFlag=!1,e.srhResultData.resultCode=b.resultCode,b.tCnt!=c&&"number"==typeof b.tCnt&&(e.srhResultData.tCnt=b.tCnt),b.brdNm&&""!=b.brdNm&&(e.postParams.brdNm=encodeURIComponent(b.brdNm)),"0000"==b.resultCode){e.uiStateObj.emptyResult;switch(e.uiStateObj.emptyResult=!1,e.uiStateObj.emptyKeyword=!1,f===!0&&(b.price.min=parseInt(b.price.min,10),b.price.max=parseInt(b.price.max,10),e.srhResultData.price=b.price,null==e.postParams.priceMinU&&null==e.postParams.priceMaxU&&e.srhFilterPriceInit(!1)),e.postParams.rtnType){case"":case"K":case"C":case"B":case"E":case"S":e.srhResultData.sortType=b.sortType;case"P":if(e.srhResultData.dispCnt=b.dispCnt,e.srhResultData.page=b.page,e.postParams.page=b.page,e.uiStateObj.ajaxPageEndFlag=!1,e.postParams.page>1?e.srhResultData.prdLst.items=e.srhResultData.prdLst.items.concat(b.prdLst.items):b.prdLst?(e.srhResultData.prdLst=b.prdLst,e.srhResultData.prdLst.items=b.prdLst.items,e.srhResultData.prdLst.tcnt=b.prdLst.tcnt):(e.uiStateObj.ajaxPageEndFlag=!0,e.productMoreScroll=!1),e.srhResultData.prdLst&&e.srhResultData.prdLst.items&&b.prdLst&&b.prdLst.items){e.srhResultData.tCnt<=e.srhResultData.prdLst.items.length||0==b.prdLst.items.length?(e.uiStateObj.ajaxPageEndFlag=!0,e.productMoreScroll=!1):(e.uiStateObj.ajaxPageEndFlag=!1,e.productMoreScroll=!0);for(var g=[],h=0;h<e.srhResultData.prdLst.items.length&&g.length<3;h++)g.push(e.srhResultData.prdLst.items[h].goods_no+""||"");e.sendBuzzni&&!a.buzzni_rt_list&&d.mallSubUrl.indexOf(location.pathname)<0&&(e.sendBuzzni("list",g),a.buzzni_rt_list=!0)}else e.uiStateObj.ajaxPageEndFlag=!0,e.productMoreScroll=!1;"undefined"!=typeof e.srhResultData.prdLst&&"undefined"!=typeof e.srhResultData.prdLst.items||e.uiStateObj.emptyKeyword||e.uiStateObj.initFlag?e.uiStateObj.emptyPrdLstFlag=!1:(e.uiStateObj.ajaxPageEndFlag=!0,e.uiStateObj.emptyPrdLstFlag=!0,e.productMoreScroll=!1)}}else if("1000"==b.resultCode){if(e.uiStateObj.emptyResult=!0,e.uiStateObj.emptyKeyword=!1,e.srhResultData.tCnt=b.tCnt,e.srhResultData.missKeyword=b.missKeyword,"undefined"!=typeof b.favLst){e.srhResultData.favLst={};var i=new Date;if("undefined"!=typeof b.favLst.date&&b.favLst.date.length>=8){var j=(b.favLst.date+"").substr(0,4),k=parseInt((b.favLst.date+"").substr(4,2))-1,l=(b.favLst.date+"").substr(6,2);i=new Date(j,k,l)}e.srhResultData.favLst.date=i,e.srhResultData.favLst.items=b.favLst.items}}else"2000"==b.resultCode&&e.noKeyword()},e.closeSidebarBtnClk=function(){e.searchTclick2016("L","Btn_Close"),e.closeSideSearch()},e.closeSideSearch=function(){e.searchTermsChanged&&(e.LotteDimm.scrollY=0),"sideSearch"==e.LotteDimm.target?e.dimmedClose():e.searchUISetting.isShowSideBar=!1,e.searchUISetting.isShowSub===!0&&e.hideSubSearch()},e.showHideSideSearch=function(a){if(e.searchUISetting.isShowSideBar)e.closeSideSearch();else{if(0==e.uiStateObj.detailSearchDataLoaded)return;e.searchTermsChanged=!1,e.searchUISetting.isShowSideBar=!0,e.dimmedOpen({target:"sideSearch",callback:e.closeSideSearch,scrollEventFlag:!1}),$(".side_search_wrap .ssw_content .ssw_slide.sub").scrollTop(0),"SORT"==a&&e.showSubSearch({currentTarget:$(".ssw_slide.main li a[data-label='정렬']")})}"SORT"==a?e.searchTclick2016("C","Clk_Sort"):e.searchTclick2016("C","Clk_Detail")},e.showSubSearch=function(a){var b=$(a.currentTarget),c=b.data("slide");switch(e.searchUISetting.title=b.data("label"),e.searchUISetting.slide=c,e.searchUISetting.isShowSub=!0,e.searchUISetting.lastSlide!=c&&$(".side_search_wrap .ssw_content .ssw_slide.sub").scrollTop(0),e.searchUISetting.lastSlide=c,b.data("slide")){case"category":e.searchTclick2016("L","Clk_Cate");break;case"brand":e.searchTclick2016("L","Clk_Brand");break;case"sort":e.searchTclick2016("L","Clk_Sort");break;case"benefit":e.searchTclick2016("L","Clk_Opt");break;case"color":e.searchTclick2016("L","Clk_Clr");break;case"price":e.searchTclick2016("L","Clk_Prc");break;case"research":e.searchTclick2016("L","Clk_Kwd")}},e.hideSubSearch=function(){e.searchUISetting.slide=null,e.searchUISetting.keywordIncExc=!1,0!=e.searchUISetting.isShowSub&&(e.searchUISetting.isShowSub=!1)},e.showHideSortGuide=function(){e.tipShow=!e.tipShow,e.tipShow&&($("#pop_sortGuide").css("top",$("#sortGuideButton").offset().top-152),h(e.positionSortGuide,0))},e.positionSortGuide=function(){$("#pop_sortGuide").css("top",$("#sortGuideButton").offset().top-$("#pop_sortGuide").outerHeight()-3)},e.srhFilterSmpickClick=function(a){var c=$(a.currentTarget);c.is(":checked")&&(e.uiStateObj.smpickLayerOpenFlag=!0,b.element("#wrapper").addClass("overflowy_hidden"))},e.showHideSmartPick=function(){e.searchUISetting.smartPickSub=!e.searchUISetting.smartPickSub},e.showHideDepartmentPick=function(a){var c=b.element(a.currentTarget),d=c.parent();d.hasClass("disabled")||(e.searchUISetting.smartPickList=!e.searchUISetting.smartPickList)},e.smpickBranchChange=function(a){e.postParams.smpBranchNo==a.branchNo?(e.postParams.smpickYN="N",e.postParams.smpBranchNo=null,e.uiStateObj.smpickBranchName=""):(e.postParams.smpickYN="Y",e.postParams.smpBranchNo=a.branchNo,e.uiStateObj.smpickBranchName=a.name),e.srhDetailPost()},e.categoryItemOpen=function(a,b){},e.categoryItemClick=function(a,b){var c=$(a.currentTarget),d=c.parent();b.checked===!0||(v(e.srhResultData.ctgLst),b.checked=!0),e.categoryAccordian(d,b.ctgNo),t();var f=d.data("depth");(d.hasClass("depthMod")||d.parents(".depthMod").length>0)&&f++,e.srhSubCtgPost(f+1,b.ctgNo)},e.categoryAccordian=function(a,b){if(!a.hasClass("nochild")){var c=41,d=a.find("> ul");if(d.length>0){if(a.hasClass("open"))a.removeClass("open"),d.height(0),d.find("ul").height(0),d.find("li.open").removeClass("open");else{a.addClass("open");var f=d.find("> li").length;d.height(c*f);var g;a.siblings(".open").each(function(a,b){g=$(b),g.removeClass("open"),g.find(".open").removeClass("open"),g.find("ul").height(0)})}e.categoryAccordianParent(a)}}},e.categoryAccordianParent=function(a){var b=a.parent(),c=b.find("> li"),d=0;c.each(function(a,b){d+=$(b).height()}),b.height(d),b.hasClass("cate_d1")||e.categoryAccordianParent(b.parent())},e.srhSubCtgPost=function(a,b,c){e.srhFilterBrdInit(),e.srhFilterDetailInit(),e.postParams.ctgNo=b,"S"==e.uiStateObj.currentPageType?(e.postParams.dsCtgDepth=a+2,e.postParams.ctgDepth3=e.uiStateObj.selectedCategory.depth1.join(","),e.postParams.ctgDepth4=e.uiStateObj.selectedCategory.depth2.join(","),e.postParams.ctgDepth5=e.uiStateObj.selectedCategory.depth3.join(",")):(e.postParams.dsCtgDepth=a,e.postParams.ctgDepth1=e.uiStateObj.selectedCategory.depth1.join(","),e.postParams.ctgDepth2=e.uiStateObj.selectedCategory.depth2.join(","),e.postParams.ctgDepth3=e.uiStateObj.selectedCategory.depth3.join(","),e.postParams.ctgDepth4=e.uiStateObj.selectedCategory.depth4.join(","),e.postParams.ctgDepth5=e.uiStateObj.selectedCategory.depth5.join(",")),e.postParams.rtnType="C",e.loadDataParams(e.postParams.rtnType,c)},e.srhChkBrdPost=function(a,b){if(-1==e.postParams.brdNoArr.indexOf(a.brdNo))e.postParams.brdNoArr.push(a.brdNo),e.postParams.brdNmArr.push(a.brdName);else{var c=e.postParams.brdNoArr.indexOf(a.brdNo);c>-1&&(e.postParams.brdNoArr.splice(c,1),e.postParams.brdNmArr.splice(c,1))}e.postParams.brdNoArr.length>0?e.uiStateObj.srhFilterBrdFlag=!0:e.uiStateObj.srhFilterBrdFlag=!1,"N"!==b&&(e.postParams.rtnType="E",e.loadDataParams(e.postParams.rtnType))},e.srhFilterBrdSortChange=function(a){"-cnt"==a?e.searchTclick2016("L","Brand_02"):e.searchTclick2016("L","Brand_01")},e.srhSortPost=function(a){switch(e.uiStateObj.sortTypeIdx=a,e.uiStateObj.srhFilterSortFlag=!0,e.postParams.rtnType="S",e.loadDataParams(e.postParams.rtnType),e.cateProdYn&&(a>=2&&5>a&&(e.uiStateObj.sortTypeIdx=a+1),5==a&&(e.uiStateObj.sortTypeIdx=2)),a){case 0:e.searchTclick2016("L","Sort_01");break;case 1:e.searchTclick2016("L","Sort_02");break;case 2:e.searchTclick2016("L","Sort_03");break;case 3:e.searchTclick2016("L","Sort_04");break;case 4:e.searchTclick2016("L","Sort_05");break;case 5:e.searchTclick2016("L","Sort_06")}e.scrollToTop()},e.srhSelectColor=function(a,b){var c=e.postParams.selectedColor.indexOf(a.colorCd);return a.selected===!0?(a.selected=!1,c>=0&&e.postParams.selectedColor.splice(c,1)):(a.selected=!0,0>c&&e.postParams.selectedColor.push(a.colorCd)),void("N"!==b&&e.srhDetailPost())},e.srhDetailSearchActiveChk=function(){var a=0;b.forEach(e.uiStateObj.srhFilterDetailArr,function(b){"Y"==e.postParams[b]&&a++}),e.postParams.selectedColor.length>0&&a++,a>0||e.postParams.priceMinU||"undefined"==typeof e.postParams.priceMinU||null!=e.postParams.priceMaxU||"undefined"==typeof e.postParams.priceMaxU||e.postParams.rekeyword?e.uiStateObj.srhFilterDetailFlag=!0:e.uiStateObj.srhFilterDetailFlag=!1},e.srhDetailPost=function(){e.srhDetailSearchActiveChk(),e.postParams.rtnType="E",e.loadDataParams(e.postParams.rtnType)},e.srhDetailChange=function(a){switch(a){case"deptYN":s(),e.searchTclick2016("L","Chk_Dep");break;case"freeDeliYN":e.searchTclick2016("L","Opt_01");break;case"smpickYN":e.searchTclick2016("L","Opt_02");break;case"freeInstYN":e.searchTclick2016("L","Opt_03");break;case"pointYN":e.searchTclick2016("L","Opt_04");break;case"isCrsPickYn":e.searchTclick2016("L","");break;case"isDlvToday":e.searchTclick2016("L","");break;case"isDlvQuick":e.searchTclick2016("L","")}e.srhDetailPost()},e.srhDetailPriceMaxlen=function(a){var b=$("#priceMaxU");"min"==a&&(b=$("#priceMinU"));var c=b.val();c.length>10&&b.val(c.substr(0,10))},e.srhDetailPriceValidate=function(a){if(e.srhDetailPriceValidateFlag=!0,null!=e.postParams.priceMinUTemp&&e.postParams.priceMinUTemp.length>0&&(e.postParams.priceMinUTemp=e.postParams.priceMinUTemp.replace(/[^0-9]/g,"")),null!=e.postParams.priceMaxUTemp&&e.postParams.priceMaxUTemp.length>0&&(e.postParams.priceMaxUTemp=e.postParams.priceMaxUTemp.replace(/[^0-9]/g,"")),"min"==a&&e.srhResultData.price.min){if("undefined"==typeof e.postParams.priceMinUTemp)return e.postParams.priceMinUTemp=e.srhResultData.price.min,e.srhDetailPriceValidateFlag=!1,alert("검색결과 내 최저가격보다 낮습니다."),!1;if("number"==typeof e.postParams.priceMinUTemp&&"number"!=typeof e.postParams.priceMaxUTemp&&e.postParams.priceMinUTemp>e.srhResultData.price.max)return e.postParams.priceMinUTemp=e.srhResultData.price.max,e.srhDetailPriceValidateFlag=!1,alert("검색결과 내 최고가격보다 높습니다."),!1;if("number"==typeof e.postParams.priceMinUTemp&&"number"==typeof e.postParams.priceMaxUTemp&&e.postParams.priceMinUTemp>e.postParams.priceMaxUTemp){e.postParams.priceMinUTemp>e.srhResultData.price.max&&(alert("검색결과 내 최고가격보다 높습니다."),e.postParams.priceMinUTemp=e.srhResultData.price.max);var b=e.postParams.priceMinUTemp;e.postParams.priceMinUTemp=e.postParams.priceMaxUTemp,e.postParams.priceMaxUTemp=b,e.srhDetailPriceValidateFlag=!0}}else if("max"==a&&e.srhResultData.price.max){if("undefined"==typeof e.postParams.priceMaxUTemp)return e.postParams.priceMaxUTemp=e.srhResultData.price.max,e.srhDetailPriceValidateFlag=!1,alert("검색결과 내 최고가격보다 높습니다."),!1;if("number"==typeof e.postParams.priceMaxUTemp&&"number"!=typeof e.postParams.priceMinUTemp&&e.postParams.priceMaxUTemp<e.srhResultData.price.min)return e.postParams.priceMaxUTemp=e.srhResultData.price.max,e.srhDetailPriceValidateFlag=!1,alert("검색결과 내 최저가격보다 낮습니다."),!1;if("number"==typeof e.postParams.priceMaxUTemp&&"number"==typeof e.postParams.priceMinUTemp&&e.postParams.priceMaxUTemp<e.postParams.priceMinUTemp){e.postParams.priceMaxUTemp<e.srhResultData.price.min&&(alert("검색결과 내 최저가격보다 낮습니다."),e.postParams.priceMaxUTemp=e.srhResultData.price.min);var b=e.postParams.priceMinUTemp;e.postParams.priceMinUTemp=e.postParams.priceMaxUTemp,e.postParams.priceMaxUTemp=b,e.srhDetailPriceValidateFlag=!0}}},e.srhDetailSearchPrice=function(a){return e.srhDetailPriceValidateFlag?(u(),e.postParams.priceMinUTemp||e.postParams.priceMaxUTemp?(e.postParams.priceMinU=e.postParams.priceMinUTemp,e.postParams.priceMaxU=e.postParams.priceMaxUTemp,e.srhDetailPost(),a===!0&&e.searchTclick2016("L","Brc_Btn"),void 0):(alert("검색 조건을 입력해 주세요."),!1)):(e.srhDetailPriceValidateFlag=!0,!1)},e.srhDetailSearchFocus=function(){e.searchUISetting.keywordIncExc=!1},e.srhDetailSearchKeyword=function(){return e.searchUISetting.keywordIncExc=!1,""==e.postParams.rekeyword?(alert("검색할 단어를 입력해 주세요."),!1):(0==e.searchUISetting.researchIdx?e.addRequeryKeyword(e.postParams.rekeyword):e.addExqueryKeyword(e.postParams.rekeyword),e.postParams.rekeyword="",void e.searchTclick2016("L","Kwd_Btn"))},e.srhDetailSearchKeypress=function(a){13===a.which&&(e.srhDetailSearchKeyword(),a.preventDefault())},e.deleteRequeryKeyword=function(a){var b=e.postParams.reQuery.indexOf(a);b>=0&&(e.postParams.reQuery.splice(b,1),e.srhKeywordPost(),e.scrollToTop())},e.deleteExqueryKeyword=function(a){var b=e.postParams.exQuery.indexOf(a);b>=0&&(e.postParams.exQuery.splice(b,1),e.srhKeywordPost(),e.scrollToTop())},e.addRequeryKeyword=function(a,b){a=a.replace(/ /g,"");var c=e.postParams.reQuery.indexOf(a);0>c&&(e.postParams.reQuery.push(a),
e.srhKeywordPost(),e.scrollToTop())},e.addExqueryKeyword=function(a){a=a.replace(/ /g,"");var b=e.postParams.exQuery.indexOf(a);0>b&&(e.postParams.exQuery.push(a),e.srhKeywordPost(),e.scrollToTop())},e.changeKeywordType=function(a){"in"==a?e.searchTclick2016("L","Kwd_01"):e.searchTclick2016("L","Kwd_02")},e.srhKeywordPost=function(){e.srhFilterCtgInit(),e.srhFilterBrdInit(),e.srhFilterDetailInit(),e.srhFilterStoreInit(),e.postParams.rtnType="K",e.loadDataParams(e.postParams.rtnType)},e.srhFilterDetailPriceIpt=function(a){b.element("#"+a).focus()},e.srhSetPriceRange=function(a,d,f){e.srhResultData.price.min,e.srhResultData.price.max;switch(a){case 5e4:e.searchTclick2016("L","Prc_02");break;case 1e5:e.searchTclick2016("L","Prc_03");break;case 3e5:e.searchTclick2016("L","Prc_04");break;case 1e6:e.searchTclick2016("L","Prc_05");break;default:e.searchTclick2016("L","Prc_01")}if(e.postParams.priceMinU=a,e.postParams.priceMaxU=d,e.postParams.priceMinUTemp=a,e.postParams.priceMaxUTemp=d,e.srhDetailSearchPrice(),f!=c){var g=b.element(f.currentTarget);g.addClass("selected")}},e.srhFilterDetailInit=function(){e.uiStateObj.srhFilterDetailFlag=!1,b.forEach(e.uiStateObj.srhFilterDetailArr,function(a){e.postParams[a]="N"}),e.srhFilterBenefitInit(),e.srhFilterColorInit(),e.srhFilterPriceInit()},e.resetAllSearchTerm=function(){if($(".side_search_wrap .ssw_content .ssw_slide.sub").scrollTop(0),e.searchUISetting.isShowSub===!0)switch(e.searchUISetting.slide){case"category":e.srhFilterCtgInit(!0),e.searchTclick2016("L","Cate_Reset");break;case"brand":e.srhFilterBrdInit(!0),e.searchTclick2016("L","Brand_Reset");break;case"sort":e.srhFilterSortInit(!0),e.searchTclick2016("L","Sort_Reset");break;case"benefit":e.srhFilterBenefitInit(!0),e.searchTclick2016("L","Opt_Reset");break;case"color":e.srhFilterColorInit(!0),e.searchTclick2016("L","Clr_Reset");break;case"price":e.srhFilterPriceInit(!0),e.searchTclick2016("L","Prc_Reset");break;case"research":e.srhFilterRequeryInit(!0),e.searchTclick2016("L","Kwd_Reset");break;case"delivery":e.srhFilterDeliveryInit(!0),e.searchTclick2016("L","")}else e.srhFilterSortInit(),e.srhFilterRequeryInit(!0),e.searchTclick2016("L","Btn_Reset")},e.srhFilterCtgInit=function(a){e.uiStateObj.srhFilterCtgFlag=!1,e.uiStateObj.srhFilterCtgDepth=0,e.uiStateObj.srhFilterCtgDepth1CtgNo="",e.uiStateObj.selectedCategory.depth1=[],e.uiStateObj.selectedCategory.depth2=[],e.uiStateObj.selectedCategory.depth3=[],e.uiStateObj.selectedCategory.depth4=[],e.uiStateObj.selectedCategory.depth5=[],e.uiStateObj.selectedCategory.ctgName=[],e.postParams.ctgNo="",e.postParams.ctgDepth=0,e.postParams.dsCtgDepth=null,e.postParams.ctgDepth1="",e.postParams.ctgDepth2="",e.postParams.ctgDepth3="",e.postParams.ctgDepth4="",e.postParams.ctgDepth5="",v(e.srhResultData.ctgLst);var b;$(".ssws_wrap.ssws_category li.open").each(function(a,c){b=$(c),b.removeClass("open"),b.find(">ul").height(0)}),$(".ssws_wrap.ssws_category .cate_d1").height(41*$(".ssws_wrap.ssws_category .cate_d1 > li").length),a===!0&&(e.srhFilterBrdInit(),e.srhFilterDetailInit(),e.postParams.rtnType="C",e.loadDataParams(e.postParams.rtnType))},e.srhFilterBrdInit=function(a){e.uiStateObj.srhFilterBrdFlag=!1,e.postParams.brdNoArr=[],e.postParams.brdNmArr=[],b.forEach(e.srhResultData.brdLst.items,function(a,b){a.checked=!1}),a===!0&&(e.postParams.rtnType="E",e.loadDataParams(e.postParams.rtnType))},e.srhFilterSortInit=function(a){e.uiStateObj.srhFilterSortFlag=!1,e.uiStateObj.sortTypeIdx=0,e.postParams.sort=e.uiStateObj.sortTypeArr[0].value,a===!0&&(e.postParams.rtnType="S",e.loadDataParams(e.postParams.rtnType))},e.srhFilterBenefitInit=function(a){e.postParams.freeDeliYN="N",e.postParams.smpickYN="N",e.postParams.freeInstYN="N",e.postParams.pointYN="N",e.postParams.smpBranchNo="",e.uiStateObj.smpickBranchName="전체",a===!0&&e.srhDetailPost()},e.srhFilterColorInit=function(a){e.postParams.selectedColor.length=0;for(var b=e.srhDetailData.srhColorList.length,c=0;b>c;c++)e.srhDetailData.srhColorList[c].selected=!1;a===!0&&e.srhDetailPost()},e.srhFilterPriceInit=function(a){e.postParams.priceMinU=null,e.postParams.priceMaxU=null,e.postParams.priceMinUTemp=null,e.postParams.priceMaxUTemp=null,u(),a===!0&&e.srhDetailPost()},e.srhFilterRequeryInit=function(a){e.postParams.reQuery.length=0,e.postParams.exQuery.length=0,e.postParams.rekeyword="",e.srhFilterCtgInit(),e.srhFilterBrdInit(),e.srhFilterDetailInit(),e.srhFilterStoreInit(),a===!0&&(e.postParams.rtnType="K",e.loadDataParams(e.postParams.rtnType))},e.srhFilterStoreInit=function(a){e.postParams.deptYN="N",a===!0&&e.srhDetailPost()},e.srhFilterDeliveryInit=function(a){e.postParams.isCrsPickYn="N",e.postParams.isDlvToday="N",e.postParams.isDlvQuick="N",e.postParams.smpickYN="N",e.searchUISetting.smartPickList=!1,e.postParams.smpBranchNo=null,e.uiStateObj.smpickBranchName="전체",a===!0&&e.srhDetailPost()},e.getSearchTermParam=function(a){var b="search2016://searchterm",d={},f=function(a,b,e){e==c&&(e=","),b!=c&&b.length>0&&(d[a]=b.join(e))},g=function(a,b,c){b===c&&(d[a]=b)};d.keyword=encodeURIComponent(e.postParams.keyword),f("brdNo",e.postParams.brdNoArr),d.sort=e.postParams.sort,g("freeDeliYN",e.postParams.freeDeliYN,"Y"),g("freeInstYN",e.postParams.freeInstYN,"Y"),g("pointYN",e.postParams.pointYN,"Y"),g("smpickYN",e.postParams.smpickYN,"Y"),"Y"==e.postParams.smpickYN&&""!=e.postParams.smpBranchNo&&(d.smpBranchNo=e.postParams.smpBranchNo),f("colorCd",e.postParams.selectedColor),e.postParams.priceMinU&&e.postParams.priceMinU>=e.srhResultData.price.min&&(d.priceMinU=e.postParams.priceMinU),e.postParams.priceMaxU&&e.postParams.priceMaxU<=e.srhResultData.price.max&&(d.priceMaxU=e.postParams.priceMaxU),f("reQuery",e.postParams.reQuery),f("exQuery",e.postParams.exQuery),g("deptYN",e.postParams.deptYN,"Y"),g("isCrsPickYn",e.postParams.isCrsPickYn,"Y"),g("isDlvToday",e.postParams.isDlvToday,"Y"),g("isDlvQuick",e.postParams.isDlvQuick,"Y"),d.dpml_no=e.postParams.dpml_no,d.brdNm=encodeURIComponent(e.postParams.brdNm),"SORT"==a&&(d.openSort="Y");var h=!1,i="";for(var j in d)h&&(i+="&"),i+=j+"="+d[j],h=!0;return b+="?"+i},e.searchFromApp=function(a){var d=e.postParams;switch(a.rtnType){case"":case"K":case"C":case"E":case"S":break;default:a.rtnType=""}var f,g,h,i=function(a,b,c,e){b==c?d[a]=c:d[a]=e},j=function(a,b){if(d[a].length=0,b!=c&&""!=b){var e=b.split(",");d[a]=[].concat(e)}};if(a.keyword!=c&&""!=a.keyword){var k=decodeURIComponent(a.keyword);d.keyword=k,e.srhResultData.keyword=k}if(a.brdNo!=c&&""!=a.brdNo&&e.srhResultData.brdLst&&e.srhResultData.brdLst.items){e.postParams.brdNoArr.length=0,e.postParams.brdNmArr.length=0;var l=a.brdNo.split(",");b.forEach(e.srhResultData.brdLst.items,function(a,b){l.indexOf(a.brdNo)<0?a.checked=!1:(a.checked=!0,e.postParams.brdNoArr.push(a.brdNo),e.postParams.brdNmArr.push(a.brdName))}),e.uiStateObj.srhFilterBrdFlag=e.postParams.brdNoArr.length>0}else e.postParams.brdNoArr.length=0,e.postParams.brdNmArr.length=0,b.forEach(e.srhResultData.brdLst.items,function(a,b){a.checked=!1});if(a.sort!=c)for(g=e.uiStateObj.sortTypeArr.length,f=0;g>f;f++)if(e.uiStateObj.sortTypeArr[f].value==a.sort){e.uiStateObj.sortTypeIdx=f,d.sort=a.sort;break}if(i("freeDeliYN",a.freeDeliYN,"Y","N"),i("freeInstYN",a.freeInstYN,"Y","N"),i("pointYN",a.pointYN,"Y","N"),i("smpickYN",a.smpickYN,"Y","N"),a.smpBranchNo==c&&(a.smpBranchNo=""),i("smpBranchNo",a.smpBranchNo,"",a.smpBranchNo),a.colorCd!=c&&""!=a.colorCd){j("selectedColor",a.colorCd);var m=a.colorCd.split(",");for(g=e.srhDetailData.srhColorList.length,f=0;g>f;f++)h=e.srhDetailData.srhColorList[f],h.selected=m.indexOf(h.colorCd)>=0}else for(d.selectedColor.length=0,g=e.srhDetailData.srhColorList.length,f=0;g>f;f++)h=e.srhDetailData.srhColorList[f],h.selected=!1;var n=parseInt(a.priceMinU,10),o=parseInt(a.priceMaxU,10);isNaN(n)?n=null:n<e.srhResultData.price.min&&(n=e.srhResultData.price.min),isNaN(o)?o=null:o>e.srhResultData.price.max&&(o=e.srhResultData.price.max),null!=n&&null!=o&&n>o&&(n=null),e.postParams.priceMinU=n,e.postParams.priceMinUTemp=n,e.postParams.priceMaxU=o,e.postParams.priceMaxUTemp=o,j("reQuery",a.reQuery),j("exQuery",a.exQuery),i("deptYN",a.deptYN,"Y","N"),e.srhDetailSearchActiveChk(),d.rtnType=a.rtnType,e.loadDataParams(d.rtnType)},a.searchFromApp=e.searchFromApp,e.searchTclick2016=function(a,b){var c=e.tClickBase;switch(e.uiStateObj.currentPageType){case"C":c+="CatSrh";break;case"S":c+="SShop";break;case"B":c+="Brand"}switch(a){case"C":break;case"L":c+="Layer";break;default:return}c+="_"+b,e.sendTclick(c)},e.lySmpickClose=function(){e.uiStateObj.smpickLayerOpenFlag=!1,b.element("#wrapper").removeClass("overflowy_hidden")},e.scrollToTop=function(){var b=$(a).scrollTop();b>1&&$(a).scrollTop(1)},r()}}}])}(window,window.angular);
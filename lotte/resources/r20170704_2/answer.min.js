!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter"]);d.questionLinkObj,d.controller("answerCtrl",["$scope","$http","$window","LotteCommon","LotteStorage","$location","$timeout",function(a,c,d,e,f,g,h){a.screenID="answer",a.showWrap=!0,a.contVisible=!0,a.subTitle="1:1문의 답변확인",a.totalRows=0,a.endCount=0,a.receiveCount=0,a.ingCount=0,a.answerList=[],a.answerListCount=0,a.pageNum=0,a.getAnswerList=function(){try{c.get(e.cscenterQnaData+"?"+a.baseParam+"&page_num="+ ++a.pageNum).success(function(b){a.answerList=a.answerList.concat(b.inquiry_list.list.items),a.answerListCount+=b.inquiry_list.list.total_count,a.totalRows=0==a.totalRows?b.inquiry_list.total_rows:a.totalRows,a.endRows=b.inquiry_list.end_count,a.receiveRows=b.inquiry_list.receive_count,a.ingRows=b.inquiry_list.ing_count,a.completeGetAnswerList=!0}).error(function(a){ajaxResponseErrorHandler(a)})}catch(b){console.error(b)}},a.goQnaDetail=function(b){d.location.href=e.cscenterAnswerDetaileUrl+"?"+a.baseParam+"&ccn_no="+b};var i=f.getSessionStorage(a.screenID+"Data"),j=f.getSessionStorage(a.screenID+"ScrollY");if(a.locationHistoryBack){var k=JSON.parse(i);a.pageLoading=!1,a.answerList=k.answerList,a.answerListCount=k.answerListCount,a.totalRows=k.totalRows,a.endRows=k.endRows,a.receiveRows=k.receiveRows,a.ingRows=k.ingRows,a.completeGetAnswerList=k.completeGetAnswerList,h(function(){b.element(d).scrollTop(j)},800)}else a.getAnswerList();b.element(d).on("unload",function(c){var e={};e.answerList=a.answerList,e.answerListCount=a.answerListCount,e.totalRows=a.totalRows,e.endRows=a.endRows,e.receiveRows=a.receiveRows,e.ingRows=a.ingRows,e.completeGetAnswerList=a.completeGetAnswerList,a.leavePageStroage&&(f.setSessionStorage(a.screenID+"Data",e,"json"),f.setSessionStorage(a.screenID+"ScrollY",b.element(d).scrollTop()))})}]),d.directive("lotteContainer",["LotteCommon",function(a){return{templateUrl:"/lotte/resources_dev/custcenter/m/answer_container.html",replace:!0,link:function(a,b,c){}}}])}(window,window.angular);var ajaxResponseFailHandler=function(a){alert("처리중 오류가 발생하였습니다."),a&&a()},ajaxResponseErrorHandler=function(a,b){if(a.error){var c=a.error.response_code,d=a.error.response_msg;if("9004"==c){var e="targetUrl="+encodeURIComponent(location.href,"UTF-8");location.href="/login/m/loginForm.do?"+e}else alert("["+c+"] "+d)}else alert("처리중 오류가 발생하였습니다.");b&&b()};
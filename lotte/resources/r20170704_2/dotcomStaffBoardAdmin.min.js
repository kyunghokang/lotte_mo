!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteCommFooter"]);d.controller("dotcomStaffBoardCtrl",["$http","$scope","LotteCommon","LotteForm","LotteUserService",function(a,b,c,d,e){b.showWrap=!0,b.contVisible=!0,b.subTitle="다고쳐 모바일",(b.screenDataReset=function(){b.pageOptions={bbsmessage:"",replyShowIdx:-1,replyContent:[]},b.screenData={page:1,pageSize:30,pageEnd:!1,totalCnt:0,boardList:[]}})(),e.getLoginInfo().isLogin&&e.getLoginInfo().isDotStaff||(alert("임직원 전용 서비스 입니다.\r\n임직원 ID로 로그인 후 이용해 주세요."),b.appObj.isNativeHeader?appSendBack():history.go(-1)),(b.getBBSData=function(){var d=c.dotcomStaffBoardData+"?"+b.baseParam+"&evt_no=275960";b.screenData.page&&(d+="&page="+b.screenData.page),b.screenData.pageSize&&(d+="&display_cnt="+b.screenData.pageSize),a.get(d).success(function(a){b.screenData.boardList=b.screenData.boardList.concat(a.boardList),b.screenData.totalCnt=a.totalCnt})["finally"](function(a){b.productListLoading=!1,b.$parent.LotteSuperBlockStatus=!1,b.pageLoading=!1})})(),b.staffBoardWrite=function(){var a="";if(b.pageOptions.bbsmessage&&(a=(b.pageOptions.bbsmessage+"").replace(/ /gi,"")),a&&""!=a){var e={evt_no:"275960",bbc_fcont:b.pageOptions.bbsmessage};d.FormSubmitForAjax(c.dotcomStaffBoardWrite,e).success(function(a){"0000"!=a.commonResponseEntity.response_code?alert(a.commonResponseEntity.response_msg):(alert("등록 되었습니다."),b.screenDataReset(),b.getBBSData())})}else alert("결함 내용을 입력해 주세요.")},b.deleteContent=function(a){if(confirm("삭제 하시겠습니까?")){var e={evt_no:"275960",bbc_sn:a.bbcSn,is_admin:"Y"};d.FormSubmitForAjax(c.dotcomStaffBoardDelete,e).success(function(a){"0000"!=a.commonResponseEntity.response_code?alert(a.commonResponseEntity.response_msg):(alert("삭제 되었습니다."),b.screenDataReset(),b.getBBSData())})}},b.regReplyContent=function(a){var e="";if(b.pageOptions.replyContent[this.$index]&&(e=(b.pageOptions.replyContent[this.$index]+"").replace(/ /gi,"")),""!=e){var f={evt_no:"275960",bbc_sn:a.bbcSn,bbc_fcont:b.pageOptions.replyContent[this.$index]};d.FormSubmitForAjax(c.dotcomStaffBoardReply,f).success(function(a){"0000"!=a.commonResponseEntity.response_code?alert(a.commonResponseEntity.response_msg):(alert("등록 되었습니다."),b.screenDataReset(),b.getBBSData())})}else alert("댓글 내용을 입력해 주세요.")},b.moreContentShow=function(){b.screenData.totalCnt==b.screenData.boardList.length||b.pageLoading||(b.pageLoading=!0,b.$parent.LotteSuperBlockStatus=!0,b.screenData.page++,b.getBBSData())}}]),d.directive("lotteStaffContainer",["LotteCommon",function(a){return{templateUrl:"/lotte/resources_dev/custcenter/dotcomStaffBoardAdmin_container.html",replace:!0,link:function(a,b,c){a.toggleReplyContent=function(){a.pageOptions.replyShowIdx=-1==a.pageOptions.replyShowIdx?this.$index:-1}}}}])}(window,window.angular);
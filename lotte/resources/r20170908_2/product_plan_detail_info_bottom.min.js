!function(a,b,c){"use strict";var d=b.module("app",["lotteComm"]);d.controller("productPlanDetailInfoBottomCtrl",["$window","$http","$scope","$timeout","LotteCommon","commInitData",function(a,c,d,e,f,g){d.showWrap=!0,d.contVisible=!0,d.pageUI={prdPlanDetailInfoBottom:{}};var h=g.query.goods_no,i=g.query.type;h&&c.get(f.planPrdDetailData,{params:{goods_no:h,type:i}}).success(function(a){a&&(d.defenseBadHtml(a.data.planPrdHtml,b.element("#planPrdBottomHtml")),e(function(){d.prdDetailInfoModified(b.element("#planPrdBottomHtml"),b.element("#planPrdBottomHtml iframe, #planPrdBottomHtml .size_guide_wrap .tabel_list_wrap >table"))},100))}).error(function(){console.log("Data Error : 상품기본정보 로드 실패")}),d.prdDetailInfoModified=function(c,d){return c&&d?void d.each(function(d,e){var f=b.element(a),g=null,h=null,i=null,j=null,k=null,l=0,m=!1,n=50,o=1,p=0,q=0,r=0,s=f.width(),t=function(){},u=function(){},v=function(){};"TABLE"==e.tagName?(g=b.element('<div class="prddetail_scrollwrap"></div>'),h=b.element(e),i=b.element('<div class="prddetail_scrollbox"></div>'),j=b.element('<span class="scroll_arrow left">&lt;</span>'),k=b.element('<span class="scroll_arrow right">&gt;</span>'),t=function(){var a=i.scrollLeft();q=h.outerWidth(),a>5?(j.stop().css("opacity",0).show().animate({opacity:1},1e3),g.addClass("left_scroll")):(g.removeClass("left_scroll"),j.hide()),a+5<q-i.width()?(k.stop().css("opacity",0).show().animate({opacity:1},1e3),g.addClass("right_scroll")):(g.removeClass("right_scroll"),k.hide())},u=function(){h.after(g),g.append(i.append(h),j,k),i.on("scroll",t),v(),t()},v=function(){return s==f.width()?!1:(s=f.width(),q=h.outerWidth(),r=h.outerHeight(),m?(j.css("top",r/2-j.height()/2),k.css("top",r/2-k.height()/2)):(j.css("top",n),k.css("top",n)),void(h.width()>s-l?(i.attr("style","max-width:100%;overflow-x:scroll;width:"+(s-l)+"px !important"),j.show(),k.show()):(i.removeAttr("style"),j.hide(),k.hide())))}):"IFRAME"==e.tagName&&(g=b.element('<div class="resizer"></div>'),h=b.element(e),u=function(){h.after(g),g.append(h)},v=function(){o=c.width()/h.width(),p=h.height()*o,1>o&&(h.css({"-transform-origin":"0 0",transform:"scale("+o+", "+o+")"}),g.attr("style","overflow:hidden;height:"+Math.round(p)+"px !important"))}),u(),v(),f.on("resize.prdDetailInfoModified",v)}):!1},d.defenseBadHtml=function(a,b){a=a?a:"",a=a.replace(/<link(.*?)>/gi,""),a=a.replace(/<meta(.*?)>/gi,""),a=a.replace(/<script/gi,"<noscript"),a=a.replace(/<\/script/gi,"</noscript"),a=a.replace(/<noscript(.*?)>([\S\s]*?)<\/noscript>/gi,""),a=a.replace(/<style(.*?)>([\S\s]*?)<\/style>/gi,""),a=a.replace(/<object(.*?)>([\S\s]*?)<\/object>/gi,""),a=a.replace(/<embed(.*?)>/gi,""),b.html(a)}}]),d.directive("lotteContainer",function(){return{templateUrl:"/lotte/resources_dev/product/m/webview/product_plan_detail_info_bottom_container.html",replace:!0,link:function(a,b,c){}}})}(window,window.angular);
!function(a,b,c){"use strict";var d=b.module("app",["lotteComm","lotteSrh","lotteSideCtg","lotteSideMylotte","lotteCommFooter"]);d.controller("ReviewFavoriteCtrl",["$scope","LotteCommon","LotteGA",function(a,b,c){a.showWrap=!0,a.contVisible=!0,a.subTitle="즐겨찾는 리뷰어",a.dummyUrl="http://image.lotte.com/lotte/mo2018/reviews/default_profile.png",a.gaCtgName="MO_내상품평_즐겨찾는리뷰어",a.pageUI={sort:"D",mode:0,loadData:null}}]),d.directive("onErrorSrc2",function(){return{link:function(a,b,c){b.bind("error",function(){c.curIndex&&a.pageUI.loadData.reviewerList.items[c.curIndex-1].reviewerImgUrl!=a.dummyUrl&&(a.pageUI.loadData.reviewerList.items[c.curIndex-1].reviewerImgUrl=a.dummyUrl)})}}}),d.directive("lotteContainer",["$http","$timeout","LotteCommon","LotteGA",function(a,b,c,d){return{templateUrl:"/lotte/resources_dev/product/m/review_favorite_container.html",replace:!0,link:function(e,f,g){function h(a){return 10>a?"0"+a:a}(e.loadData=function(b){b&&d.evtTag(e.gaCtgName,b,"N"==e.pageUI.sort?"가나다순":"최근즐겨찾은순"),e.jsonLoading=!0,a.get(c.isTestFlag?"/json/comment/favorite_reviewer_all.json":c.favoriteReviewerList,{params:{mbr_no:e.loginInfo.mbrNo,all_view_yn:"Y",sort:e.pageUI.sort}}).success(function(a){a.favoriteReviewer&&(e.pageUI.loadData=a.favoriteReviewer)}).error(function(){console.log("Data Error : 즐겨찾는 리뷰어 데이터 로드 실패")})["finally"](function(){e.jsonLoading=!1})})(),e.editFavorite=function(){e.pageUI.mode=1,d.evtTag(e.gaCtgName,"편집버튼","편집")},e.clearFavorite=function(){for(var a=0;a<e.pageUI.loadData.reviewerList.items.length;a++)e.pageUI.loadData.reviewerList.items[a].checked=!1;e.pageUI.mode=0,d.evtTag(e.gaCtgName,"편집버튼","취소버튼")},e.delFavorite=function(){d.evtTag(e.gaCtgName,"편집버튼","삭제버튼");for(var b="",f=0;f<e.pageUI.loadData.reviewerList.items.length;f++){var g=e.pageUI.loadData.reviewerList.items[f];g.checked&&(b+=(""!=b?",":"")+g.reviewerMbrNo)}b&&confirm("즐겨찾는 리뷰어 목록에서 삭제하시겠습니까?")&&a.get(c.delFavReviewer,{params:{mbr_no:e.loginInfo.mbrNo,revr_mbr_no_list:b}}).success(function(a){a.data&&a.data.resultCode&&"01"==a.data.resultCode&&(e.mode=0,e.loadData()),a.data.resultMsg&&alert(a.data.resultMsg)}).error(function(){console.log("Data Error : 즐겨찾는 리뷰어 삭제 실패")})["finally"](function(){e.jsonLoading=!1})},e.goReviewerHome=function(a,c){d.evtTag(e.gaCtgName,"리뷰어 홈 가기","리뷰어_"+h(c),a.reviewerMbrNo),a.reviewerHomeUrl&&b(function(){location.href=a.reviewerHomeUrl.indexOf("?")>-1?a.reviewerHomeUrl+"&"+e.baseParam:a.reviewerHomeUrl+"?"+e.baseParam},300)},e.getFlagStyle=function(a){return a?1==parseInt(a)?{"background-color":"#e6899C"}:parseInt(a)<=10?{"background-color":"#7691c6"}:{}:{}}}}}])}(window,window.angular);
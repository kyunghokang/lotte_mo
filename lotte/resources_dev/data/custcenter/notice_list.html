{
  "notice_list" : {
    "total_rows" : 11,
    "list" : {
      "items" : [ {
        "bbc_no" : "14079221",
        "bbc_tit_nm" : "공지test",
        "bbc_fcont" : "<p>test</p>",
        "bbc_prio_rnk" : 0,
        "emerg_yn" : true
      }, {
        "bbc_no" : "14079226",
        "bbc_tit_nm" : "모바일 공지테스트1",
        "bbc_fcont" : "<p>34543</p>",
        "bbc_prio_rnk" : 0,
        "emerg_yn" : false
      }, {
        "bbc_no" : "14079225",
        "bbc_tit_nm" : "공지테스트1",
        "bbc_fcont" : "<p>43243</p>",
        "bbc_prio_rnk" : 0,
        "emerg_yn" : false
      }, {
        "bbc_no" : "14079199",
        "bbc_tit_nm" : "더보기테스트1",
        "bbc_fcont" : "<p>13213</p>",
        "bbc_prio_rnk" : 0,
        "emerg_yn" : false
      }, {
        "bbc_no" : "14079155",
        "bbc_tit_nm" : "test",
        "bbc_fcont" : "<p>반품<br />201509091279343_14054279<br />201509091279358_14054282<br />201509091279403_14054289<br />201509091279336_14054276</p><p>주문<br />201509081279309_14054235<br />201509081279323_14054241<br />201509081279325_14054242<br />201509081279305_14054233<br />201509081279311_14054236<br />201509081279315_14054237<br />201509081279327_14054243<br />201509081279307_14054234<br />201509081279317_14054238<br />201509081279319_14054239<br />201509081279329_14054244</p>",
        "bbc_prio_rnk" : 0,
        "emerg_yn" : false
      }, {
        "bbc_no" : "14079154",
        "bbc_tit_nm" : "test",
        "bbc_fcont" : "<p>201509091279380_14054261<br />201509091279378_14054260<br />201509091279336_14054245<br />201509091279403_14054273<br />201509091279347_14054249<br />201509091279365_14054254<br />201509091279358_14054252<br />201509091279367_14054255<br />201509091279393_14054265<br />201509091279405_14054274<br />201509091279400_14054267<br />201509091279371_14054257<br />201509091279343_14054248<br />201509091279349_14054250<br />201509091279361_14054253<br />201509091279395_14054266<br />201509091279403_14054268<br />201509091279382_14054262<br />201509091279341_14054247<br />201509091279339_14054246<br />201509091279373_14054258<br />201509091279400_14054272<br />201509091279389_14054264<br />201509091279405_14054269<br />201509091279376_14054259<br />201509091279352_14054251<br />&nbsp;</p>",
        "bbc_prio_rnk" : 0,
        "emerg_yn" : false
      }, {
        "bbc_no" : "14079153",
        "bbc_tit_nm" : "Test",
        "bbc_fcont" : "<p>201509071279026_14054185<br />201509071278988_14054172<br />201509071278995_14054174<br />201509071279031_14054187<br />201509081279197_14054217<br />201509081279201_14054219<br />201509071278986_14054171<br />201509081279251_14054223<br />201509071278991_14054173<br />201509081279249_14054222<br />201509071279046_14054194<br />201509081279199_14054218<br />201509071279039_14054191<br />201509081279195_14054216<br />&nbsp;</p>",
        "bbc_prio_rnk" : 0,
        "emerg_yn" : false
      }, {
        "bbc_no" : "14079150",
        "bbc_tit_nm" : "Test",
        "bbc_fcont" : "<p>*FO<br />/gl/APP-INF/conf/sqlmap/order/OpOrdDtlInfo.xml<br />/gl/src/com/mall/dto/order/OpOrdDtlInfo.java<br />/gl/src/com/mall/frm/Const.java<br />/gl/src/com/mall/frm/ConstCode.java<br />/gl/src/com/mall/frm/util/JspUtil.java<br />/gl/webapp/mylotte/OrderChnRtnListIS.jsp<br />/gl/webapp/mylotte/OrderReturn_pop_inc2.jsp<br />/gl/webapp/mylotte/OrderReturn_pop_inc2_Global.jsp<br />/gl/webapp/mylotte/OrderReturn_pop_inc2_GlobalNew.jsp<br />/gl/webapp/mylotte/OrderReturn_pop_inc3_Global.jsp<br />/gl/webapp/mylotte/OrderReturn_pop_inc3_GlobalNew.jsp</p><p>&nbsp;</p><p>*BO</p><p>/bo/APP-INF/conf/spring/applicationContextGlobal.xml<br />/bo/APP-INF/conf/sqlmap/global/base/BaseOpFrgnDlvInfoTrx.xml<br />/bo/APP-INF/conf/sqlmap/global/OpFrgnDlvInfo.xml<br />/bo/APP-INF/conf/sqlmap/global/OpFrgnDlvInfoTrx.xml<br />/bo/APP-INF/conf/sqlmap/goods/PrGoodsBaseTrx.xml<br />/bo/src/com/mall/biz/global/GlobalMgr.java<br />/bo/src/com/mall/biz/global/GlobalMgrImpl.java<br />/bo/src/com/mall/controller/OpenApiController.java<br />/bo/src/com/mall/dao/global/OpFrgnDlvInfoDaoTrx.java<br />/bo/src/com/mall/dao/goods/PrGoodsBaseDaoTrx.java<br />/bo/src/com/mall/dto/global/base/BaseOpFrgnDlvInfo.java</p><p>유승범<br />/bo/APP-INF/conf/spring/actionContextOrderClaim.xml<br />/bo/APP-INF/conf/sqlmap/global/OpFrgnDlvInfo.xml<br />/bo/src/com/mall/biz/orderclaim/OrderClaimMgr.java<br />/bo/src/com/mall/biz/orderclaim/OrderClaimMgrImpl.java<br />/bo/src/com/mall/controller/OrderClaimController.java<br />/bo/src/com/mall/dao/global/OpFrgnDlvInfoDao.java<br />/bo/webapp/logistics/deliver/FrgnDeliverList.jsp<br />/bo/webapp/logistics/deliver/FrgnDeliverMgmt.jsp<br />/bo/webapp/logistics/deliver/FrgnDeliverMgmtIS.jsp<br />/bo/webapp/logistics/deliver/FrgnDeliverRealPrc.jsp<br />/bo/webapp/logistics/deliver/FrgnOrdGoodsDomRtgsMgmt.jsp<br />/bo/webapp/logistics/deliver/FrgnOrdGoodsFrgnRtgsMgmt.jsp</p><p>경식<br />/bo/APP-INF/conf/sqlmap/global/OpFrgnDlvInfo.xml<br />/bo/APP-INF/conf/sqlmap/order/OpOrdDtlInfo.xml<br />/bo/src/com/mall/frm/Const.java<br />/bo/src/com/mall/frm/ConstCode.java<br />/bo/webapp/logistics/deliver/FrgnDeliverList.jsp<br />/bo/webapp/logistics/deliver/FrgnDeliverMgmt.jsp<br />/bo/webapp/logistics/deliver/FrgnDeliverMgmtIS.jsp<br />/bo/webapp/logistics/deliver/FrgnDeliverRealPrc.jsp<br />/bo/webapp/logistics/deliver/FrgnOrdGoodsDomRtgsMgmt.jsp<br />/bo/webapp/logistics/deliver/FrgnOrdGoodsFrgnRtgsMgmt.jsp<br />/bo/webapp/order/claim/OrderClaimMgmtScript.jsp<br />/bo/webapp/order/claim/OrderReturnMgmtGL_pop.jsp</p><p><br />*BATCH<br />/batch/conf/spring/applicationContextGlobalMall.xml<br />/batch/conf/sqlmap/globalmall/OpFrgnDlvInfo.xml<br />/batch/lib/commons-interfaces.jar<br />/batch/src/com/globalmall/biz/order/HanjinSndRtnInfoImpl.java<br />/batch/src/com/globalmall/frm/GlobalMallConst.java</p><p>&nbsp;</p><p>*zInterfaces<br />/zInterfaces/lib/httpclient-4.5.jar<br />/zInterfaces/src/com/hyundai/interfaces/dao/HDCommonDao.java<br />/zInterfaces/src/com/hyundai/interfaces/dao/HDDao.java<br />/zInterfaces/src/com/hyundai/interfaces/dao/HDDaoTrx.java<br />/zInterfaces/src/com/hyundai/interfaces/dto/HDCommonDto.java<br />/zInterfaces/src/com/hyundai/interfaces/dto/HDOrdInfoDto.java<br />/zInterfaces/src/com/hyundai/interfaces/dto/LotteDto.java<br />/zInterfaces/src/com/hyundai/interfaces/frm/HDConstCode.java<br />/zInterfaces/src/com/hyundai/interfaces/frm/HDHttpUtil.java<br />/zInterfaces/src/com/hyundai/interfaces/frm/HDUtil.java<br />/zInterfaces/src/com/hyundai/interfaces/frm/XmlUtil.java<br />/zInterfaces/src/com/hyundai/interfaces/HDProcessorMgr.java<br />/zInterfaces/src/com/hyundai/interfaces/HDProcessorMgrImpl.java<br />/zInterfaces/src/com/hyundai/interfaces/processor/HDException.java<br />/zInterfaces/src/com/hyundai/interfaces/processor/HDInterfaces.java<br />/zInterfaces/src/com/hyundai/interfaces/processor/HDProcessor.java<br />/zInterfaces/src/interfaces/spring/applicationContextInterfaces.xml<br />/zInterfaces/src/interfaces/spring/persistenceContextInterfaces.xml<br />/zInterfaces/src/interfaces/sqlmap/hyundai/Hyundai.xml<br />/zInterfaces/src/interfaces/sqlmap/hyundai/HyundaiTrx.xml<br />/zInterfaces/src/interfaces/sqlmap/sql-map-config.xml<br />/zInterfaces/src_app/hyundai/Hyundai.java<br />&nbsp;</p>",
        "bbc_prio_rnk" : 0,
        "emerg_yn" : false
      }, {
        "bbc_no" : "14078951",
        "bbc_tit_nm" : "Test",
        "bbc_fcont" : "<p><br />*kschoi2<br />/gl/APP-INF/conf/sqlmap/global/GlobalCommon.xml<br />/gl/APP-INF/conf/sqlmap/order/OpOrdDtlInfo.xml<br />/gl/src/com/mall/biz/order/OrderMgr.java<br />/gl/src/com/mall/biz/order/OrderMgrImpl.java<br />/gl/src/com/mall/controller/MyLotteController.java<br />/gl/src/com/mall/controller/OrderController.java<br />/gl/src/com/mall/dao/order/OpOrdDtlInfoDao.java<br />/gl/webapp/order/OrderCompleteGL.jsp<br />/gl/webapp/settle/alipay/ReAliPayRequest.jsp<br />/gl/webapp/order/OrderSheetAddIS2.jsp<br />/gl/webapp/mylotte/OrderListIS.jsp<br />/gl/webapp/mylotte/include/IncOrderDtlPaymentViewIS.jsp<br />/gl/webroot/common/js/global_common.js<br />/gl/webroot/common/js/orderGL.js<br />/gl/webapp/mylotte/include/IncOrderDtlGoodsListIS.jsp<br />/gl/APP-INF/conf/sqlmap/order/OpOrdAdtnCostInfo.xml<br />/gl/APP-INF/conf/sqlmap/order/OpPayBase.xml<br />/gl/APP-INF/conf/spring/actionContextOrder.xml<br />/gl/src/com/mall/biz/global/GlobalMgr.java<br />/gl/src/com/mall/biz/global/GlobalMgrImpl.java<br />/gl/src/com/mall/controller/MemberController.java<br />/gl/src/com/mall/dao/global/GlobalDao.java<br />/gl/webapp/settle/alipay/AliPayRequestGL.jsp<br />/gl/webapp/settle/krp/sale_request.jsp<br />/gl/src/com/mall/frm/Const.java<br />/gl/webapp/settle/alipay/ReAliPayRequest.jsp<br />/gl/webapp/settle/alipay/AliPayResponse.jsp<br />/gl/webapp/settle/alipay/AliPayRequestGL.jsp<br />/gl/src/com/mall/frm/util/JspUtil.java<br />/gl/src/com/mall/frm/ConstCode.java<br />/gl/src/com/mall/dto/cart/OpCartInfo.java<br />/gl/src/com/mall/dao/global/GlobalDaoTrx.java<br />/gl/APP-INF/conf/sqlmap/order/TempOrdTrx.xml<br />/gl/APP-INF/conf/sqlmap/global/GlobalCommonTrx.xml<br />/gl/APP-INF/conf/sqlmap/cart/OpCartInfo.xml</p><p><br />*kskim6<br />/gl/src/com/mall/frm/util/GlUtil.java<br />/gl/src/com/mall/biz/mylotte/MyLotteMgrImpl.java<br />/gl/APP-INF/conf/sqlmap/global/GlobalCommon.xml<br />/gl/src/com/mall/dao/global/GlobalDao.java</p><p><br />*sbyoo<br />/gl/webapp/cart/CartListIS.jsp<br />/gl/webroot/cart<br />/gl/webroot/cart/pop_notice_alipay.html<br />/gl/APP-INF/conf/sqlmap/cart/OpCartInfo.xml<br />/gl/webroot/css/global_order.css<br />/gl/webroot/css_ssl/global_order.css<br />/gl/src/com/mall/controller/OrderController.java<br />/gl/APP-INF/conf/message/cn/cart_cn.properties<br />/gl/APP-INF/conf/message/en/cart_en.properties<br />/gl/src/com/mall/biz/cart/CartMgr.java<br />/gl/src/com/mall/biz/cart/CartMgrImpl.java<br />/gl/src/com/mall/dao/cart/OpCartInfoDao.java<br />/gl/webapp/cart/include/incEmptyCartIS.jsp<br />/gl/webapp/order/NoticeBeforeCheckOut.jsp<br />/gl/webroot/common/js/cartIS.js</p><p>&nbsp;</p><p>&nbsp;</p><p>*kschoi2<br />/zInterfaces/src/com/alipay/interfaces/frm/AlipayServiceUtil.java<br />/zInterfaces/src/interfaces.dev.properties<br />/zInterfaces/src/interfaces.local.properties<br />/zInterfaces/src/interfaces.properties<br />/zInterfaces/src/interfaces.tst.properties<br />/zInterfaces/src/com/krp/interfaces/frm/KrpConfig.java<br />/zInterfaces/src/com/alipay/interfaces/dto/OpAliPayLinkInfo.java<br />/zInterfaces/src/com/alipay/interfaces/dto/base/BaseOpAliPayLinkInfo.java<br />/zInterfaces/src/com/alipay/interfaces/frm/AlipayCommonDto.java<br />/zInterfaces/src/com/alipay/interfaces/frm/AlipayConfig.java<br />/zInterfaces/src/com/alipay/interfaces/processor/AlipayRequestProcessor.java</p><p>&nbsp;</p><p><br />*sbyoo<br />/zInterfaces/src/com/alipay/interfaces/processor/AlipayRequestProcessor.java<br />/zInterfaces/src/com/alipay/interfaces/frm/AlipayServiceUtil.java<br />/zInterfaces/src/com/alipay/interfaces/AlipayProcessorMgr.java<br />/zInterfaces/src/com/alipay/interfaces/AlipayProcessorMgrImpl.java<br />/zInterfaces/src/com/alipay/interfaces/dao/AlipayDaoTrx.java<br />/zInterfaces/src/com/alipay/interfaces/dto/OpAliProcLogInfo.java<br />/zInterfaces/src/com/alipay/interfaces/dto/base/BaseOpAliProcLogInfo.java<br />/zInterfaces/src/com/alipay/interfaces/frm/AlipayCommonDto.java<br />/zInterfaces/src/com/alipay/interfaces/frm/AlipayConfig.java<br />/zInterfaces/src/interfaces/sqlmap/alipay/AlipayTrx.xml</p><p>&nbsp;</p><p>BO<br />/smartpick_bo/src/com/mall/biz/orderclaim/OrderClaimMgrImpl.java<br />/smartpick_bo/src/com/mall/dao/global/OpAliPayLinkInfoDao.java<br />/smartpick_bo/APP-INF/conf/sqlmap/global/OpAliPayLinkInfo.xml<br />/smartpick_bo/webapp/order/claim/OrderChangeMgmt_popScript.jsp</p><p>BATCH<br />/batch/src/com/mall/biz/order/AutoRefundProcMgrImpl.java<br />/batch/src/com/mall/dao/order/AutoRefundProcDao.java<br />/batch/conf/sqlmap/order/AutoRefundProc.xml</p><p>&nbsp;</p>",
        "bbc_prio_rnk" : 0,
        "emerg_yn" : false
      }, {
        "bbc_no" : "14078950",
        "bbc_tit_nm" : "Test",
        "bbc_fcont" : "<p><br />/* GL 주문 거래통화결제금액 계산 */<br />/*결제*/<br />SELECT&nbsp;&nbsp; SUM(SALE_AMT)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,SUM(TRADE_CRC_SALE_AMT)<br />FROM&nbsp;&nbsp;&nbsp;&nbsp; (<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SELECT&nbsp;&nbsp; SUM(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CASE WHEN ( OD.ORD_DTL_SCT_CD IN (\u002710\u0027, \u002714\u0027,\u002716\u0027) ) OR ( OD.ORD_DTL_SCT_CD = \u002712\u0027 AND NVL(OD.PAY_PROC_SN, 0) &gt; 0 ) THEN OD.SALE_PRC ELSE 0 END *<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CASE WHEN OD.ORD_DTL_SCT_CD IN (\u002710\u0027, \u002714\u0027) THEN OD.ORD_QTY - OD.CNCL_QTY&nbsp; ELSE&nbsp; -1 * ( OD.ORD_QTY - OD.CNCL_QTY&nbsp; ) END<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) AS SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,SUM(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CASE WHEN ( OD.ORD_DTL_SCT_CD IN (\u002710\u0027, \u002714\u0027,\u002716\u0027) ) OR ( OD.ORD_DTL_SCT_CD = \u002712\u0027 AND NVL(OD.PAY_PROC_SN, 0) &gt; 0 ) THEN OD.TRADE_CRC_SALE_AMT ELSE 0 END *<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CASE WHEN OD.ORD_DTL_SCT_CD IN (\u002710\u0027, \u002714\u0027) THEN OD.ORD_QTY - OD.CNCL_QTY&nbsp; ELSE&nbsp; -1 * ( OD.ORD_QTY - OD.CNCL_QTY&nbsp; ) END<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) AS TRADE_CRC_SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM&nbsp;&nbsp;&nbsp;&nbsp; OP_ORD_DTL_INFO OD<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE&nbsp;&nbsp;&nbsp; 1 = 1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OD.ORD_DTL_SCT_CD IN (\u002710\u0027, \u002712\u0027, \u002714\u0027, \u002716\u0027) -- 주문내역구분코드 (J182 --&gt; 10 : 주문, 11 : 주문취소, 12 : 반품, 13 : 반품취소, 14 : 교환주문, 15 : 교환주문취소, 16 : 교환반품, 17 : 교환반품취소, 18 : 추가배송, 22 : 환출)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OD.ORD_NO = arg_ord_no<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NVL(OD.PKG_GOODS_SN, 0) &lt;&gt; 1 -- 묶음상품의 대표상품 제외<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UNION ALL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SELECT&nbsp;&nbsp; SUM( CASE WHEN OC.ADTN_COST_OCCUR_SCT_CD = \u002710\u0027 THEN -1 * OC.APLY_ADTN_COST_AMT ELSE OC.APLY_ADTN_COST_AMT END ) AS SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,SUM( CASE WHEN OC.ADTN_COST_OCCUR_SCT_CD = \u002710\u0027 THEN -1 * OC.TRADE_CRC_APLY_ADTN_COST_AMT ELSE OC.TRADE_CRC_APLY_ADTN_COST_AMT END ) AS TRADE_CRC_SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM&nbsp;&nbsp;&nbsp;&nbsp; OP_ORD_ADTN_COST_INFO OC <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE&nbsp;&nbsp;&nbsp; 1 = 1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OC.ORD_NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = arg_ord_no<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NVL(OC.PAY_PROC_SN, 0) &gt; 0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OC.ADTN_COST_SCT_CD IN (\u002710\u0027,\u002750\u0027) -- 부가비용구분코드 (J144 : 할인)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UNION ALL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SELECT&nbsp;&nbsp; SUM( CASE WHEN OC.ADTN_COST_OCCUR_SCT_CD = \u002710\u0027 THEN OC.APLY_ADTN_COST_AMT ELSE -1 * OC.APLY_ADTN_COST_AMT END ) AS SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,SUM( CASE WHEN OC.ADTN_COST_OCCUR_SCT_CD = \u002710\u0027 THEN OC.TRADE_CRC_APLY_ADTN_COST_AMT ELSE -1 * OC.TRADE_CRC_APLY_ADTN_COST_AMT END ) AS TRADE_CRC_SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM&nbsp;&nbsp;&nbsp;&nbsp; OP_ORD_ADTN_COST_INFO OC <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE&nbsp;&nbsp;&nbsp; 1 = 1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OC.ORD_NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = arg_ord_no<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NVL(OC.DLEX_OCCUR_SCT_CD, \u002700\u0027) IN ( \u002700\u0027, \u002705\u0027)&nbsp; -- 배송비발생구분이 일반일 경우<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NVL(OC.PAY_PROC_SN, 0) &gt; 0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OC.ADTN_COST_SCT_CD = \u002730\u0027 -- 부가비용구분코드 (J144 : 비용)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />arg_ord_no : \u0027201507066693545\u0027&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p><br />/*환불*/<br />SELECT&nbsp;&nbsp; SUM(SALE_AMT)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,SUM(TRADE_CRC_SALE_AMT)<br />FROM&nbsp;&nbsp;&nbsp;&nbsp; (<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SELECT&nbsp;&nbsp; SUM(OD.SALE_PRC * (OD.ORD_QTY - OD.CNCL_QTY)&nbsp; ) AS SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,SUM( OD.TRADE_CRC_SALE_AMT * (OD.ORD_QTY - OD.CNCL_QTY) ) AS TRADE_CRC_SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM&nbsp;&nbsp;&nbsp;&nbsp; OP_ORD_DTL_INFO OD<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE&nbsp;&nbsp;&nbsp; 1 = 1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OD.ORD_NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = arg_ord_no<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OD.PAY_PROC_SN = arg_pay_proc_sn<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NVL(OD.PKG_GOODS_SN, 0) &lt;&gt; 1 -- 묶음상품의 대표상품 제외<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UNION ALL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SELECT&nbsp;&nbsp; SUM( CASE WHEN OC.ADTN_COST_OCCUR_SCT_CD = \u002710\u0027 THEN OC.APLY_ADTN_COST_AMT ELSE -1 * OC.APLY_ADTN_COST_AMT END ) AS SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,SUM( CASE WHEN OC.ADTN_COST_OCCUR_SCT_CD = \u002710\u0027 THEN OC.TRADE_CRC_APLY_ADTN_COST_AMT ELSE -1 * OC.TRADE_CRC_APLY_ADTN_COST_AMT END ) AS TRADE_CRC_SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM&nbsp;&nbsp;&nbsp;&nbsp; OP_ORD_ADTN_COST_INFO OC<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE&nbsp;&nbsp;&nbsp; 1 = 1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OC.ORD_NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = arg_ord_no<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OC.PAY_PROC_SN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = arg_pay_proc_sn<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OC.ADTN_COST_SCT_CD IN (\u002710\u0027,\u002750\u0027) -- 부가비용구분코드 (J144 : 할인)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UNION ALL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SELECT&nbsp;&nbsp; SUM( CASE WHEN OC.ADTN_COST_OCCUR_SCT_CD = \u002710\u0027 THEN -1 * OC.APLY_ADTN_COST_AMT ELSE OC.APLY_ADTN_COST_AMT END ) AS SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,SUM( CASE WHEN OC.ADTN_COST_OCCUR_SCT_CD = \u002710\u0027 THEN -1 * OC.TRADE_CRC_APLY_ADTN_COST_AMT ELSE OC.TRADE_CRC_APLY_ADTN_COST_AMT END ) AS TRADE_CRC_SALE_AMT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM&nbsp;&nbsp;&nbsp;&nbsp; OP_ORD_ADTN_COST_INFO OC <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE&nbsp;&nbsp;&nbsp; 1 = 1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OC.ORD_NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = arg_ord_no<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OC.PAY_PROC_SN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = arg_pay_proc_sn<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NVL(OC.DLEX_OCCUR_SCT_CD, \u002700\u0027) IN ( \u002700\u0027, \u002705\u0027)&nbsp; -- 배송비발생구분이 일반일 경우<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OC.ADTN_COST_SCT_CD = \u002730\u0027 -- 부가비용구분코드 (J144 : 비용)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>arg_ord_no : \u0027201507066693545\u0027&nbsp; <br />arg_pay_proc_sn : 1</p><p>&nbsp;</p><p><br />/* { 알리페이 환불금액 조회(USD) } */<br />select sum(case when pay_sct_cd = \u002710\u0027 then -1*trade_crc_pay_amt<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else trade_crc_pay_amt<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) trade_crc_pay_amt<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,sum(case when pay_sct_cd = \u002710\u0027 then -1*pay_amt<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else pay_amt<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) pay_amt<br />from op_pay_base a<br />where ord_no = #ord_no#<br />&nbsp; and a.pay_proc_sn in ( select c.pay_proc_sn <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from temp_clm_pay b<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,op_pay_base c <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where b.clm_id = #clm_id#<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and b.pay_id = c.pay_sn<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />#ord_no# : \u0027201505153101109\u0027<br />#clm_id# : 23631220</p><p>&nbsp;</p><p>/* { 알리페이 결제정보 조회 } */<br />select <br />&nbsp; ap.ali_pay_seq<br />&nbsp;,ap.ali_trade_no<br />from <br />&nbsp;op_ali_pay_link_info ap<br />where 1=1<br />&nbsp;and ap.ord_no = #ord_no#<br />&nbsp;and ap.pay_sn = #pay_sn#<br />&nbsp;and ap.ali_pay_stat_cd = \u002710\u0027 /* 알리페이 결제 상태코드 10 결제 성공*/<br />&nbsp;<br />#ord_no# : \u0027201404248112739\u0027<br />#pay_sn# : 332005769</p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;<br />&nbsp;</p>",
        "bbc_prio_rnk" : 0,
        "emerg_yn" : false
      } ],
      "total_count" : 10
    }
  }
}
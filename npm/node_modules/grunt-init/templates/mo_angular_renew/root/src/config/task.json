{
    "tasks" : {
        "ngtemplates" : {
            "tpl{%= controller_name %}" : {
                "src" : [
                    "lotte/resources_dev/layout/header.html",
                    "lotte/resources_dev/layout/sub_header.html",
                    "lotte/resources_dev/layout/footer.html",
                    "lotte/resources_dev/layout/lotte_side_category.html",
                    "lotte/resources_dev/layout/lotte_side_mylotte.html",
                    "lotte/resources_dev/layout/actionbar.html",

                    "lotte/resources_dev/common/comm_footer.html",
                    "lotte/resources_dev/layer/layer_search.html",
                    "lotte/resources_dev/{%= folder_name %}/{%= file_name %}_container.html"
                ],
                "dest" : "lotte/resources/<%= version %>/{%= file_name %}.template.js"
            }
        },

        "concat" : {
            "js{%= controller_name %}" : {
                "options" : {
                    "separator" : "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
                },
                "src" : [
                    "lotte/lib/angular/angular-route.min.js",
                    "lotte/lib/angular/angular-touch.min.js",
                    "lotte/resources_dev/{%= folder_name %}/{%= file_name %}.js"
                ],
                "dest" : "lotte/resources/<%= version %>/{%= file_name %}.js"
            }
        },

        "uglify" : {
            "js{%= controller_name %}" : {
                "options" : {
                    "sourceMap" : true,
                    "sourceMapIncludeSources" : true
                },
                "src" : "lotte/resources/<%= version %>/{%= file_name %}.js",
                "dest" : "lotte/resources/<%= version %>/{%= file_name %}.min.js"
            },
            "tpl{%= controller_name %}" : {
                "src" : "lotte/resources/<%= version %>/{%= file_name %}.template.js",
                "dest" : "lotte/resources/<%= version %>/{%= file_name %}.tpl.js"
            }
        },

        "cssmin" : {
            "css{%= controller_name %}" : {
                "src" : [
                    "lotte/resources_dev/{%= folder_name %}/{%= file_name %}.css"
                ],
                "dest" : "lotte/resources/<%= version %>/{%= file_name %}.min.css"
            }
        },

        "clean" : {
            "clean{%= controller_name %}" : [
                "lotte/resources/<%= version %>/{%= file_name %}.js",
                "lotte/resources/<%= version %>/{%= file_name %}.template.js"
            ]
        },

        "processhtml" : {
            "html{%= controller_name %}" : {
                "options": {
                    "data" : {
                        "version" : "<%= version %>"
                    }
                },
                "files" : {
                    "{%= folder_name %}/{%= file_name %}.html" : "{%= folder_name %}/{%= file_name %}_dev.html"
                }
            }
        }
    }
}

grunt.registerTask('{%= controller_name %}', ['ngtemplates:tpl{%= controller_name %}', 'concat:js{%= controller_name %}', 'uglify:js{%= controller_name %}', 'uglify:tpl{%= controller_name %}', 'cssmin:css{%= controller_name %}', 'clean:clean{%= controller_name %}', 'processhtml:html{%= controller_name %}']);